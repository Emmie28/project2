(self.webpackChunk=self.webpackChunk||[]).push([[1018],{71284:(e,t,n)=>{n.d(t,{a:()=>r});var r,i=n(27378),a=n(88056),o=n(95195);!function(e){let t;!function(e){e.supportsSVGDominantBaseline="supportsSVGDominantBaseline",e.supportsSetGoalsLoader="supportsSetGoalsLoader",e.onlyTrustedEvents="onlyTrustedEvents"}(t=e.Flag||(e.Flag={})),e.Context=i.createContext(a.Y.invariantContent("PlatformEnvironment"));e.Mock=class{constructor(){this.has=()=>!1,this.actions={openUrl:()=>o.right(void 0),openPopup:()=>o.right(void 0)}}}}(r||(r={}))},29847:(e,t,n)=>{n.d(t,{l5:()=>S,EJ:()=>A,T9:()=>O});var r=n(27378),i=n(71249),a=n(57050),o=n(40327),s=n(38983),l=n(5739),c=n(93508),d=n(77176),u=n(16118),m=n(32952),p=n(98403),h=n(44586),g=n(76974),f=n(24209),y=n(38062),v=n(50628),b=n(80900),C=n(17343),I=n(60797),x=n(69935),k=n(19751),E=n(5114);class S extends r.Component{constructor(){super(...arguments),this._state=this.props.state.pipe(c.O(void 0),d.U(((e,t)=>({state:e,key:t}))),u.G(),d.U((([e,t])=>{const n=this.props.stateToClassMapper(e.state,t.state);return{prev:{key:e.key,state:e.state,view:T(n.prev)},next:{key:t.key,state:t.state,view:T(n.next)}}}))),this._elements=s.h.create(w.empty),this._done=new m.xQ,this._subs=[]}componentDidMount(){const{children:e}=this.props;this._subs.push(this._state.pipe(d.U((({prev:t,next:n})=>{const r=e;return void 0===e?w.empty:[(0,o.pipe)(t.state,E.fromNullable,E.map((e=>r({state:e,view:t.view,type:"prev",done:()=>this._done.next("prev")}))),E.chain(E.fromNullable),E.map((e=>({key:t.key,entry:e})))),(0,o.pipe)(r({state:n.state,view:n.view,type:"next"}),E.fromNullable,E.map((e=>({key:n.key,entry:e}))))]}))).subscribe(p.wW(this._elements)),this._done.subscribe((e=>{"prev"===e&&this._elements.modify((([e,t])=>[E.none,t])),"next"===e&&this._elements.set(w.empty)})))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}render(){const{children:e,className:t,onMount:n,onMouseDown:a}=this.props;return e?r.createElement(l.F.div,{className:t,mount:n,onMouseDown:a},this._elements.view(i.array.compact).view((e=>e.map((e=>r.createElement(r.Fragment,{key:e.key},e.entry)))))):null}}const A=e=>({start:e,end:e});var w;function T({start:e,end:t}){return h.y.create((n=>{n.next(e);const r=requestAnimationFrame((()=>requestAnimationFrame((()=>n.next(t)))));return()=>cancelAnimationFrame(r)}))}!function(e){e.empty=[E.none,E.none]}(w||(w={}));const O=e=>{const t=e.content.pipe(d.U((t=>({className:e.classes.rendered,el:t,onTransitionEnd:a.constVoid}))),d.U(E.some),c.O(E.none),u.G(),d.U((([t,n])=>(0,o.pipe)(t,E.fold((()=>E.map(g.of)(n)),(t=>(0,o.pipe)(n,E.map((n=>{const r=new m.xQ;return f.T(g.of({className:e.classes.removing,el:t.el,onTransitionEnd:()=>r.next()}),y.S3(r.pipe(v.P()),b.H(e.timeout)).pipe(C.h(n)))})))))))),I.oA,x.B(),k.d({refCount:!0,bufferSize:1}));return r.createElement(l.F.div,{className:t.pipe(d.U((e=>e.className))),onTransitionEnd:t.pipe(d.U((e=>e.onTransitionEnd)))},t.pipe(d.U((e=>e.el))))}},62310:(e,t,n)=>{n.d(t,{C:()=>r});var r,i=n(27378),a=n(12187),o=n(44060),s=n(63969),l=n(40219),c=n(21474);!function(e){e.Regular=e=>i.createElement("span",Object.assign({},(0,a.Sh)(h.badge,e.className)),e.children),e.New=({className:t})=>i.createElement(e.Regular,{className:t},"New"),e.NewWrapper=({children:t})=>i.createElement("div",null,i.createElement(e.New,null),t),e.Premium=({className:t})=>i.createElement(e.Regular,Object.assign({},(0,a.Sh)(h.premiumBadge,t)),i.createElement(c.JO.PaidLink,{className:h.premiumBadgeIcon,width:12}),"PREMIUM"),e.Business=({className:t})=>i.createElement(e.Regular,Object.assign({},(0,a.Sh)(t)),"BUSINESS")}(r||(r={}));const d={display:"inline-block",padding:`${s.u.rem(o.Zh.BadgeY)} ${s.u.rem(o.Zh.BadgeX)}`,height:s.u.rem(o.L3.Badge),borderRadius:s.u.rem(l.mA),background:o.Il.CoreGreen10,color:o.Il.CoreGreen70,verticalAlign:"middle",textAlign:"center",textTransform:o._5.Badge,letterSpacing:o.LK.Badge,fontWeight:o.U9.Badge,fontSize:s.u.rem(o.Bf.Badge),lineHeight:s.u.rem(o.L3.Badge)},u={marginRight:o.Zh.BadgeX,maxWidth:s.u.rem(o.L3.Badge),maxHeight:s.u.rem(o.L3.Badge),minWidth:s.u.rem(o.L3.Badge),minHeight:s.u.rem(o.L3.Badge),verticalAlign:"top"},m={background:o.Il.CoreYellow20,color:o.Il.CoreYellow80},p={fill:o.Il.CoreYellow80},h=s.u.stylesheet({badge:[d],badgeIcon:[u],premiumBadge:[d,m],premiumBadgeIcon:[u,p]})},24811:(e,t,n)=>{n.d(t,{B:()=>C,N:()=>I});var r=n(27378),i=n(5739),a=n(12187),o=n(38983),s=n(8125),l=n(44060),c=n(63969),d=n(24588),u=n(40219),m=n(2291),p=n(76974),h=n(2844),g=n(98403),f=n(77176),y=n(93508),v=n(66310),b=n(19751);function C({value:e,initValue:t=m.g.MIN,wrapperClass:n,progressClass:o,borderClass:s,isLoading:l=p.of(!1)}){const c=I(e,t);return r.createElement(i.F.div,Object.assign({},(0,a.Sh)($.wrapper,n)),r.createElement(x,{width:c,progressClass:o,borderClass:s,isLoading:l}))}function I(e,t=m.g.MIN){const n=o.h.create(!1);return requestAnimationFrame((()=>requestAnimationFrame((()=>n.set(!0))))),h.aj(g.Dx(e),n,((e,n)=>n?e:t))}function x({width:e,progressClass:t,isLoading:n,borderClass:o}){const l=e.pipe(f.U((e=>`${e}%`))),c=e.pipe(f.U(m.g.prism.reverseGet),f.U((e=>e>0?`${e+.75}%`:0)),y.O(0)),d=n.pipe(v.w((e=>e?l:"0"))),u=e.pipe(f.U(m.g.isMin),b.d({bufferSize:1,refCount:!0}));return r.createElement(r.Fragment,null,r.createElement(i.F.div,Object.assign({},(0,a.Sh)($.borderContainer,u.pipe(f.U((0,s.RN)($.borderContainerZeroWidth,$.borderContainerWithMinWidth))),o),{style:{width:c}})),r.createElement(i.F.div,Object.assign({},(0,a.Sh)(t||$.defaultProgress,$.progressBar,u.pipe(f.U((0,s.RN)($.progressBarZeroWidth,$.progressBarWithMinWidth)))),{style:{width:l}})),r.createElement(i.F.div,{className:$.loading,style:{width:d}}))}const k=c.u.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),E={position:"relative",width:c.u.percent(100),height:c.u.rem(.25),borderRadius:c.u.rem(u.Jr),backgroundColor:d.xO},S={position:"relative",top:0,height:c.u.percent(100),borderRadius:c.u.rem(u.Jr),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},A={minWidth:c.u.px(4)},w={position:"absolute",backgroundColor:l.Il.CoreNeutral0},T={minWidth:c.u.px(6)},O={position:"absolute",minWidth:0,backgroundImage:d.b6,backgroundSize:"20px 20px",transition:"none",animation:`${k} 1s linear infinite`},N={backgroundImage:d.Xd},$=c.u.stylesheet({wrapper:[E,E],progressBar:[S],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[A],borderContainer:[S,w],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[T],loading:[S,O],defaultProgress:[N]})},77797:(e,t,n)=>{n.d(t,{Ys:()=>d});var r=n(27378),i=n(5739),a=n(12187),o=n(44060),s=n(63969),l=n(40219);const c=()=>r.createElement("svg",{className:g.svg2,viewBox:"0 0 12 9",width:"12",height:"9",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M1.386 4.115L4.561 7.29l5.81-5.81",stroke:"#FFF",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"})),d=({checked:e,className:t,children:n,name:i})=>r.createElement(u,{checked:e,name:i,className:t,checkedComponent:e=>r.createElement("div",{key:e?"checkbox1":"checkbox2",className:e?g.rectangleFilledBlue:g.rectangle},e&&r.createElement(c,null))},n),u=({checked:e,checkedComponent:t,className:n,children:o,name:s})=>r.createElement(i.F.label,Object.assign({},(0,a.Sh)(g.wrapper,n),{onClick:e=>e.stopPropagation()},s?{"data-name":`${s}-checkbox`}:{}),r.createElement(i.F.input,{type:"checkbox",checked:e,onChange:t=>e.modify((e=>!e)),className:g.inputCheckbox}),e.view(t),r.createElement("div",null,o)),m={display:"flex",marginRight:s.u.rem(.5),paddingTop:s.u.rem(.18),width:s.u.rem(1),height:s.u.rem(1),border:`2px solid ${o.Il.CoreNeutral30}`,borderRadius:s.u.rem(l.mA),backgroundColor:"transparent",alignItems:"center"},p={paddingTop:s.u.rem(.1),borderColor:o.Il.CoreBlue50,borderRadius:s.u.rem(l.mA),backgroundColor:o.Il.CoreBlue50},h={width:s.u.percent(100),height:s.u.percent(100)},g=s.u.stylesheet({wrapper:[{display:"flex",cursor:"default",alignItems:"center",userSelect:"none"}],rectangle:[m],rectangleFilledBlue:[m,p],inputCheckbox:[{margin:0,"-webkit-appearance":"none",appearance:"none"}],svg:[h],svg2:[{margin:"auto"}]})},95286:(e,t,n)=>{n.d(t,{L:()=>M});var r=n(27378),i=n(40327),a=n(38983),o=n(12187),s=n(5739),l=n(16118),c=n(66310),d=n(80900),u=n(17343),m=n(76974),p=n(95093),h=n(77176),g=n(28043),f=n(2834),y=n(38194),v=n(93508),b=n(598),C=n(2844),I=n(24713),x=n(50628),k=n(32952),E=n(18208),S=n(19962),A=n(5114),w=n(22232),T=n(8125),O=n(54338),N=n(71284),$=n(41488),F=n(29847),P=n(98403),D=n(47486);class j extends F.l5{}class M extends r.PureComponent{constructor(){super(...arguments),this._uuid=E.alphanumeric(12),this._initialState=!1,this._hovered=a.h.create(this._initialState),this._hidden=a.h.create(!this._initialState),this._listPosState=a.h.create({}),this._dropdownEl=null,this._subs=[],this._viewport=a.h.create(S.Rect.empty),this.hovered=this._hovered.pipe(l.G(),c.w((([e,t])=>t?d.H(this.props.showDelay).pipe(u.h(!0)):e?d.H(void 0===this.props.closeDelay?M.defaultProps.closeDelay:this.props.closeDelay).pipe(u.h(!1)):m.of(!1))),p.T(M._hoveredForce.pipe(h.U(A.exists((e=>e===this._uuid))))),g.x(),f.b((e=>e&&M._hoveredForce.next(A.some(this._uuid)))),f.b((e=>e&&this._hidden.set(!1))),y.B(),v.O(this._initialState)),this._handleClickForAppearanceHover=e=>{const t=e.target;if(S.isDisabled(t)||this.props.dontCloseOnClickInside)return;const n=!S.hasParentWithClassName(t,D.P.list);M._hoveredForce.next(n?A.some(this._uuid):A.none),this._hovered.set(n)},this._handleMouseEnterForAppearanceHover=()=>{this._hovered.set(!0)},this._handleClickForAppearanceClick=(e,t)=>{t&&!e.isTrusted||this._hovered.modify((e=>!e))},this._handleMouseEnterForAppearanceClick=e=>{const t=e.target;S.hasParentWithClassName(t,D.P.list)&&(M._hoveredForce.next(A.some(this._uuid)),this._hovered.set(!0))}}_getHAlign(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:`-${(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2}px`};default:return(0,w.vE)(e)}}_getVAlign(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return(0,w.vE)(e)}}calcDropdownPosition(){const e=this.props.align,t=this.props.vAlign;this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(e)),this._getVAlign(t)));const n="auto"===e,r="auto"===t;(n||r)&&requestAnimationFrame((()=>{if(this._dropdownEl){const i=this._viewport.get(),a=this._dropdownEl.getBoundingClientRect();this._listPosState.set(Object.assign(Object.assign({},this._getHAlign(n?i.right<a.right?"right":"left":e)),this._getVAlign(r?i.bottom<a.bottom?"top":"bottom":t)))}}))}componentDidMount(){this._subs.push(this.hovered.pipe(f.b((e=>{this.props.onVisibilityChange&&this.props.onVisibilityChange(e)})),b.c((0,i.pipe)(A.fromNullable(this.props.customPosition),A.fold((()=>m.of(A.none)),(({top:e,left:t})=>C.aj(P.Dx(e),P.Dx(t)).pipe(h.U(A.some))))))).subscribe(A.fold((()=>this.calcDropdownPosition()),(([e,t])=>this._listPosState.set({top:e,left:t})))),this.context.pipe(I.j("rect")).subscribe(P.wW(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(c.w(P.wX(this.props.forceHide.pipe(x.P())))).subscribe((()=>this._hidden.set(!0))))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}componentWillReciveProps(){this.calcDropdownPosition()}mapStateToClass(e,t){const n={start:"",end:""};return t?{prev:n,next:{start:D.P.transparent,end:""}}:{prev:{start:"",end:D.P.transparent},next:n}}_behaviour(e){return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:t=>this._handleClickForAppearanceClick(t,e),onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:()=>this._hovered.set(this._initialState)}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:()=>this._hovered.set(this._initialState)}}render(){const{label:e,theme:t={}}=this.props;return r.createElement(N.a.Context.Consumer,null,(n=>r.createElement(O.f.Context.Consumer,null,(i=>r.createElement(O.f.Context.Provider,{value:O.f.withValue(i,{hovered:this._hovered})},r.createElement("div",Object.assign({},(0,o.Sh)(D.P.wrapper,t.dropdownContainer),this._behaviour(n.has(N.a.Flag.onlyTrustedEvents))),e,r.createElement(j,{state:this.hovered,stateToClassMapper:this.mapStateToClass},(e=>e.state?r.createElement(L,Object.assign({key:"list",name:this.props.name,onTransitionEnd:"prev"===e.type?()=>this._hidden.set(!0):T.ZT},(0,o.Sh)(t.dropdownList,e.view,this._hidden.view((e=>e?D.P.hidden:""))),{mount:e=>this._dropdownEl=e,style:this._listPosState}),this.props.children):null))))))))}}M.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},M.Delimiter=()=>r.createElement("div",{className:D.P.delimiter}),M._hoveredForce=new k.xQ,M.contextType=$.l.Context;class L extends r.Component{constructor(){super(...arguments),this._elementState=O.f.emptyWithName(`${void 0!==this.context.name?`${this.context.name}/`:""}dropdown-${this.props.name}`)}render(){return r.createElement(O.f.Context.Provider,{value:this._elementState},r.createElement(s.F.div,Object.assign({},(0,o.Sh)(this.props.className,D.P.list),{style:this.props.style,mount:this.props.mount,role:"dropdown-list","data-name":"dropdown-"+this.props.name,onTransitionEnd:this.props.onTransitionEnd}),this.props.children))}}L.displayName="DropdownList",L.contextType=O.f.Context},47486:(e,t,n)=>{n.d(t,{P:()=>l});var r=n(44060),i=n(63969),a=n(40219);const o={position:"absolute",zIndex:a.VN,display:"flex",flexDirection:"column",margin:`${i.u.rem(.5)} 0`,padding:`${i.u.rem(.5)} 0`,minWidth:i.u.percent(100),borderRadius:i.u.rem(a.Jr),background:r.Il.CoreNeutral0,boxShadow:r.uc.Z200,opacity:1,transition:"opacity .2s"},s={margin:i.u.rem(.5),height:i.u.px(1),backgroundColor:r.Il.CoreNeutral20},l={wrapper:i.u.style({position:"relative"}),list:i.u.style(o),transparent:i.u.style({opacity:0}),hidden:i.u.style({display:"none"}),delimiter:i.u.style(s)}},29245:(e,t,n)=>{n.d(t,{dy:()=>c,In:()=>d});var r=n(27378),i=n(12187),a=n(34685),o=n(63969);const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function l(e,t=u.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return a.gK+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}const c=({children:e,emojiClassName:t,className:n})=>{const i=r.useCallback((e=>{null!==e&&(e.innerHTML=e.innerHTML.replace(s,(e=>l(e,t))))}),[t]);return r.createElement("span",{ref:i,className:n},e)},d=({id:e,className:t})=>{const[n,o]=r.useState(!1),[s,l]=r.useState(""),[c,d]=r.useState("");return r.useEffect((()=>{o(!1),d(function(e){return a.gK+e+".svg"}(e)),l((e=>{try{return String.fromCodePoint(...e.map((e=>parseInt(e,16))))}catch(e){return""}})(e.split("-")))}),[e]),n?r.createElement("span",Object.assign({},(0,i.Sh)(t,u.emojiFromIDAlt)),s):r.createElement("img",{className:t,src:c,alt:s,onError:()=>o(!0)})},u=o.u.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},5802:(e,t,n)=>{var r;n.d(t,{P:()=>r}),function(e){let t,n,r,i;!function(e){e.sparkles="sparkles",e.priority="priority"}(t=e.Icon||(e.Icon={})),function(e){e[e.lowest=0]="lowest",e[e.low=1]="low",e[e.average=2]="average",e[e.high=3]="high",e[e.highest=4]="highest"}(n=e.Priority||(e.Priority={})),function(e){e.top="top",e.bottomLeft="bottomLeft",e.bottomRight="bottomRight"}(r=e.Position||(e.Position={})),function(e){e.standard="standard",e.custom="custom"}(i=e.ViewType||(e.ViewType={})),e.DefaultTimeout="DefaultTimeout",e.TimeoutDisabled="TimeoutDisabled"}(r||(r={}))},50790:(e,t,n)=>{n.d(t,{DI:()=>S,SJ:()=>A});var r=n(27378),i=n(12187),a=n(22232),o=n(44060),s=n(63969),l=n(24588),c=n(40219),d=n(7046),u=n(21474),m=n(3656),p=n(5802);const h={position:"relative",width:s.u.percent(100)},g={position:"relative",margin:`0 0 ${s.u.rem(.5)}`},f={display:"flex",boxSizing:"border-box",padding:`${s.u.rem(1)} ${s.u.rem(2)} ${s.u.rem(1)} ${s.u.rem(.75)}`,width:s.u.percent(100),borderRadius:s.u.rem(c.fx),background:o.Il.BackgroundNotification,color:o.Il.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},y={width:s.u.percent(100)},v={display:"inline-block",width:s.u.percent(100)},b={margin:`${s.u.rem(-.5)} ${s.u.rem(.75)} ${s.u.rem(-.5)} 0`},C={position:"absolute",top:0,right:0,marginTop:s.u.rem(.5),marginRight:s.u.rem(.4),marginLeft:s.u.rem(.5)},I={stroke:l.FW},x={margin:`0 0 ${s.u.rem(.5)}`,color:o.Il.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:s.u.rem(o.xv.BodySize),lineHeight:s.u.rem(1.25)},k={marginTop:s.u.rem(-.1),marginBottom:s.u.rem(-.25),color:o.Il.CoreNeutral0,fontSize:s.u.rem(o.xv.BodySize),lineHeight:s.u.rem(1.25)},E=s.u.prefixedStylesheet("notifications",{wrapper:[h],notification:[g],flexibleNotification:[g,{display:"flex",width:"auto"}],contentWrapper:[f],miniContentWrapper:[f,{position:"relative",width:"auto"}],fullWidthNotification:[g,f,y],content:[v],miniContent:[{flex:1}],alertIcon:[b],closeIconWrapper:[C],closeIcon:[I],header:[x],description:[k]});var S,A;!function(e){e.Wrapper=({notification:t,onClose:i,children:a,theme:o={}})=>{r.useEffect((()=>t.actions.next("shown")),[]);const s={wrapper:o.wrapper||n.wrapper,content:void 0!==o.content?Object.assign({},n.content,o.content):n.content};return r.createElement("div",{className:s.wrapper},r.createElement(e.Base,{metadata:t.metadata,onClose:i,theme:s.content},a))},e.Base=({metadata:n,onClose:i,theme:a,children:o})=>r.createElement("div",{className:a.wrapper},t(n,a.icon),r.createElement("div",{className:a.content},o),!function(e){return e.priority===p.P.Priority.high||e.priority===p.P.Priority.highest}(n)&&r.createElement(e.CloseButton,{onClick:i,className:a.close}));const t=(t,n)=>{switch(t.icon){case p.P.Icon.sparkles:return r.createElement(u.JO.Sparkles,{className:n});case void 0:case p.P.Icon.priority:return r.createElement(e.PriorityIcon,{priority:t.priority,className:n});default:return(0,a.vE)(t.icon)}};e.AdHoc=({title:t,children:a,className:o,onClose:s})=>r.createElement("div",Object.assign({},(0,i.Sh)(n.content.wrapper,o)),r.createElement("div",{className:n.content.content},r.createElement(e.TitledContent,{title:t},a)),r.createElement(e.CloseButton,{onClick:s,className:n.content.close})),e.PriorityIcon=({priority:e,className:t})=>{switch(e){case p.P.Priority.lowest:case p.P.Priority.low:return r.createElement(u.JO.NotificationInfo,{className:t});case p.P.Priority.average:return r.createElement(u.JO.NotificationWarning,{className:t});case p.P.Priority.high:case p.P.Priority.highest:return r.createElement(u.JO.NotificationError,{className:t});default:return(0,a.vE)(e)}},e.CloseButton=({onClick:e,className:t})=>r.createElement(d.zx,{name:"closeNotification",className:t,onClick:e},r.createElement(u.JO.Close,{className:E.closeIcon,width:12})),e.TitledContent=({title:t,children:n})=>n?r.createElement(r.Fragment,null,r.createElement(m.P1,{className:E.header},t),r.createElement(e.Content,null,n)):r.createElement(m.P1,{className:E.description},t),e.Content=({children:e})=>r.createElement(m.XY,{className:E.description},e);const n={wrapper:E.wrapper,content:{wrapper:E.fullWidthNotification,icon:E.alertIcon,content:E.content,close:E.closeIconWrapper}}}(S||(S={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(r.useEffect((()=>e.actions.next("shown")),[]),r.createElement("div",{className:E.flexibleNotification},r.createElement(S.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:E.miniContentWrapper,icon:E.alertIcon,content:E.miniContent,close:E.closeIconWrapper}},n)))}(A||(A={}))},63847:(e,t,n)=>{n.d(t,{P:()=>v});var r=n(27378),i=n(12187),a=n(22232),o=n(19962),s=n(44060),l=n(63969),c=n(24588),d=n(71284),u=n(21474);const m=2*Math.PI*32,p=36,h="#f1f2fa",g="#fff",f=(e,t,n)=>e<t?t:e>n?n:e,y=e=>{switch(e){case v.IconSize.pdf:return 110;case v.IconSize.normal:return 52;case v.IconSize.outcome:return 32;case v.IconSize.small:return 24;case v.IconSize.extraSmall:return 16;default:return(0,a.vE)(e)}};class v extends r.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=v.ColorType.logan,fontSize:s=v.FontSize.normal,iconSize:l=v.IconSize.normal,description:c,theme:b=x}=this.props,C=[r.createElement("circle",{key:"circle",id:"circle",cx:p,cy:p,r:32,fill:"none"})],I=(e=>{switch(e){case v.FontSize.normal:return 32;case v.FontSize.small:return 24;default:return(0,a.vE)(e)}})(s),k=(e=>{switch(e){case v.IconSize.pdf:case v.IconSize.normal:case v.IconSize.outcome:return 5;case v.IconSize.small:return 3;case v.IconSize.extraSmall:return 10;default:return(0,a.vE)(e)}})(l),E=f(e,0,100),S=f(t,E,100),A=E*m/100,w=S*m/100,T=360*k/m,O=E?m-A-2*k:m;let N,$,F,P,D;const j=(e=>{switch(e){case v.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:h,outline:g};case v.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:h,outline:g};case v.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:h,outline:g};case v.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:h,outline:g};case v.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:h,outline:g};case v.ColorType.logan:return{type:"plain",value:"#a6adc9",background:h,outline:g};case v.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case v.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case v.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case v.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case v.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case v.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case v.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case v.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return(0,a.vE)(e)}})(n);if("plain"===j.type)N=j.value,$=N,F=j.outline,P=j.background,D=void 0===j.backgroundOpacity?1:j.backgroundOpacity;else{const e=j.value;this._gradientId=this._gradientId||"pb-gradient-"+v._nextGradientId++,C.push(r.createElement("linearGradient",Object.assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),r.createElement("stop",{stopColor:e.start,offset:"0%"}),r.createElement("stop",{stopColor:e.end,offset:"100%"}))),N=`url(#${this._gradientId})`,$="#2b2d38",F=j.outline,P=j.background,D=void 0===j.backgroundOpacity?1:j.backgroundOpacity}return r.createElement(d.a.Context.Consumer,null,(e=>r.createElement(u.a1,Object.assign({},(0,i.Sh)(x.iconWrapper,b.radialProgressBar),{width:y(l),viewBox:"0 0 72 72"}),r.createElement("defs",null,C),r.createElement("g",null,r.createElement("use",{className:x.valueCircle,stroke:E>=94&&F?F:P,strokeOpacity:D,strokeWidth:k,strokeDasharray:m,strokeDashoffset:m-w,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),F&&r.createElement("use",{className:x.valueCircle,stroke:F,strokeWidth:k,strokeDasharray:m,strokeDashoffset:O,transform:`rotate(${-90-T} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}),r.createElement("use",{className:x.valueCircle,stroke:N,strokeDasharray:m,strokeDashoffset:m-A,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:k,xlinkHref:"#circle"}),r.createElement("text",Object.assign({className:b.radialProgressText,y:"38",x:"36",fill:$,fontSize:I,fontStyle:"normal",textAnchor:"middle"},o.svgVerticalAlignment(e.has(d.a.Flag.supportsSVGDominantBaseline))),E),c&&r.createElement("text",{className:b.radialProgressDescription,fill:$,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},c)))))}}v._nextGradientId=0,function(e){let t,n,r;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(r=e.IconSize||(e.IconSize={}))}(v||(v={}));const b={width:l.u.percent(100),height:l.u.percent(100),fontWeight:"bold",fill:s.Il.CoreNeutral90},C={fontSize:l.u.rem(2),fill:s.Il.CoreNeutral90},I={fontWeight:"normal",fontSize:l.u.px(11),fill:c.UE},x=l.u.stylesheet({radialProgressBar:[b],radialProgressText:[C],radialProgressDescription:[I],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},42329:(e,t,n)=>{n.d(t,{$:()=>m});var r=n(59312),i=n(27378),a=n(5739),o=n(12187),s=n(22232),l=n(44060),c=n(63969),d=n(24588),u=n(98403);function m(e){var{wrapperClassName:t,variation:n,isIdle:o,ref:s}=e,l=(0,r.__rest)(e,["wrapperClassName","variation","isIdle","ref"]);return i.createElement(a.F.span,{role:"spinner",className:t},u.ab(n,(e=>i.createElement(m.Svg,Object.assign({},l,{type:e,isIdle:o})))))}!function(e){e.getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return(0,s.vE)(t)}},e.Svg=t=>{const{className:n,size:a=64,strokeWidth:l=2,type:c,name:d,isIdle:u}=t,m=(0,r.__rest)(t,["className","size","strokeWidth","type","name","isIdle"]),p=i.useRef(null),h=i.useRef(null);return i.useEffect((()=>((0,s.kG)(null!==p.current,"groupEl should be already created"),h.current=p.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>h.current.cancel())),[]),i.useEffect((()=>{(0,s.kG)(null!==h.current,"groupAnimation should be already created");const e=h.current;e.play&&(u?e.pause():"running"!==e.playState&&e.play())})),i.createElement("svg",Object.assign({"data-role":d},(0,o.Sh)(n),{viewBox:"25 25 50 50",width:a,height:a},m),i.createElement("g",{transform:"translate(50 50)"},i.createElement("g",{ref:p},i.createElement("circle",Object.assign({},(0,o.Sh)(A.path,u&&g,e.getClassName(A)(c)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:l,strokeMiterlimit:"10"})))))}}(m||(m={}));const p=200,h=c.u.keyframes({"0%":{strokeDasharray:`1px, ${c.u.px(p)}`,strokeDashoffset:c.u.px(1)},"50%":{strokeDasharray:`89px, ${c.u.px(p)}`,strokeDashoffset:c.u.px(-35)},"100%":{strokeDasharray:`89px, ${c.u.px(p)}`,strokeDashoffset:c.u.px(-124)}}),g="spinnerIdle",f={animation:`${h} 2s ease-in-out infinite`,strokeDasharray:`1px, ${c.u.px(p)}`,strokeDashoffset:c.u.px(1),strokeLinecap:"round",$nest:{[`&.${g}`]:{animationIterationCount:0}}},y={stroke:l.Il.CoreRed50},v={stroke:l.Il.CoreGreen50},b={stroke:l.Il.CoreBlue50},C={stroke:l.Il.CoreNeutral0},I={stroke:d.lh},x={stroke:d.AX},k={stroke:l.Il.CoreYellow60},E={stroke:d.FW},S={stroke:l.Il.CoreCyan50},A=c.u.stylesheet({path:[f],red:[y],green:[v],blue:[b],white:[C],violet:[I],yellow:[x],orange:[k],gray:[E],cyan:[S]})},31820:(e,t,n)=>{n.d(t,{g:()=>r});var r,i=n(32821),a=n(35108),o=n(77176),s=n(2834),l=n(5114),c=n(57050),d=n(60797),u=n(98403),m=n(76974),p=n(24209),h=n(66310),g=n(17343);function f(e,t,n,r){return i.Z.composeUnion({Some:i.Z.composeKnot({value:i.Z.composeKnot({root:()=>e.pipe(o.U((e=>(0,c.pipe)(y(r)(e),l.map((t=>({item:e,key:n(e),className:t})))))),d.oA),shadeItem:t})}),None:()=>m.of(l.none)},(t=>p.T(e.pipe(o.U(y(r))),t.pipe(h.w(u.b2.rafScheduler),g.h(l.none)))))}function y(e){return t=>(0,c.pipe)(t.visualState.from,l.chain((()=>e(t.visualState).shade)))}function v(e,t,n,r,a){return i.Z.composeKnot({root:()=>e.pipe(o.U((e=>{const{main:t,shade:n}=a(e.visualState);return{item:e,className:t,hasAnimation:l.isSome(t)||l.isSome(n)}}))),shade:f(e,n,r,a),item:t})}function b(e,t){return i.Z.composeKnot({root:()=>e.pipe(o.U((e=>e.visualState.transition.type))),staticItemChild:t})}!function(e){e.flow=function(e,t,n,r=(e=>e.id),s=a.CE.toOption(a.SA)){return i.Z.composeKnot({root:()=>e,animatedItem:i.Z.composeUnion({static:b(e,t),animating:v(e,t,n,r,s)},(()=>e.pipe(o.U((e=>({animatedItemKind:e.visualState.incomplete?"animating":"static"}))))))})},e.extend=function(e){return i.Z.extendActions(s.b((t=>{const n=t.action;if("animating"===n.key)if("root"===n.action.key)e(n.action.action);else if("shade"===n.action.key){const t=n.action.action.action.action;"root"===t.key&&e(t.action)}})))}}(r||(r={}))},54483:(e,t,n)=>{n.d(t,{G:()=>f});var r=n(27378),i=n(5739),a=n(32821),o=n(28043),s=n(77176),l=n(5114),c=n(15646),d=n(54338),u=n(85287);const m=a.UI.Grid.make((({slots:e})=>r.createElement(d.f.Context.Provider,{value:d.f.emptyWithName("card")},r.createElement(i.F.div,{role:"animation-wrapper",className:u.$4.animationWrapper},e.animatedItemBaseChild))));var p,h,g,f,y=n(22800);!function(e){e.make=function(e){return a.UI.Union.asOption(a.UI.Knot.make(t,{shadeItem:e}))};const t=a.UI.Grid.make((({slots:e,state:t,notify:n})=>r.createElement(i.F.Fragment,null,t.pipe(s.U((({item:a,key:o,className:s})=>r.createElement(i.F.div,{className:s,key:"shade"+t+o,onAnimationEnd:e=>{y.c.get(e.animationName)!==s&&u.bb.get(e.animationName)!==s||n({type:c.eI.Kind.completeTransitionTo,id:a.id,transitionId:a.visualState.transitionId})()}},e.shadeItem)))))))}(p||(p={})),function(e){e.make=function(e){return a.UI.Composite.make(m,a.UI.Knot.make(t,{shade:p.make(e),item:e}))};const t=a.UI.Grid.make((({state:e,slots:t,notify:n})=>r.createElement(i.F.Fragment,null,e.pipe(s.U((({item:e,className:a,hasAnimation:o})=>(o||requestAnimationFrame(n({type:c.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})),r.createElement(i.F.Fragment,null,t.shade,r.createElement(i.F.div,{className:l.toUndefined(a),key:"expanded"===e.visualState.transition.type?"focused":e.visualState.transition.type,onAnimationEnd:n({type:c.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===e.visualState.transition.type&&n({type:c.eI.Kind.startTransitionTo,id:e.id,transition:{type:"success",clockwise:e.visualState.transition.clockwise}})()}},t.item)))))))))}(h||(h={})),function(e){e.make=function(e){return a.UI.Composite.make(m,a.UI.Knot.make(t,{staticItemChild:e}))};const t=a.UI.Grid.make((({state:e,slots:t})=>r.createElement(i.F.Fragment,null,e.pipe(s.U((e=>r.createElement(i.F.div,{key:e},t.staticItemChild)))))))}(g||(g={})),function(e){e.make=function(e){return a.UI.Knot.make(t,{animatedItem:a.UI.Union.make("animatedItemKind",{static:g.make(e),animating:h.make(e)})})};const t=a.UI.Grid.make((({state:e,slots:t})=>r.createElement(i.F.Fragment,null,e.pipe(o.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),s.U((()=>r.createElement(i.F.Fragment,null,t.animatedItem)))))))}(f||(f={}))},7910:(e,t,n)=>{n.d(t,{sJ:()=>y,Pv:()=>v});var r=n(57050),i=n(40327),a=n(5114),o=n(32821),s=n(34442),l=n(26027),c=n(48521),d=n(35416),u=n(93494),m=n(2844),p=n(77176),h=n(93508),g=n(28043),f=n(57091);function y(e){return(t,n,r,i,a,s)=>o.Z.composeKnot({content:o.Z.fromSideEffect((n=>{b(t)(n);const r=n.action.action;"item"===r.key&&e(r.action)}),I(n,a,s)),root:C(n,r,i)})}function v(e,t){return{viewState:(n,r,o,l)=>d=>{const u=(0,i.pipe)(n,a.exists((e=>e===d.id)));return{cell:{item:t(r,o)(d),root:{height:{value:d.positionState.height,watched:d.positionState.watched&&!e.isScheduledToDispose(d),isValid:d.positionState.isHeightValid},position:{top:d.positionState.absTop,animationInProgress:d.positionState.animationInProgress},layer:u||c.o.isAnimatable(d)&&d.visualState.incomplete&&!(0,i.pipe)(d.visualState.from,a.exists((e=>"focused"===e)))?s.H.Layer.front:s.H.Layer.back}},root:d.id,hashCode:d.hashCode.bind(d),equals:e=>d.equals(e.cell.item.view),compare:e=>l.compare(d,e.cell.item.view)}}}}function b(e){return t=>{switch(t.action.action.action.kind){case s.H.ActionKind.changePosition:e.changePosition.next({id:t.key,height:t.action.action.action.height});break;case s.H.ActionKind.completePositionAnimation:e.completePositionAnimation.next(t.key)}}}const C=(e,t,n)=>o.Z.fromSideEffect((e=>{t.next(e.element)}),m.aj(n,e.view("cardsHeight")).pipe(p.U((([e,t])=>({disableUserActions:e,height:t}))),h.O({disableUserActions:!1,height:0}))),I=(e,t,n)=>{const o=e.view(u.v.Prism.items),s=e.pipe(p.U((e=>e.itemsOrd))),c=e.pipe(p.U((0,r.flow)(d.In.getActiveItem,a.map(l.X.getId)),g.x())),m=e.view(t.getActiveAlertsCount).view((e=>0===e));return o.pipe(f.a(c,m,s),p.U((([e,r,o,s])=>{const l=e.getAt(0),c=e.getAt(e.size-1);return e.filter((e=>e.positionState.visible||e.positionState.watched&&((e,t)=>!!(0,i.pipe)(t,a.exists((t=>t.id===e.id)))||(0,i.pipe)(t,a.exists((e=>e.positionState.isHeightValid))))(e,l))).map((e=>t.viewState(r,o,(0,i.pipe)(c,a.exists((t=>t.id===e.id))),s)(e)),n(s))})))}},84246:(e,t,n)=>{n.d(t,{Q:()=>g});var r,i=n(27378),a=n(5739),o=n(32821),s=n(75316),l=n(7995),c=n(79589),d=n(22391),u=n(35108),m=n(40111),p=n(77176),h=n(19157);!function(e){e.Mini=({card:e,actions:t,useBundleContainer:n=!1,twoLined:r=!1})=>i.createElement(a.F.Fragment,null,e.pipe(p.U((e=>i.createElement(h.P.SmartPhrases,{card:e,actions:t,useBundleContainer:n,twoLined:r})))))}(r||(r={}));var g,f=n(28043);!function(e){e.Card=e=>o.UI.Node.make((({view:t})=>{const n=t("view");return i.createElement(a.F.Fragment,null,n.pipe(f.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),p.U((a=>i.createElement(d.p.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},(o=>i.createElement(c.b.Card,{mount:o,miniCard:s.C.isSmartPhrasesItem(a)?i.createElement(r.Mini,{card:n,actions:e,useBundleContainer:!0}):i.createElement(m.A.Mini,{card:n,actions:e}),fullCard:s.C.isSmartPhrasesItem(a)?i.createElement(l.A.Full,{card:n,actions:e}):i.createElement(m.A.Full,{card:n,actions:e}),successCard:i.createElement(l.A.Success,{isLastCard:t("isLastCard"),actions:e}),feedbackForm:i.createElement(l.A.FeedbackForm,{cardData:a,actions:e}),mutedCard:i.createElement(l.A.MutedAlert,{cardData:a,actions:e}),actions:e,card:a,transitionClassMapper:u.a})))))))}))}(g||(g={}))},22373:(e,t,n)=>{n.d(t,{p:()=>r});var r,i=n(27378),a=n(5739),o=n(32821),s=n(7995),l=n(79589),c=n(22391),d=n(28043),u=n(77176);!function(e){e.Card=e=>o.UI.Node.make((({view:t})=>{const n=t("view");return i.createElement(a.F.Fragment,null,n.pipe(d.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),u.U((r=>i.createElement(c.p.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},(a=>i.createElement(l.b.Card,{mount:a,miniCard:i.createElement(s.A.Mini,{card:n,actions:e}),fullCard:i.createElement(s.A.Full,{card:n,actions:e}),successCard:i.createElement(s.A.Success,{isLastCard:t("isLastCard"),actions:e}),feedbackForm:i.createElement(s.A.FeedbackForm,{cardData:r,actions:e}),actions:e,card:r,mutedCard:i.createElement(s.A.MutedAlert,{cardData:r,actions:e})})))))))}))}(r||(r={}))},84974:(e,t,n)=>{n.d(t,{z:()=>F});var r=n(27378),i=n(5739),a=n(32821),o=n(57050),s=n(5114),l=n(63969),c=n(30763),d=n(26027),u=n(15646),m=n(86718),p=n(4890),h=n(74754),g=n(66346),f=n(1883),y=n(55636),v=n(7046),b=n(21474),C=n(3656),I=n(28706),x=n(77176),k=n(30522),E=n(54126);const S=({item:e,layoutDensity:t})=>{const n=(0,o.pipe)(t,p.j.Density.matchOrDefault(p.j.Density.minimal)((()=>$.minimalDescription),(()=>$.description)));return(0,o.pipe)(e.cardMeta.details,s.fold((()=>null),(t=>r.createElement(g.G3,{key:"card-actions-details",visualState:e.visualState,className:$.more},r.createElement(C.XY,Object.assign({className:n},h.y.renderToHtml(t)))))))},A=({wordCount:e,checked:t})=>r.createElement(C.H3,{className:t?$.wordCountChecked:$.wordCountUnchecked},e,"Â ",r.createElement(C.XY,{className:$.words},"words")),w=({item:e,layoutDensity:t,actions:n})=>{const i=m.f.isTextLengthCard(e.cardMeta)?e.cardMeta.wordCount:null;return r.createElement(r.Fragment,null,null!==i?r.createElement(A,{wordCount:i,checked:e.itemMeta.checked}):null,r.createElement(y.dk,{className:null!==i?$.descriptionWithHeader:void 0,description:e.cardMeta.explanation,actions:n,layoutDensity:t}))},T=({item:e,actions:t})=>(0,o.pipe)(e.cardMeta.details,s.fold((()=>null),(()=>r.createElement(O,{key:"card-actions-button",actions:t,item:e})))),O=({item:{id:e,visualState:t},actions:n,className:i})=>{const a=r.useContext(c.m.Context);return r.createElement(v.zx.Tertiary,{key:"toggle-more",name:(0,g.hC)(t,a),title:(0,g.hC)(t,a),className:i,onClick:I.hz((()=>{n.next({type:u.eI.Kind.startTransitionTo,id:e,transition:{type:d.X.isCardOpen(t)?"focused":"expanded",clockwise:!0}})}))},d.X.isCardOpen(t)?r.createElement(b.JO.Arrow,{key:"more",className:$.lessIcon}):r.createElement(b.JO.QuestionMark,{key:"expand"}),(0,g.hC)(t,a))},N=e=>a.UI.Knot.make((e=>a.UI.Grid.make((({state:t,slots:n})=>r.createElement(i.F.div,{className:$.expanded},t.pipe(x.U((t=>{return r.createElement(f.Z,{header:r.createElement(i.F.Fragment,null,n.header),visualState:t.visualState,onFocus:o.constVoid,theme:(a=t.renderOptions.layoutDensity,{wrapper:(0,o.pipe)(a,p.j.Density.matchOrDefault(p.j.Density.minimal)((()=>$.wrapper),(()=>{})))}),body:r.createElement(w,{item:t,actions:e,layoutDensity:t.renderOptions.layoutDensity}),mainActions:null,footer:r.createElement(S,{item:t,layoutDensity:t.renderOptions.layoutDensity}),subActions:r.createElement(T,{item:t,actions:e})});var a})))))))(e),{header:k.r}),$=l.u.stylesheet({wrapper:[E.kX],lessIcon:[E.A2],more:[y.IH],description:[y.LM],minimalDescription:[y.LM,y.Gq],descriptionWithHeader:[E.H4],wordCountChecked:[E.NR],wordCountUnchecked:[E.Lp],words:[E.ht],expanded:[E.TX]});var F,P=n(34190),D=n(3303),j=n(70100),M=n(79589),L=n(19751);!function(e){e.Card=e=>a.UI.Node.make((({view:t})=>{const n=t("view"),o=(0,P.cp)(n,e),s=(0,P.Hu)(n,e);return r.createElement(i.F.Fragment,null,n.pipe(L.$f(j.X.eq),x.U((t=>r.createElement(M.b.Card,{miniCard:a.UI.mount(D.m,o),fullCard:a.UI.mount(N(e),s),actions:e,card:t})))))}))}(F||(F={}))},98752:(e,t,n)=>{n.d(t,{fw:()=>r});var r,i=n(27378),a=n(57050),o=n(5739),s=n(5114),l=n(95195),c=n(8125),d=n(32821),u=n(81531),m=n(34190),p=n(30522),h=n(3303),g=n(26027),f=n(75316),y=n(47306),v=n(7995),b=n(79589),C=n(85287),I=n(22800),x=n(22391),k=n(35108),E=n(40111),S=n(34047),A=n(76720),w=n(28043),T=n(77176),O=n(85985);function N(e){return e.incomplete?(0,a.pipe)(e.from,s.filter((e=>"expanded"===e||"focused"===e)),s.filter((()=>"removed"===e.transition.type)),s.map((()=>({main:C.$4.focused2renderedMain,shade:e.transition.clockwise?C.$4.focused2renderedShadeClockwise:C.$4.focused2renderedShade}))),s.getOrElse((()=>(0,k.SA)(e)))):{}}function $(e){return e.incomplete?(0,a.pipe)(e.from,s.filter((e=>"expanded"===e||"focused"===e)),s.filter((()=>"removed"===e.transition.type)),s.map((()=>({main:I.S.focused2renderedBundleMain,shade:e.transition.clockwise?I.S.focused2renderedBundleShadeClockwise:I.S.focused2renderedBundleShade}))),s.getOrElse((()=>(0,k.a)(e)))):{}}!function(e){const t=e=>f.C.isTakeawayItem(e.card)?i.createElement(A.o.Full,{card:e.card,actions:e.actions,isChecklistItem:!0,isChecklistBundleItem:!!e.isBundle,cardHeader:e.cardHeader}):i.createElement(S.J,{card:e.card,actions:e.actions,isChecking:e.isChecking,transform:e.transform,isCheckingGlobal:e.isCheckingGlobal}),n=e=>(0,a.pipe)(e.card,f.C.match({super:(0,a.constant)(s.none),smartPhrases:(0,a.constant)(s.none),sentenceLevelBrandTones:(0,a.constant)(s.none),toneAI:(0,a.constant)(s.none),sdui:(0,a.constant)(s.none),takeaway:s.some,synfony:s.some,shortenIt:s.some,default:s.some}),s.fromEither,s.chain(a.identity),s.fold((()=>(r("ChecklistBundleCard").error("rendering fallback for card",e.card),i.createElement(i.Fragment,null))),(n=>i.createElement(t,Object.assign({},e,{card:n,isBundle:!0})))));e.Card=e=>d.UI.Node.make((({view:s})=>{const c=s("view"),u=(0,m.cp)(c,e),f=(0,m.Mt)(c,e),C=e=>(r("ChecklistAlertCard").error("rendering fallback for card",e),null),{isChecking:I,isCheckingGlobal:k,transform:S}=g.X.useCardStates(c),A=n=>i.createElement(t,{card:n,actions:e,isChecking:I,isCheckingGlobal:k,transform:S,cardHeader:d.UI.mount(p.r,f),isBundle:!1});return i.createElement(o.F.Fragment,null,c.pipe(w.x(((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type&&e.viewKind===t.viewKind)),T.U((t=>i.createElement(x.p.Provider,{card:c,cardVisibleViewportHeight:s("visibleViewportHeight")},(o=>i.createElement(b.b.Card,{mount:o,miniCard:d.UI.mount(h.m,u),fullCard:y.J.isBundle(t)?i.createElement(E.A.Full,{card:c.pipe(O.h(y.J.isBundle)),actions:e,renderCard:n}):(0,a.pipe)(t,g.X.match({super:C,smartPhrases:C,sentenceLevelBrandTones:C,toneAI:C,sdui:C,synfony:A,shortenIt:A,takeaway:A,default:A}),l.getOrElse((e=>(r("ChecklistAlertCard").error("Got an unexpected card type",e),i.createElement(i.Fragment,null))))),feedbackForm:i.createElement(v.A.FeedbackForm,{cardData:t,actions:e}),mutedCard:i.createElement(v.A.MutedAlert,{cardData:t,actions:e}),actions:e,card:t,transitionClassMapper:"bundle"===t.viewKind?$:N,removedCard:d.UI.mount(h.m,u)})))))))}));const r=(0,c.HP)(u.Monitoring.Logging.getLogger)}(r||(r={}))},34190:(e,t,n)=>{n.d(t,{Hu:()=>s,cp:()=>l,Mt:()=>d});var r=n(57050),i=n(32821),a=n(24713),o=n(77176);const s=(e,t)=>i.Z.composeKnot({root:i.Z.fromSideEffect(r.constVoid,e),header:d(e,t)}),l=(e,t)=>i.Z.composeKnot({root:i.Z.fromSideEffect((e=>t.next(e)),e.pipe(a.j("id"))),header:c(e)}),c=e=>i.Z.composeKnot({title:i.Z.fromSideEffect(r.constVoid,e.pipe(o.U((e=>Object.assign(Object.assign({},e.itemMeta),{isMinimized:!0}))))),label:i.Z.fromSideEffect(r.constVoid,e)}),d=(e,t)=>i.Z.composeKnot({title:i.Z.fromSideEffect(r.constVoid,e.pipe(a.j("itemMeta"),o.U((e=>Object.assign(Object.assign({},e),{isMinimized:!1}))))),controls:i.Z.fromSideEffect((e=>t.next(e)),e.pipe(o.U((e=>e.id))))})},30522:(e,t,n)=>{n.d(t,{y:()=>C,r:()=>I});var r=n(27378),i=n(57050),a=n(5739),o=n(77176),s=n(5114),l=n(32821),c=n(63969),d=n(15215),u=n(39210),m=n(7046),p=n(21474),h=n(3656),g=n(54126);const f=({checked:e})=>r.createElement(a.F.Fragment,null,e.pipe(o.U((e=>e?r.createElement(p.JO.ValidationOk,{width:16}):r.createElement(p.JO.ValidationWarning,{width:16}))))),y=l.UI.Node.make((({state:e})=>r.createElement(r.Fragment,null,r.createElement(f,{checked:e.pipe(o.U((({miniChecked:e,checked:t})=>(0,i.pipe)(e,s.getOrElse((()=>t))))))}),r.createElement(a.F.div,{className:x.titleContainer},e.pipe(o.U((e=>e.isMinimized?r.createElement(h.XY,{className:x.title},(0,i.pipe)(e.miniTitle,s.getOrElse((()=>e.title)))):r.createElement(h.H4,{className:x.title},e.title)))))))),v=l.UI.Node.make((({state:e})=>r.createElement(a.F.Fragment,null,e.pipe(o.U((e=>(0,i.pipe)(e.itemMeta.miniLabel,s.fold((()=>(0,i.pipe)(d.d.getAlertsCount(e),s.fold(i.constNull,(e=>r.createElement(h.x4,{className:x.counter,"data-name":"checklist-item/count"},e))))),(t=>r.createElement(h.x4,{className:(0,i.pipe)(e.itemMeta.miniChecked,s.getOrElse((()=>e.itemMeta.checked)))?x.labelChecked:x.labelUnchecked},t)))))))))),b=({left:e,right:t,showActivateButton:n})=>r.createElement(a.F.div,{className:x.headerContainer},e,r.createElement(a.F.div,{className:g.Sc},t),n?r.createElement("div",{className:g.Tu},r.createElement(p.JO.Arrow,{className:x.activeTopIcon}),r.createElement(p.JO.Arrow,{className:x.activeBottomIcon})):null),C=l.UI.Knot.make(l.UI.Grid.make((({slots:e})=>r.createElement(b,{left:e.title,right:e.label,showActivateButton:!0}))),{title:y,label:v}),I=l.UI.Knot.make(l.UI.Grid.make((({slots:e})=>r.createElement(b,{left:e.title,right:e.controls,showActivateButton:!1}))),{title:y,controls:l.UI.Node.make((({notify:e,state:t})=>r.createElement(a.F.Fragment,null,t.pipe(o.U((t=>r.createElement(m.zx.Ghost,{name:"collapse",onClick:e({type:u.C.Type.collapseButtonClick,id:t})},r.createElement(p.JO.Arrow,{direction:p.n4.up}))))))))}),x=c.u.stylesheet({headerContainer:[g.lZ],titleContainer:[g.XE],title:[g.Cx],labelChecked:[g.i0],labelUnchecked:[g.D],counter:[g.e],activeTopIcon:[g.Lf],activeBottomIcon:[g.rx]})},3303:(e,t,n)=>{n.d(t,{m:()=>u});var r=n(27378),i=n(5739),a=n(32821),o=n(63969),s=n(15646),l=n(77176),c=n(30522),d=n(54126);const u=a.UI.Knot.make(a.UI.Grid.make((({slots:e,notify:t,state:n})=>r.createElement(i.F.div,{className:m.mini,onClick:n.pipe(l.U((e=>t({type:s.lY.Type.miniItemClick,id:e}))))},e.header))),{header:c.y}),m=o.u.stylesheet({mini:[d.oH]})},54126:(e,t,n)=>{n.d(t,{TX:()=>s,kX:()=>l,A2:()=>c,NR:()=>d,Lp:()=>u,ht:()=>m,H4:()=>p,lZ:()=>h,Sc:()=>f,XE:()=>y,Cx:()=>v,i0:()=>b,D:()=>C,e:()=>I,Tu:()=>k,Lf:()=>E,rx:()=>S,oH:()=>A});var r=n(44060),i=n(63969),a=n(40219);const o={display:"flex",boxSizing:"border-box",borderRadius:i.u.rem(a.Jr),boxShadow:r.uc.Z100,userSelect:"none",transform:"translateY(0)",background:r.Il.CoreNeutral0,overflow:"hidden"},s=Object.assign(Object.assign({},o),{flexDirection:"column"}),l={padding:`0 ${i.u.rem(.5)} ${i.u.rem(.5)} ${i.u.rem(1)}`},c={transform:"rotate(180deg)"},d={color:r.Il.CoreGreen60},u={color:r.Il.CoreRed50},m={display:"inline-block"},p={marginTop:i.u.rem(.5)},h={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:i.u.rem(2.5),width:i.u.percent(100),padding:`0 ${i.u.rem(.5)} 0 0`,boxSizing:"border-box",position:"relative"},g="checklistMiniRight",f=i.u.joinClasses([g,i.u.style({display:"flex",alignItems:"center",flexShrink:0,flexGrow:1,alignSelf:"stretch",justifyContent:"flex-end"})]),y={minWidth:0},v={fontSize:i.u.rem(r.xv.BodySize),whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",marginRight:i.u.rem(.5)},b={color:r.Il.CoreGreen70},C={color:r.Il.CoreRed50},I={color:r.Il.CoreNeutral40,display:"flex",alignItems:"center",justifyContent:"center",width:i.u.rem(1)},x="checklistMiniActivateBtn",k=i.u.joinClasses([x,i.u.style({position:"absolute",right:i.u.rem(.5),width:i.u.rem(1),transform:`translate(${i.u.rem(-.5)})`,opacity:0})]),E={display:"flex",margin:`${i.u.rem(.05)} 0 ${i.u.rem(-1.25)}`,transform:"rotate(180deg)"},S={display:"flex",height:"auto"},A=Object.assign(Object.assign({},o),{cursor:"pointer",$nest:{"&:hover":{background:r.Il.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:i.u.seconds(.2)},[`&:hover .${x}`]:{opacity:1},"&:hover .checklistMiniRight":{opacity:0}}})},34442:(e,t,n)=>{n.d(t,{H:()=>w});var r=n(27378),i=n(5739),a=n(12187),o=n(19962),s=n(32821),l=n(63969),c=n(40219),d=n(16782),u=n(41398),m=n(66310),p=n(24209),h=n(49708),g=n(85985),f=n(17343),y=n(76974),v=n(13444),b=n(50628),C=n(40151),I=n(2834),x=n(85089),k=n(28043),E=n(85255),S=n(77176),A=n(93508);var w;!function(e){let t,n;!function(e){e.front="front",e.back="back"}(t=e.Layer||(e.Layer={})),function(e){e.completePositionAnimation="completePositionAnimation",e.changePosition="changePosition"}(n=e.ActionKind||(e.ActionKind={})),e.Cell=s.UI.Grid.make((({slots:e,state:s,notify:l})=>{const c=new d.t,w=s.pipe(u.M(c),m.w((([e,t])=>e.position.animationInProgress?p.T(h.R(t,"transitionend").pipe(g.h((e=>e.target===t&&"transform"===e.propertyName)),f.h(void 0)),y.of(void 0).pipe(v.g(200))).pipe(b.P()):C.E)),I.b(l({kind:n.completePositionAnimation}))),T=s.pipe(u.M(c),m.w((([e,t])=>e.height.watched?x.YC(t).pipe(g.h((t=>e.height.value!==t.height||!e.height.isValid||t.height>0))):C.E)),k.x(),I.b((({height:e})=>l({kind:n.changePosition,height:e})())));E.P.useSubscriptionTo(p.T(w,T));const O=s.pipe(S.U((e=>e.position.top)),S.U((e=>o.CSS.translateY(e))),k.x()),$=s.pipe(S.U((e=>e.layer===t.front?1:0)),k.x()),F=s.pipe(S.U((({position:e})=>e)),k.x(((e,t)=>e.top===t.top)),S.U((({animationInProgress:e})=>e?N.animate:void 0)),A.O(void 0));return r.createElement(i.F.div,Object.assign({},(0,a.Sh)(N.item,F),{style:{transform:O,zIndex:$},mount:e=>{null!==e&&c.next(e)}}),e.item)}))}(w||(w={}));const T={position:"absolute",boxSizing:"border-box",width:l.u.percent(100),contain:"layout"},O={transition:`transform ${l.u.seconds(c.v4/1e3)} linear`},N=l.u.stylesheet({item:[T],animate:[O]})},95983:(e,t,n)=>{n.d(t,{vM:()=>m,aW:()=>r});var r,i=n(71249),a=n(57050),o=n(40327),s=n(22232),l=n(83078),c=n(5114),d=n(95195),u=n(89943);function m(e,t){return t.reduce(((t,n)=>{const r="function"==typeof e?e(n):n[e];let i=t.get(r);return i||(i=[],t.set(r,i)),i.push(n),t}),new Map)}!function(e){e.URI="ImmutableSortedMap",e.create=function(t,n,r){const i=Array.isArray(t)?new Map(t.map((e=>[n(e),e]))):t,a=e.orderKeys(i,r);return i.forEach((e=>(0,s.kG)(h(e),"init value should implement IEquals",(()=>JSON.stringify(e))))),new p(i,a,r,n)},e.empty=function(e,t){return new p(new Map,[],t,e)},e.diff=function(e,t){const n=e.clear();return e.reduce((({added:e,preserved:n,removed:r,changed:i},a,o)=>{const s=e.has(o)?e.remove(o):e;if(t.has(o)){const e=a.equals(l.unsafeGet(t.get(o)).value);return{removed:r,added:s,preserved:e?n.add(a):n,changed:e?i:i.add(a)}}return{removed:r.add(a),added:s,preserved:n,changed:i}}),{removed:n,added:t,preserved:n,changed:n})},e.unsafeGet=function(e,t){return l.unsafeGet(t.get(e)).value},e.unsafeGetBy=function(e){return t=>l.unsafeGet(t.get(e)).value},e.unsafeGetAt=function(e,t){return l.unsafeGet(t.getAt(e))},e.unsafeGetAtBy=function(e){return t=>l.unsafeGet(t.getAt(e))},e.nonEmpty=function(e){return e.size>0},e.lowerBound=function(e,t){let n=-1,r=e.size;for(;n+1!==r;){const i=n+(r-n>>1);t(l.unsafeGet(e.getAt(i)))?n=i:r=i}return n+1},e.createKeySorter=function(e,t){return(n,r)=>t(e(n),e(r))},e.orderKeys=function(t,n){return Array.from(t.keys()).sort(e.createKeySorter((e=>t.get(e)),n))},e.takeByKey=function(e,t,n){const r=(0,o.pipe)(n,i.findIndex((t=>t===e))),a=c.fromNullable(t.get(e));return(0,s.kG)(c.isNone(r)&&c.isNone(a)||c.isSome(r)&&c.isSome(a),"unsynced hash&order"),l.map2(((e,t)=>({index:e,value:t})))(r,a)},e.getFoldableWithIndex=function(){return{URI:e.URI,_E:void 0,reduce:(e,t,n)=>e.reduce(n,t),foldMap:e=>(t,n)=>t.reduce(((t,r)=>e.concat(t,n(r))),e.empty),reduceRight:(e,t,n)=>e.reduce(((e,t)=>n(t,e)),t),reduceWithIndex:(e,t,n)=>e.reduce(((e,t,r)=>n(r,e,t)),t),reduceRightWithIndex:(e,t,n)=>e.reduce(((e,t,r)=>n(r,t,e)),t),foldMapWithIndex:e=>(t,n)=>t.reduce(((t,r,i)=>e.concat(t,n(i,r))),e.empty)}}}(r||(r={}));class p{constructor(e,t,n,r){this._hash=e,this._order=t,this._comp=n,this._getKey=r,(0,s.kG)(e.size===t.length,"every hash entry should has order")}get(e){return r.takeByKey(e,this._hash,this._order)}getIndex(e){return c.fromPredicate((e=>e>-1))(this._order.indexOf(e))}getAt(e){return c.fromNullable(this._hash.get(this._order[e]))}has(e){return this._hash.has(e)}find(e,t=0){if(t<0)return c.none;for(let n=t;n<this._order.length;n++){const t=this._order[n],r=this._hash.get(t);if(e(r))return c.some({index:n,value:r})}return c.none}findFrom(e,t){return this.find(e,t)}findRight(e,t){if(t&&t>=this._order.length)return c.none;for(let n=t||this._order.length-1;n>=0;n--){const t=this._order[n],r=this._hash.get(t);if(e(r))return c.some({index:n,value:r})}return c.none}findRightFrom(e,t){return this.findRight(e,t)}map(e,t=this._comp){const n=new Map;this._order.forEach(((t,r)=>{const i=this._hash.get(t),a=e(i,t,r);(0,s.kG)(h(a),"transformed value should implement IEquals",(()=>JSON.stringify(a))),n.set(t,a)}));const i=r.orderKeys(n,t);return new p(n,i,t,this._getKey)}mapTo(e){return this._order.map(((t,n)=>e(this._hash.get(t),t,n)))}filter(e){const t=new Map,n=this._order.filter((n=>{const r=this._hash.get(n),i=e(r,n);return i&&t.set(n,r),i}));return new p(t,n,this._comp,this._getKey)}reduce(e,t){return this._order.reduce(((t,n,r)=>e(t,this._hash.get(n),n,r)),t)}modifyWith(e,t){const n=new Map(this._hash),i=this._order.slice(),a=(e,a)=>{const o=r.takeByKey(a,n,i),l=t(a,e,o);(0,s.kG)(h(l),"modified value should implement IEquals",(()=>JSON.stringify(l))),n.set(a,l),c.isNone(o)&&i.push(a)};return e instanceof Array?e.forEach((([e,t])=>a(t,e))):e.forEach(a),i.sort(r.createKeySorter((e=>n.get(e)),this._comp)),new p(n,i,this._comp,this._getKey)}patchWith(e,t){const n=new Map(this._hash),i=this._order.slice(),d=(e,d)=>{const u=r.takeByKey(d,n,i),m=t(d,e,u);(0,s.kG)(l.forAll(h)(m),"patched value should implement IEquals",(()=>JSON.stringify(m))),(0,o.pipe)(m,c.fold((()=>{(0,o.pipe)(u,c.fold(a.constVoid,(({index:e})=>{n.delete(d),i.splice(e,1)})))}),(e=>{n.set(d,e),c.isNone(u)&&i.push(d)})))};return e instanceof Array?e.forEach((([e,t])=>d(t,e))):e.forEach(d),i.sort(r.createKeySorter((e=>n.get(e)),this._comp)),new p(n,i,this._comp,this._getKey)}add(e){const t=new Map(this._hash),n=this._order.slice();return(Array.isArray(e)?e:[e]).forEach((e=>{const r=this._getKey(e);(0,s.kG)(h(e),"added value should implement IEquals",(()=>JSON.stringify(e))),t.set(r,e),-1===n.indexOf(r)&&n.push(r)})),n.sort(r.createKeySorter((e=>t.get(e)),this._comp)),new p(t,n,this._comp,this._getKey)}update(e,t){return(0,o.pipe)(this.get(e),c.fold((()=>d.left(`Provided key ${e} not found in the map`)),(({value:n})=>{const i=new Map(this._hash),a=this._order.slice();return i.set(e,t(n)),a.sort(r.createKeySorter((e=>i.get(e)),this._comp)),d.right(new p(i,a,this._comp,this._getKey))})))}remove(e){(0,s.kG)(this.has(e),`can not remove unknown key: ${e}`);const t=new Map(this._hash);t.delete(e);const n=u.omit(e,this._order);return new p(t,n,this._comp,this._getKey)}clear(){return new p(new Map,[],this._comp,this._getKey)}hashCode(){let e=7;return this._hash.forEach((t=>e+=t.hashCode())),e}equals(e){return this.hashCode()===e.hashCode()&&this.size===e.size&&this.values().every(((t,n)=>t.equals(l.unsafeGet(e.getAt(n)))))}values(){return this._order.map((e=>this._hash.get(e)))}keys(){return this._order}get size(){return this._order.length}}function h(e){return!(!e||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}},5920:(e,t,n)=>{n.d(t,{l:()=>r});var r,i=n(40327),a=n(5114);!function(e){e.update=function(e,t,n){return e.update(t,n)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,n){return(0,i.pipe)(e.get(t),a.filter((e=>n(e.value))))},e.find=function(e,t){return e.find(t)}}(r||(r={}))},26027:(e,t,n)=>{n.d(t,{X:()=>E});var r=n(35214),i=n(57050),a=n(40327),o=n(5114),s=n(22232),l=n(95195),c=n(45701),d=n(73975),u=n(8125),m=n(81531),p=n(88097),h=n(98637),g=n(77176),f=n(28043),y=n(19751),v=n(85985),b=n(36156),C=n(17594),I=n(55567),x=n(75316),k=n(4890);class E{constructor(e,t,n,r,i,s,l,c,d,u,m,p,h,g,f,y){this.id=e,this.alerts=t,this.activeAlertIndex=n,this.activeHighlightIndex=r,this.positionState=i,this.visualState=s,this.meta=l,this.lensId=c,this.renderOptions=d,this.muteCategory=u,this.order=m,this.initialAlertId=p,this.removedAlertsIds=h,this.cachedTransform=g,this.userInput=f,this.synfonySelection=y,this.kind=E.Kind,this.activeAlert=x.C.getActiveAlert(this),this.transform=(0,a.pipe)(this.cachedTransform,o.map((e=>e.labels)))}get activeAlertRemoved(){return x.C.activeAlertRemoved(this)}get scheduledToDispose(){return x.C.willBeDisposed(this,this.removedAlertsIds)}hashCode(){return E.hashCode(this)}equals(e){return E.eq.equals(this,e)}toJSON(){return Object.assign(Object.assign({},this),{renderOptions:k.j.toJSON(this.renderOptions)})}}!function(e){let t,n;function k(e){return e.activeAlert.alertType===p.bZ.Type.Synfony}function E(e){return e.activeAlert.type===C.$.Type.default}function S(e){return o.isSome(e.activeAlert.cardDSL)}e.Kind="AlertCard",e.isPriority=e=>C.$.isPriority(e.activeAlert),e.updateAlerts=(t,n,r,i)=>a=>new e(a.id,t,r,i,a.positionState,a.visualState,a.meta,a.lensId,a.renderOptions,a.muteCategory,a.order,a.initialAlertId,n,a.cachedTransform,a.userInput,a.synfonySelection),e.updateUserInput=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,t,n.synfonySelection),e.changeVisualState=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,t,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection),e.changePosition=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,t,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection),e.changeMeta=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,t,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,n.synfonySelection),e.changeTransform=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,t,n.userInput,n.synfonySelection),e.changeSynfonySelection=t=>n=>new e(n.id,n.alerts,n.activeAlertIndex,n.activeHighlightIndex,n.positionState,n.visualState,n.meta,n.lensId,n.renderOptions,n.muteCategory,n.order,n.initialAlertId,n.removedAlertsIds,n.cachedTransform,n.userInput,t),e.canHydrate=e=>!(e.meta.checking!==I.n.CheckingState.Idle||x.C.activeAlertRemoved(e)),e.getId=function(e){return e.id},function(e){e.getRemoveAlerts=(e,t)=>(n,r)=>s=>{const l=new Set(n.map((e=>e.id)));return x.C.hasAnyOfAlerts(l)(s)?e.remove(s,[s.activeAlert],(0,a.pipe)(r,o.map((e=>t.compare(s,e)>0)),o.getOrElse(i.constTrue))):s},e.getChangePosition=function(e){return{changePosition:t=>n=>e.changePosition(n,t)}},e.getTransitionTo=function(e){return{transitionTo:t=>n=>e.transitionTo(n,t)}},e.getCompleteTransition=function(e){return{completeTransition:t=>n=>e.completeTransition(n,t)}},e.getRemove=function(e){return{remove:(t,n)=>r=>t(r)?e.remove(r,[r.activeAlert],n(r)):r}},e.getUpdateWithAlert=function(e){return{updateWithAlerts:t=>n=>e.updateWith(n,t)}},e.getSelect=function(e){return{select:(t,n)=>r=>e.selectFirstAlert(r,t,n),selectByAlert:(t,n,r)=>i=>e.select(i,n,t,r),unselect:(t,n)=>r=>e.unselect(r,t,n)}}}(t=e.Capabilities||(e.Capabilities={})),function(e){e.default="default",e.super="super",e.takeaway="takeaway"}(n=e.Type||(e.Type={})),(0,s.L0)(null),e.isSynfonyView=k,e.isDefaultView=E,e.isSDUIView=S,e.match=function(e){return t=>{if(S(t))return l.right(e.sdui(t));if(function(e){return e.activeAlert.type===C.$.Type.super}(t))return l.right(e.super(t));if(function(e){return e.activeAlert.type===C.$.Type.smartPhrases}(t))return l.right(e.smartPhrases(t));if(function(e){return e.activeAlert.type===C.$.Type.takeaway}(t))return l.right(e.takeaway(t));if(function(e){return e.activeAlert.type===C.$.Type.sentenceLevelBrandTones}(t))return l.right(e.sentenceLevelBrandTones(t));if(k(t))return l.right(e.synfony(t));if(function(e){return e.activeAlert.type===C.$.Type.shortenIt}(t))return l.right(e.shortenIt(t));if(function(e){return e.activeAlert.type===C.$.Type.toneAI}(t))return l.right(e.toneAI(t));if(E(t))return l.right(e.default(t));const n={lensId:t.activeAlert.lensId,lensType:t.activeAlert.lensType};return l.left(new Error(`Cannot render unknown card type with alert: [${JSON.stringify(n,null,2)}]`))}},e.eq=x.C.eq,e.hashCode=e=>(0,b.NO)({itemHashCode:x.C.hashCode(e),synfonySelection:(0,a.pipe)(e.synfonySelection,o.getOrElse((()=>[])),(e=>e.join(",")))});const A=c.getMonoid();let w;e.ord=(0,r.fold)(A)([(0,a.pipe)(c.ordNumber,c.contramap((e=>e.order))),(0,a.pipe)(c.ordString,c.contramap((e=>e.initialAlertId)))]),e.isCardOpen=function(e){return"expanded"===e.transition.type||(0,a.pipe)(e.from,o.exists((t=>"expanded"===t&&"rendered"===e.transition.type)))},e.isCardPresuccess=function(e){return"presuccess"===e.transition.type},function(e){e.eq=d.fromEquals(((e,t)=>e.type===t.type&&e.clockwise===t.clockwise))}(w=e.Transition||(e.Transition={})),e.hasTransform=function(e){return o.isSome(e.transform)},e.hasFullSentenceTransform=function(e){return p.eT.isFullSentence(e.activeAlert.extraProperties.cardType)&&(0,a.pipe)(e.transform,o.exists(h.b$.isFullSentence))},e.hasOneGapTransform=function(e){return(0,a.pipe)(e.transform,o.exists(h.b$.isOneGap))},e.hasSynfonyTransform=function(e){return p.eT.isSynfony(e.activeAlert.extraProperties.cardType)},e.isSmartPhrases=function(e){return C.$.isSmartPhrases(e.activeAlert)},e.isTakeaway=function(e){return C.$.isTakeaway(e.activeAlert)},e.isSimple=function(e){return p.eT.isSimple(e.activeAlert.extraProperties.cardType)},e.isEligibleForDismissSurvey=function(e){return e.activeAlert.dismissSurvey},e.isEligibleForAcceptSurvey=function(e){return e.activeAlert.acceptSurvey},e.miniTitle=function(e,t){return C.$.isTakeaway(e.activeAlert)&&o.isNone(e.activeAlert.takeawayFeedback)?t.card.takeaway.defaultTitle:C.$.isToneAI(e.activeAlert)?t.card.toneAI.toneAlternative:e.activeAlert.miniCardTitle},e.useCardStates=e=>({isChecking:e.pipe(g.U((e=>e.meta.checking===I.n.CheckingState.Checking)),f.x(),y.d({bufferSize:1,refCount:!0})),isCheckingGlobal:e.pipe(g.U((e=>e.meta.checking===I.n.CheckingState.Full)),f.x(),y.d({bufferSize:1,refCount:!0})),transform:e.pipe(g.U((({transform:e})=>e)),v.h(o.isSome),y.$f(o.getEq(h.b$.eq)))}),e.foldCard=l.getOrElse((e=>(T("CardComponent").error("Got an unexpected card type",e),null)));const T=(0,u.HP)(m.Monitoring.Logging.getLogger)}(E||(E={}))},55567:(e,t,n)=>{n.d(t,{n:()=>r});var r,i=n(2291),a=n(36156);!function(e){let t;!function(e){e.Idle="idle",e.Checking="checking",e.Full="full"}(t=e.CheckingState||(e.CheckingState={}));class n{constructor(e,t,n,r,i){this.percentile=e,this.explanation=t,this.checking=n,this.ranges=r,this.showMuteQuotedAdvice=i}equals(e){return this.hashCode()===e.hashCode()}hashCode(){return(0,a.NO)({percentile:i.g.prism.reverseGet(this.percentile),explanation:this.explanation,checking:this.checking,ranges:this.ranges.map((e=>e.meta.id)).join(),showMuteQuotedAdvice:this.showMuteQuotedAdvice})}}e.Impl=n,e.empty=(e="",r=i.g.MIN,a=t.Idle,o=[])=>new n(r,e,a,o,!1),e.create=({explanation:e="",percentile:r=i.g.MIN,checking:a=t.Idle,ranges:o=[]})=>new n(r,e,a,o,!1)}(r||(r={}))},91549:(e,t,n)=>{n.d(t,{R:()=>r});var r,i=n(57050),a=n(40327),o=n(45701),s=n(5114),l=n(22232),c=n(73975),d=n(88097),u=n(17594),m=n(26027),p=n(55567),h=n(20594),g=n(75316),f=n(48521);!function(e){let t;e.Kind="AlertsBundle",e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title},e.ord=(0,a.pipe)(o.ordNumber,o.contramap((0,i.flow)((e=>e.activeAlert.bundleInfo),s.fold((()=>Number.MAX_SAFE_INTEGER),(e=>e.rank))))),e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return(0,l.vE)(e.visualState.transition.type)}},e.getAlertOutcomeBundle=e=>(0,a.pipe)(e.bundleInfo,s.fold((()=>({id:"other",title:"Other"})),(e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title})))),e.eq={equals:(e,t)=>g.C.eq.equals(e,t)&&s.getEq(c.eqString).equals(e.lensId,t.lensId)},function(t){const i=t=>(n,r)=>Object.assign({id:n,kind:e.Kind,bundleInfo:t,activeAlert:g.C.getAlertByIndex(r.activeAlertIndex,r.alerts),transform:(0,a.pipe)(r.cachedTransform,s.map((e=>e.labels))),equals(t){return e.eq.equals(this,t)},hashCode(){return g.C.hashCode(this)}},r);t.create=function(t,o,c,m){const p=r(t),y=e=>h.Mq.getCreate(i(e),o,p,m,c),v=n(c);return{create:e=>(t,n,r,i,a,o,l)=>y(a)(t,n,r,i,h.Mq.getApplicableCardMeta(n[r],o,c),e,s.some(o),l),createAdded:e=>(t,n,r,i)=>{const a=f.o.VisualState.initial({type:"added",clockwise:!0},!0);return y(n)(t,r,0,0,h.Mq.getApplicableCardMeta(r[0],a,c),e,s.some(a),i)},createFocused:e=>(t,n,r,i,a)=>{const o=f.o.VisualState.initial({type:"focused",clockwise:!0},!0);return y(n)(t,r,i,0,h.Mq.getApplicableCardMeta(r[i],o,c),e,s.some(o),a)},createRendered:e=>(t,n,r,i)=>{const a=f.o.VisualState.initial({type:"rendered",clockwise:!0},!1);return y(n)(t,r,0,0,h.Mq.getApplicableCardMeta(r[0],a,c),e,s.some(a),i)},updateWith:(n,r)=>i=>{(0,l.kG)(n.every((e=>d.bZ.isRegistered(e))),"cannot add non registered alerts");const o=new Set(n.map((e=>e.id))),s=new Set(i.removedAlertsIds);o.forEach((e=>{s.delete(e)}));const c=i.alerts.filter((e=>!o.has(e.id))).concat(n.map(u.$.fromModel)).sort(r.compare);return(0,a.pipe)(i,v(c,s,g.C.getIndexByAlert(i.activeAlert.id,c)),e.getCardHydrator(t))}}}}(t=e.ItemFactory||(e.ItemFactory={}));const n=e=>(t,n,r)=>i=>{const a=g.C.getAlertByIndex(r,t),o=u.$.isApplicableAlert(a)?h.Mq.getApplicableCardMeta(a,i.visualState,e):p.n.empty(void 0);return Object.assign(Object.assign({},i),{alerts:t,activeAlert:a,meta:o,removedAlertsIds:n,activeAlertIndex:r})};e.changePosition=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),e.changeVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),e.getCardHydrator=e=>h.Mq.getCardHydrator((e=>e.cachedTransform),m.X.canHydrate,y,e);const r=t=>h.Mq.getChangeVisualState(e.changeVisualState,e.getCardHydrator(t));e.changeUserInput=e=>t=>Object.assign(Object.assign({},t),{userInput:e});const y=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:(0,a.pipe)(e,s.map((e=>e.labels)))});e.transitionTo=h.Mq.getTransitionTo(e.changeVisualState,e.changePosition),e.completeTransition=t=>n=>e.changeVisualState(f.o.VisualState.complete(n.visualState,t))(n),e.getRemove=t=>h.Mq.getRemove(n(t),e.transitionTo);const v=e=>t=>Object.assign(Object.assign({},t),{meta:e});e.unselect=h.Mq.getUnselect(e.changeVisualState,e.changePosition),e.getSelectByAlert=(t,r,i)=>h.Mq.getSelect(n(r),e.changeUserInput,e.changeVisualState,e.changePosition,v,i,t,r),e.getSelect=(t,n,r)=>h.Mq.getSelectFirstAlert(e.getSelectByAlert(t,n,r)),e.getRemoveAlertsCapability=(t,n,r,o)=>(l,c)=>{const d=e.getSelectByAlert(t,n,e.getCardHydrator(r)),u=h.Mq.getSelectNextAlert(h.Mq.getCardSelections(t),d);return t=>{const r=new Set(l.map((e=>e.id)));if(!g.C.hasAnyOfAlerts(r)(t))return t;const d=e.getRemove(n)(l,(0,a.pipe)(c,s.map((e=>o.compare(t,e)>0)),s.getOrElse(i.constTrue)))(t);return(0,a.pipe)(c,s.exists((e=>e.id===t.id)))?u(o)(d):d}},e.getUpdatableWithAlertsCapability=t=>n=>(0,i.flow)(t.updateWith(n,d.h$.ord),(t=>e.isExtendableWithAlerts(t)?t:e.transitionTo({type:"added",clockwise:!0})(t)))}(r||(r={}))},20594:(e,t,n)=>{n.d(t,{Ls:()=>k,IG:()=>r,Mq:()=>A});var r,i=n(57050),a=n(40327),o=n(51996),s=n(5114),l=n(22232),c=n(83078),d=n(95195),u=n(89943),m=n(81531),p=n(88097),h=n(66896),g=n(2291),f=n(17594),y=n(26027),v=n(55567),b=n(48521),C=n(75316),I=n(16892),x=n(4890);function k(e,t,n,r,i){const a=A.getCardSelections(t),o=A.getCardHydrator((e=>e.cachedTransform),y.X.canHydrate,y.X.changeTransform,e),c=A.getChangeVisualState(y.X.changeVisualState,o),d=A.getSelect(y.X.updateAlerts,y.X.updateUserInput,c,y.X.changePosition,y.X.changeMeta,o,t,n),u=A.getUnselect(c,y.X.changePosition),m=A.getTransitionTo(c,y.X.changePosition),h=A.getRemove(y.X.updateAlerts,m);const g=A.getCreate(S,i,c,r,n);const C=A.getSelectFirstAlert(d);return Object.assign(Object.assign({shouldAnimateAlertApply:n.shouldAnimateAlertApply,create:g,createFromAlert:e=>t=>g(t.id,[t],0,0,v.n.empty(p.bZ.isApplicableAlert(t)?t.explanation:void 0),e,s.none),createFocused:function(e){const t=b.o.VisualState.initial({type:"focused",clockwise:!0},!0);return(r,i,a)=>g(r,[i],0,a,A.getApplicableCardMeta(i,t,n),e,s.some(t))},createRendered:function(e){const t=b.o.VisualState.initial({type:"rendered",clockwise:!0},!1);return(r,i)=>g(r,[i],0,0,A.getApplicableCardMeta(i,t,n),e,s.some(t))},createAdded:function(e){const t=b.o.VisualState.initial({type:"added",clockwise:!0},!0);return(r,i)=>g(r,[i],0,0,A.getApplicableCardMeta(i,t,n),e,s.some(t))}},a),{select:(e,t,n,r)=>d(t,n,r)(e),selectFirstAlert:(e,t,n)=>C(t,n)(e),selectNextAlert:(e,t)=>A.getSelectNextAlert(a,d)(t)(e),unselect:(e,t,n)=>u(t,n)(e),remove:(e,t,n)=>h(t,n)(e),updateWith(e,t){(0,l.kG)(1===t.length,"AlertCard can only handle update with a single alert");const r=t[0];(0,l.kG)(void 0!==e.alerts.find((e=>e.id===r.id)),"can not receive updates for unknown alert",(()=>r.toString()));const i=function(e,t){const r=A.getApplicableCardMeta(t,e.visualState,n);return new y.X(e.id,e.alerts.map((e=>e.id===t.id?f.$.fromModel(t):e)),e.activeAlertIndex,A.getAHI(e,r),e.positionState,e.visualState,r,e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection)}(e,r);switch(r.state.type){case p.bZ.State.Type.REGISTERED:{const e="focused"===i.visualState.transition.type||"expanded"===i.visualState.transition.type?o(i):i;return"success"===i.visualState.transition.type||"presuccess"===i.visualState.transition.type?m({type:"focused",clockwise:i.visualState.transition.clockwise})(e):e}case p.bZ.State.Type.REMOVED:return"focused"!==i.visualState.transition.type&&"expanded"!==i.visualState.transition.type||!i.alerts.every((e=>p.bZ.isCapiDone(e)&&e.allowUpdate&&p.bZ.isRated(i.activeAlert)))?h(t,!0)(i):m({type:"presuccess",clockwise:i.visualState.transition.clockwise})(i);case p.bZ.State.Type.APPLIED:case p.bZ.State.Type.BEING_APPLIED:return h(t,!0)(i);default:return(0,l.vE)(r.state)}},changePosition:(e,t)=>y.X.changePosition(t)(e),changeVisualState:(e,t)=>c(t)(e),transitionTo:(e,t)=>m(t)(e),completeTransition:(e,t)=>c(b.o.VisualState.complete(e.visualState,t))(e),hideMuteQuotedAdvice:e=>new y.X(e.id,e.alerts,e.activeAlertIndex,e.activeHighlightIndex,e.positionState,e.visualState,new v.n.Impl(e.meta.percentile,e.meta.explanation,e.meta.checking,e.meta.ranges,!1),e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection),updateUserInput:(e,t)=>y.X.updateUserInput(t)(e),updateSynfonySelection:(e,t)=>y.X.changeSynfonySelection(t)(e),updateSmartPhrasesAlert:(e,t)=>new y.X(e.id,e.alerts.map(((n,r)=>r===e.activeAlertIndex&&f.$.isSmartPhrases(n)?f.$.updateSmartPhrasesAlert(n,t):n)),e.activeAlertIndex,e.activeHighlightIndex,e.positionState,e.visualState,e.meta,e.lensId,e.renderOptions,e.muteCategory,e.order,e.initialAlertId,e.removedAlertsIds,e.cachedTransform,e.userInput,e.synfonySelection)})}function E(e){return p.bZ.isOneGap(e)&&""!==e.gapValue?s.some(e.gapValue):s.none}!function(e){let t;e.toCardRenderOptions=function(e,n,r){const i=new Set;return(h.R.isMainLens(n)||e.features.has(t.showCardLabelInOutcomes)&&n!==h.R.SpecialId.Plagiarism)&&i.add(x.j.Features.showLabel),e.features.has(t.enableMuteQuotedAdvice)&&i.add(x.j.Features.enableMuteQuotedAdvice),e.features.has(t.showAnonymousUserFooters)&&i.add(x.j.Features.showAnonymousUserFooters),e.features.has(t.showPremiumTrialFooters)&&i.add(x.j.Features.showPremiumTrialFooters),e.features.has(t.showPremiumTrialFooters)&&i.add(x.j.Features.showPremiumTrialFooters),e.features.has(t.showNewPremiumCardLabels)&&i.add(x.j.Features.showNewPremiumCardLabels),e.features.has(t.showPersistentPremiumCardLabels)&&i.add(x.j.Features.showPersistentPremiumCardLabels),e.features.has(t.showPremiumOnboarding)&&i.add(x.j.Features.showPremiumOnboarding),{features:i,layoutDensity:e.cardLayoutDensityMode,isNew:r,isPremiumOnboarding:e.isPremiumOnboarding}},function(e){e.showCardLabelInOutcomes="showCardLabelInOutcomes",e.enableMuteQuotedAdvice="enableMuteQuotedAdvice",e.showAnonymousUserFooters="showAnonymousUserFooters",e.showPremiumTrialFooters="showPremiumTrialFooters",e.showNewPremiumCardLabels="showNewPremiumCardLabels",e.showPersistentPremiumCardLabels="showPersistentPremiumCardLabels",e.showPremiumOnboarding="showPremiumOnboarding"}(t=e.Features||(e.Features={})),e.Default={features:new Set([t.showCardLabelInOutcomes]),cardLayoutDensityMode:x.j.Density.cozy,shouldAnimateAlertApply:p.bZ.isAccepted}}(r||(r={}));const S=(e,t)=>new y.X(e,t.alerts,t.activeAlertIndex,t.activeHighlightIndex,t.positionState,t.visualState,t.meta,t.lensId,t.renderOptions,t.muteCategory,t.order,t.initialAlertId,t.removedAlertsIds,t.cachedTransform,t.userInput,t.synfonySelection);var A;!function(e){function t(e,t,n){let i;i=p.bZ.getCheckingState(e)===p.bZ.CheckingState.CHECKING?"focused"===t.transition.type||"expanded"===t.transition.type?v.n.CheckingState.Checking:v.n.CheckingState.Full:v.n.CheckingState.Idle;const a=n.features.has(r.Features.enableMuteQuotedAdvice)&&e.extraProperties.isInQuotes;return new v.n.Impl(g.g.fromRatio(e.progress),e.explanation,i,e.getHighlightRanges(),a)}e.getApplicableCardMeta=t,e.getRemove=(e,t)=>(n,r=!0)=>i=>{const o=new Set(n.map((e=>e.id))),s=new Set(i.removedAlertsIds);o.has(i.activeAlert.id)&&s.add(i.activeAlert.id);const{remainingAlerts:l,activeAlertIndex:c}=i.alerts.reduce(((e,t,n)=>!o.has(t.id)||b.o.isFocused(i)&&t.id===i.activeAlert.id?{remainingAlerts:e.remainingAlerts.concat([t]),activeAlertIndex:e.activeAlertIndex}:{remainingAlerts:e.remainingAlerts,activeAlertIndex:e.activeAlertIndex+(n<i.activeAlertIndex||n===i.activeAlertIndex&&n===i.alerts.length-1&&n>0?-1:0)}),{remainingAlerts:[],activeAlertIndex:i.activeAlertIndex}),d=(0,a.pipe)(i,C.C.willBeDisposed(i,o)?e(i.alerts,o,i.activeAlertIndex,i.activeHighlightIndex):e(l,s,c,0));return C.C.willBeDisposed(d,d.removedAlertsIds)?t({type:"removed",clockwise:r})(d):d},e.getTransitionTo=(e,t)=>n=>r=>{const i=b.o.VisualState.to(r.visualState,n);return(0,a.pipe)(r,e(i),(e=>n.type===r.visualState.transition.type||"expanded"!==n.type&&"focused"!==n.type?e:t(I.s.PositionState.invalidateHeight(r.positionState))(e)))};const n=e=>t=>{const n=t.alerts;return s.fromNullable(n.slice(t.activeAlertIndex+1).find(e))};e.getPrevAlert=e=>t=>{const n=t.alerts;return s.fromNullable(n.slice(0,t.activeAlertIndex).reverse().find(e))},e.getAnyRegisteredAlert=e=>t=>{const n=t.alerts;return(0,a.pipe)(n.filter((t=>e.isRegistered(t.id))),(e=>e[e.length-1]),s.fromNullable)},e.getCardSelections=t=>{const r=(e=>t=>e.isRegistered(t.id))(t);return{nextAlert:n(r),prevAlert:e.getPrevAlert(r),anyRegisteredAlert:e.getAnyRegisteredAlert(t)}},e.getSelect=(e,n,r,o,d,u,m,h)=>({alert:g,highlightIndex:f},x,k)=>S=>{(0,l.kG)(!S.removedAlertsIds.has(g.id),"Cannot select removed alert");const A=m.getById(g.id);(0,l.kG)(s.isSome(A),"Cannot select not registered alert");const w=c.unsafeGet(A),T=S.alerts.filter((e=>!S.removedAlertsIds.has(e.id))),O=(0,a.pipe)(x,s.map((e=>k.compare(S,e)>0)),s.getOrElse(i.constTrue)),N=(0,a.pipe)(x,s.exists((e=>e.id===S.id))),$=N?S.positionState:I.s.PositionState.invalidateHeight(S.positionState),F=N&&y.X.isCardOpen(S.visualState)?"expanded":"focused",P=E(w),D=C.C.getIndexByAlert(g.id,T),j=(0,a.pipe)(x,s.fold((()=>b.o.VisualState.initial({type:F,clockwise:O})),(e=>b.o.VisualState.to(S.visualState,{type:F,clockwise:O})))),M=p.bZ.isApplicableAlert(w)?t(w,j,h):v.n.empty(void 0);return(0,a.pipe)(S,o($),r(j),e(T,S.removedAlertsIds,D,f),n(P),d(M),u)},e.getSelectNextAlert=(e,t)=>n=>r=>C.C.activeAlertRemoved(r)&&!C.C.willBeDisposed(r,r.removedAlertsIds)?(0,a.pipe)(e.nextAlert(r),c.orElse(e.prevAlert(r)),s.map((e=>t({alert:e,highlightIndex:0},s.none,n)(r))),s.getOrElse((()=>r))):r,e.getSelectFirstAlert=e=>(t,n)=>r=>{const i=r.alerts.filter((e=>!r.removedAlertsIds.has(e.id)));(0,l.kG)(i.length>0,"Selectable card must have at least one not removed alert");const a=i[0];return e({alert:a,highlightIndex:0},t,n)(r)},e.getUnselect=(e,t)=>(n,r)=>o=>{const l=(0,a.pipe)(n,s.map((e=>r.compare(o,e)>0)),s.getOrElse(i.constTrue)),c=(0,a.pipe)(n,s.exists((e=>e.id===o.id)))?o.positionState:I.s.PositionState.invalidateHeight(o.positionState);return(0,a.pipe)(o,t(c),C.C.willBeDisposed(o,o.removedAlertsIds)||b.o.isHidden(o)?i.identity:e(b.o.VisualState.to(o.visualState,{type:"rendered",clockwise:l})))},e.getCardHydrator=(e,t,n,r)=>i=>{const o=i.activeAlert.type===f.$.Type.super||i.activeAlert.type===f.$.Type.plagiarism||i.activeAlert.type===f.$.Type.premium||i.activeAlert.type===f.$.Type.takeaway||i.activeAlert.type===f.$.Type.sentenceLevelBrandTones||p.eT.isSimple(i.activeAlert.extraProperties.cardType)?s.none:function(e,t,n){const i=m.Monitoring.Logging.getLogger("CardFactory");return(0,a.pipe)(t,s.filter((t=>!n||(0,a.pipe)(e,s.exists((e=>t.id===e.id&&t.rev===e.revision))))),s.alt((()=>(0,a.pipe)(e,s.chain((e=>(0,a.pipe)(r(e),d.fold((n=>(i.error("Could not hydrate transform",n,{alertId:e.id}),t)),(t=>s.some({id:e.id,rev:e.revision,labels:t}))))))))))}(i.activeAlert.getTransform(),e(i),t(i));return n(o)(i)},e.getChangeVisualState=(e,t)=>n=>r=>{const i=e(n)(r);return"focused"===n.transition.type||"expanded"===n.transition.type?t(i):i},e.getCreate=(e,t,n,i,o)=>(c,d,u,m,h,g,y,x=p.h$.ord)=>{const k=C.C.getAlertByIndex(u,d),S=E(k),A=[...d].sort(x.compare).map(f.$.fromModel),w=A[0];(0,l.kG)(!!w,"The card must contain at least 1 alert");const T=(0,a.pipe)(t,s.chain((e=>e.getAlertMuteCategory(d[0].id)))),O=e(c,{alerts:A,activeAlertIndex:C.C.getIndexByAlert(k.id,A),activeHighlightIndex:m,positionState:I.s.PositionState.empty,visualState:b.o.VisualState.initial({type:"rendered",clockwise:!0}),meta:new v.n.Impl(h.percentile,h.explanation,h.checking,h.ranges,o.features.has(r.Features.enableMuteQuotedAdvice)&&f.$.isInQuotes(w)),lensId:s.some(g),renderOptions:r.toCardRenderOptions(o,g,i(w)),muteCategory:T,order:w.getHighlightRanges()[0].end,initialAlertId:w.id,removedAlertsIds:new Set,cachedTransform:s.none,userInput:S,synfonySelection:s.none});return(0,a.pipe)(y,s.fold((()=>O),(e=>n(e)(O))))},e.getAHI=function(e,t){if((0,l.kG)(t.ranges.length>0,`Incorrect card meta: rangeIds empty. Card ID ${e.id}, activeAlert: ${e.activeAlert.toString()}`),0===e.activeHighlightIndex||e.meta.ranges.length===t.ranges.length)return e.activeHighlightIndex;{const n=e.meta.ranges[e.activeHighlightIndex];return(0,l.kG)(void 0!==n,"AHI not found in rangeIds"),(0,a.pipe)(s.some(t.ranges.findIndex((e=>e.meta.id===n.meta.id))),s.filter((e=>-1!==e)),s.alt((()=>u.findNotLower(t.ranges,n,o.SV.ordEnd))),s.getOrElse((()=>t.ranges.length-1)))}},e.snapshot=e=>({cardId:e.id,vs:{incomplete:e.visualState.incomplete,tr:e.visualState.transition},as:(0,a.pipe)(e.alerts&&e.alerts.map((e=>e.id))),aai:e.activeAlertIndex,ahi:e.activeHighlightIndex})}(A||(A={}))},34383:(e,t,n)=>{n.d(t,{D:()=>r,T:()=>i});var r,i,a=n(17889),o=n(40327),s=n(43675),l=n(45701),c=n(73975),d=n(5114),u=n(88097),m=n(86718);!function(e){e.empty=()=>new Map,e.diff=function(e,t){return s.symmetricDiff(i.eq)(e,t)}}(r||(r={})),function(e){let t,n,r;e.ordAlert=l.fromCompare(((e,t)=>u.bZ.isTakeaway(e)&&u.bZ.isTakeaway(t)?u.h$.ord.compare(e,t):u.bZ.isTakeaway(e)?-1:u.bZ.isTakeaway(t)?1:u.h$.ord.compare(e,t))),function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.eq=c.getStructEq({title:c.eqString,miniTitle:d.getEq(c.eqString),miniLabel:d.getEq(c.eqString),alertIds:a.Eh(c.eqString)})}(n=e.AlertsView||(e.AlertsView={})),function(e){e.eq=c.getStructEq({title:c.eqString,miniTitle:d.getEq(c.eqString),miniLabel:d.getEq(c.eqString),checked:c.eqBoolean,card:m.f.eq})}(r=e.EmptyView||(e.EmptyView={})),e.eq=c.getStructEq({id:c.eqString,rank:c.eqNumber,suggestionsView:d.getEq(n.eq),successView:d.getEq(n.eq),emptyView:r.eq}),e.hasAlerts=function(e){return d.isSome(e.suggestionsView)||d.isSome(e.successView)},e.removeAlerts=function(e,t){return Object.assign(Object.assign({},e),{suggestionsView:(0,o.pipe)(e.suggestionsView,d.chain((e=>(0,o.pipe)(a.nI(e.alertIds.filter((e=>!t.has(e)))),d.map((t=>Object.assign(Object.assign({},e),{alertIds:t}))))))),successView:(0,o.pipe)(e.successView,d.chain((e=>(0,o.pipe)(a.nI(e.alertIds.filter((e=>!t.has(e)))),d.map((t=>Object.assign(Object.assign({},e),{alertIds:t})))))))})}}(i||(i={}))},86775:(e,t,n)=>{n.d(t,{G:()=>r});var r,i=n(17889),a=n(57050),o=n(40327),s=n(5114),l=n(71249),c=n(83078),d=n(95195),u=n(92843),m=n(88097),p=n(75316),h=n(16892),g=n(48521),f=n(15215),y=n(70100),v=n(35416),b=n(93494),C=n(95983),I=n(93508),x=n(16118),k=n(77176),E=n(85985),S=n(34383);!function(e){function t(e,t){return`${e}_${t}`}function n(e,t,n){return f.d.isChecklistItemEmpty(t)?y.X.changePositionState(n)(t):e.changePositionState(n)(t)}function r(e,n,r,i){const a=t(n,r.id),o={rank:r.rank,checked:r.emptyView.checked,title:r.emptyView.title,miniTitle:r.emptyView.miniTitle,miniLabel:r.emptyView.miniLabel,miniChecked:s.none};return i?e.createFocusedDefault(n,a,o,r.emptyView.card):e.createRenderedDefault(n,a,o,r.emptyView.card)}function A(e,n,r,a,d,u){return(0,o.pipe)(a.suggestionsView,s.chain((c=>(0,o.pipe)(c.alertIds.map(n),l.compact,i.nI,s.map((n=>function(e,n,r,i,a,l,c){const d=t(n,r),u={id:d,title:i.title};return(0,o.pipe)(l,s.map((e=>a.findIndex((t=>t.id===e)))),s.filter((e=>e>-1)),s.fold((()=>c?e.createFocusedBundle(n,d,i,u,a,s.none):e.createRenderedBundle(n,d,i,u,a)),(t=>e.createFocusedBundle(n,d,i,u,a,s.some(t)))))}(e,r,a.id,{rank:a.rank,checked:!1,miniChecked:s.none,title:c.title,miniTitle:c.miniTitle,miniLabel:c.miniLabel},n,d,u)))))),s.alt((()=>(0,o.pipe)(a.successView,s.chain((i=>{const m=(0,o.pipe)(d,s.filter((e=>i.alertIds.includes(e))),s.chain(n));return(0,o.pipe)(m,c.orElse((0,o.pipe)(i.alertIds.map(n),l.compact,l.head)),s.map((n=>function(e,n,r,i,a,l){const c=t(n,r);return(0,o.pipe)(l,s.filter((e=>e===a.id)),s.fold((()=>e.createRenderedSingle(n,c,i,a)),(t=>e.createFocusedSingle(n,c,i,a))))}(e,r,a.id,{rank:a.rank,checked:!0,miniChecked:s.none,title:i.title,miniTitle:i.miniTitle,miniLabel:i.miniLabel},n,u?s.some(n.id):d))))}))))))}function w(e,t,n){return e.updateMeta(Object.assign(Object.assign({},t.itemMeta),{miniChecked:s.some(n.emptyView.checked),miniTitle:(0,o.pipe)(n.emptyView.miniTitle,c.orElse(s.some(n.emptyView.title))),miniLabel:n.emptyView.miniLabel}))(t)}function T(e,t,n,r,i,l,c){if(i.every((e=>!p.C.hasAlert(e.id)(n)))||p.C.willBeDisposed(n,n.removedAlertsIds))return n;const d=S.T.removeAlerts(r,new Set(i.map((e=>e.id)).concat(Array.from(n.removedAlertsIds)))),u=p.C.willBeDisposed(n,new Set(i.map((e=>e.id)))),h=u&&!S.T.hasAlerts(d),g=(0,o.pipe)(l,s.exists((e=>e.id===n.id)));if(!u||h){const t=(0,o.pipe)(h?w(e,n,r):n,e.removeAlerts(i,(0,o.pipe)(l,s.map((e=>c.itemsOrd.compare(n,e)>0)),s.getOrElse(a.constTrue))));return!!i.find((e=>e.id===n.activeAlert.id))?e.selectNextAlert(c.itemsOrd)(t):t}return(0,o.pipe)(A(e,(0,a.flow)(t.getRegistered,s.filter(m.bZ.isApplicableAlert)),c.id,r,(0,o.pipe)(l,s.filter((e=>e.id===n.id)),s.map((e=>e.activeAlert.id))),g),s.map((t=>g?t:e.changePositionState(n.positionState)(t))),s.getOrElse((()=>n)))}e.create=function(e,t,n,i,l,c){const d=C.aW.create(Array.from(t.values()).map((t=>(0,o.pipe)(A(e,(0,a.flow)(n.getRegistered,s.filter(m.bZ.isApplicableAlert)),i,t,s.none,!1),s.getOrElse((()=>r(e,i,t,!1)))))),(e=>e.id),f.d.ord.compare);return{id:i,type:v.Nm.lensview,kind:v._L.persistent,meta:l,withPriorityList:!1,cardIndex:s.none,items:d,itemsOrd:f.d.ord,animation:v.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return b.v.lensHash.hashCode(this)},equals(e){return b.v.getEq(c).equals(this,e)}}};const O=(e,n,r)=>i=>a=>{if(0===i.length)return a;const s=v.In.getActiveItem(a),l=n.reduce(((n,l)=>(0,o.pipe)(n.update(t(a.id,l.id),(t=>f.d.isChecklistItemWithAlerts(t)?T(e,r,t,l,i,s,a):t)),d.getOrElse((()=>n)))),a.items);return Object.assign(Object.assign({},a),{items:l,animation:v.wj.force})};function N(e,t,i,l,c,d,u){if(f.d.isChecklistItemWithAlerts(i)&&p.C.willBeDisposed(i,i.removedAlertsIds))return i;const m=(0,o.pipe)(c,s.exists((e=>e.id===i.id)));return(0,o.pipe)(A(e,u,t.id,l,d,m),s.alt((()=>m&&f.d.isChecklistItemWithAlerts(i)?s.none:s.some(r(e,t.id,l,m)))),s.map((t=>n(e,t,m?h.s.PositionState.invalidateHeight(i.positionState):i.positionState))),s.map((t=>{return function(e,t,n){return f.d.isChecklistItemEmpty(t)?y.X.changeVisualState(n)(t):e.changeVisualState(n)(t)}(e,t,(n=i,r=t,f.d.isChecklistItemEmpty(n)&&f.d.isChecklistItemEmpty(r)||f.d.isChecklistItemWithAlerts(n)&&f.d.isChecklistItemWithAlerts(r)&&n.viewKind===r.viewKind||!m?i.visualState:g.o.VisualState.initial({type:"focused",clockwise:!0},!0)));var n,r})),s.getOrElse((()=>f.d.isChecklistItemWithAlerts(i)?e.removeAlerts(i.alerts,(0,o.pipe)(c,s.map((e=>t.itemsOrd.compare(i,e)>0)),s.getOrElse(a.constTrue)))(w(e,i,l)):i)))}e.getAlertsHandler=function(e,n,r,i){return(s,c)=>u=>{const h=b.v.ApplyDiff.applyWithFilter(c,b.v.ApplyDiff.apply);return(0,o.pipe)(u,h(s,(()=>a.identity),((e,n,r,i)=>a=>s=>{if(0===a.length)return s;const{left:c,right:u}=(0,o.pipe)(a,b.v.filterAlertInLens(s,i),l.partition(m.bZ.isRegistered)),h=O(e,n,r)(c)(s),g=n.reduce(((n,r)=>(0,o.pipe)(n.update(t(s.id,r.id),(t=>f.d.isChecklistItemWithAlerts(t)?e.updateWith(u.filter((e=>p.C.hasAlert(e.id)(t))))(t):t)),d.getOrElse((()=>n)))),h.items);return Object.assign(Object.assign({},h),{items:g,animation:v.wj.force})})(e,Array.from(n.get().values()),r,i),O(e,Array.from(n.get().values()),r)))}},e.getChecklistHandlerSideEffect=(e,n,i,l,c)=>{const p=n.pipe(I.O(S.D.empty()),x.G(),k.U((([e,t])=>({entries:t,latestChangeDiff:S.D.diff(e,t)}))),E.h((e=>!u.v.isEmpty(e.latestChangeDiff))),k.U((n=>c=>{const p=c.currentLens,h=v.In.getActiveItem(p),g=(0,o.pipe)(l(p),s.map((e=>e.activeAlert.id))),y=(0,a.flow)(i.getRegistered,s.filter(m.bZ.isApplicableAlert)),b=(0,o.pipe)(n.latestChangeDiff,u.v.reduce(p.items,((e,n,r)=>e.has(t(p.id,r))?e.remove(t(p.id,r)):e),((n,r,i)=>(0,o.pipe)(n.update(t(p.id,i.id),(t=>f.d.isChecklistItem(t)?N(e,p,t,i,h,g,y):t)),d.getOrElse((()=>n)))),((t,n)=>(0,o.pipe)(A(e,y,p.id,n,g,!1),s.getOrElse((()=>r(e,p.id,n,!1))),(e=>t.add(e))))));return v.nL.Prism.getLens().modify((e=>Object.assign(Object.assign({},e),{items:b,cardIndex:(0,o.pipe)(h,s.chain((e=>b.get(e.id))),s.map((e=>e.index))),animation:v.wj.force})),c)})));return{id:"checklistHandlerSideEffect",when:c,what:v.nL.Effect.Applicator.create(p)}},e.getHasAlertsQuery=function(e,t,n){return b.v.WithBundles.getHasAlerts(e,t,n)},e.getItemReleaser=(e,i,l,c)=>({removeItemById:d=>u=>{const p=(0,o.pipe)(u.items.get(d),s.map((e=>e.value)),s.chain(s.fromPredicate(f.d.isChecklistItemWithAlerts)));if(s.isNone(p))return c?c.removeItemById(d)(u):u;const y=v.In.getActiveItem(u),b=(0,o.pipe)(y,s.exists((e=>e.id===d))),C=(0,a.flow)(l.getRegistered,s.filter(m.bZ.isApplicableAlert)),I=(0,o.pipe)(p,s.fold((()=>u.items),(l=>(0,o.pipe)(u.items.remove(d),(c=>(0,o.pipe)(s.fromNullable(Array.from(i.get().values()).find((e=>t(u.id,e.id)===l.id))),s.map((t=>c.add((0,a.unsafeCoerce)((0,o.pipe)(A(e,C,u.id,t,s.none,b),s.map((t=>b?e.changeVisualState(g.o.VisualState.initial({type:"focused",clockwise:!0},!0))(t):t)),s.getOrElse((()=>r(e,u.id,t,!1))),(t=>n(e,t,b?h.s.PositionState.invalidateHeight(l.positionState):l.positionState))))))),s.getOrElse((()=>c)))))))),x=(0,o.pipe)(y,s.exists((e=>e.id===d&&(0,o.pipe)(I.get(d),s.fold(a.constTrue,(({value:e})=>f.d.isChecklistItemEmpty(e)))))));return Object.assign(Object.assign({},u),{cardIndex:x?s.none:u.cardIndex,animation:b?v.wj.force:v.wj.proceed,items:I})}}),e.getRemoveAlert=(e,n,r)=>({removeAlertFromItem:(i,a)=>l=>{const c=new Set(i.map((e=>e.id)));return(0,o.pipe)(s.fromPredicate(f.d.isChecklistItemWithAlerts)(l),s.filter(p.C.hasAnyOfAlerts(c)),s.chain((e=>s.fromNullable(Array.from(n.get().values()).find((n=>t(a.id,n.id)===e.id))))),s.map((t=>T(e,r,l,t,i,v.In.getActiveItem(a),a))),s.getOrElse((()=>l)))}})}(r||(r={}))},48521:(e,t,n)=>{n.d(t,{o:()=>r});var r,i=n(40966);!function(e){function t(e){return"visualState"in e}e.Transition=i.u,e.VisualState=i.t,e.eq={equals:(n,r)=>!t(n)||t(r)&&e.VisualState.eq.equals(n.visualState,r.visualState)},e.isAnimatable=t,e.isFocused=e=>{switch(e.visualState.transition.type){case"expanded":case"focused":case"presuccess":case"success":case"feedback_form":return!0;default:return!1}},e.isHidden=e=>"hidden"===e.visualState.transition.type}(r||(r={}))},86718:(e,t,n)=>{n.d(t,{t:()=>r,f:()=>i});var r,i,a=n(22690),o=n(73975),s=n(5114),l=n(45701),c=n(22232),d=n(36156);!function(e){e.eq=o.getStructEq({rank:o.eqNumber,checked:o.eqBoolean,title:o.eqString,miniTitle:s.getEq(o.eqString),miniChecked:s.getEq(o.eqBoolean),miniLabel:s.getEq(o.eqString)}),e.hash=e=>(0,d.NO)({rank:e.rank,title:e.title,miniTitle:p.show(e.miniTitle),miniChecked:g.show(e.miniChecked),miniLabel:m.show(e.miniLabel),checked:e.checked}),e.ord=l.contramap((e=>e.rank))(l.ordNumber)}(r||(r={})),function(e){let t;!function(e){e.simple="simple",e.textLength="textLength"}(t=e.Kind||(e.Kind={})),e.eqSimple=o.getStructEq({explanation:o.eqString,details:s.getEq(o.eqString)}),e.eqTextLength=o.getStructEq({explanation:o.eqString,details:s.getEq(o.eqString),wordCount:o.eqNumber}),e.hashSimple=e=>(0,d.NO)({kind:e.kind,explanation:e.explanation,details:h.show(e.details)}),e.hashTextLength=e=>(0,d.NO)({kind:e.kind,explanation:e.explanation,details:h.show(e.details),wordCount:e.wordCount}),e.isTextLengthCard=function(t){return t.kind===e.Kind.textLength},e.eq=o.fromEquals(((t,n)=>{switch(t.kind){case e.Kind.simple:return n.kind===e.Kind.simple&&e.eqSimple.equals(t,n);case e.Kind.textLength:return n.kind===e.Kind.textLength&&e.eqTextLength.equals(t,n);default:(0,c.vE)(t)}})),e.hash=t=>{switch(t.kind){case e.Kind.simple:return e.hashSimple(t);case e.Kind.textLength:return e.hashTextLength(t);default:(0,c.vE)(t)}}}(i||(i={}));const u=s.getShow(a._3),m=u,p=u,h=u,g=s.getShow(a.R)},70100:(e,t,n)=>{n.d(t,{X:()=>r});var r,i=n(40327),a=n(73975),o=n(5114),s=n(83078),l=n(69345),c=n(40966),d=n(36156),u=n(48521),m=n(86718);!function(e){function t(t,n,r,i,a,o){return{kind:e.kind,id:t,itemMeta:n,cardMeta:r,positionState:i,visualState:a,renderOptions:o,equals(t){return e.eq.equals(this,t)},hashCode(){return e.hash(this)}}}e.kind="ChecklistItemEmpty",e.eq=a.fromEquals(((e,t)=>e.id===t.id&&m.f.eq.equals(e.cardMeta,t.cardMeta)&&m.t.eq.equals(e.itemMeta,t.itemMeta)&&l.Z.eq.equals(e.positionState,t.positionState)&&c.t.eq.equals(e.visualState,t.visualState))),e.hash=e=>(0,d.NO)({id:e.id,checklistItemMeta:m.t.hash(e.itemMeta),card:m.f.hash(e.cardMeta)}),e.create=t,e.updateMeta=e=>n=>t(n.id,e,n.cardMeta,n.positionState,n.visualState,n.renderOptions),e.updateCardMeta=e=>n=>t(n.id,n.itemMeta,e,n.positionState,n.visualState,n.renderOptions),e.changeVisualState=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,e,n.renderOptions),e.changePositionState=e=>n=>t(n.id,n.itemMeta,n.cardMeta,e,n.visualState,n.renderOptions),e.completeTransition=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,c.t.complete(n.visualState,e),n.renderOptions),e.transitionTo=e=>n=>t(n.id,n.itemMeta,n.cardMeta,n.positionState,c.t.to(n.visualState,e),n.renderOptions),e.select=e=>n=>(0,i.pipe)(e,o.filter((e=>e.id===n.id)),s.orElse((0,i.pipe)(n,o.fromPredicate((e=>"focused"===e.visualState.transition.type)))),o.fold((()=>{const r=l.Z.invalidateHeight(n.positionState),a={type:"focused",clockwise:!0},s=(0,i.pipe)(e,o.fold((()=>c.t.initial(a)),(()=>c.t.to(n.visualState,a))));return t(n.id,n.itemMeta,n.cardMeta,r,s,n.renderOptions)}),(()=>n))),e.unselect=e=>n=>(0,i.pipe)(e,o.filter((e=>e.id===n.id)),s.orElse((0,i.pipe)(n,o.fromPredicate((e=>"rendered"===e.visualState.transition.type)))),o.fold((()=>{const e=l.Z.invalidateHeight(n.positionState),r=u.o.isHidden(n)?n.visualState:c.t.to(n.visualState,{type:"rendered",clockwise:!0});return t(n.id,n.itemMeta,n.cardMeta,e,r,n.renderOptions)}),(()=>n)))}(r||(r={}))},47306:(e,t,n)=>{n.d(t,{J:()=>r});var r,i=n(40327),a=n(73975),o=n(22232),s=n(5114),l=n(26027),c=n(36156),d=n(86718);!function(e){e.kind="ChecklistItemWithAlerts",e.eq=a.fromEquals(((e,t)=>l.X.eq.equals(e,t)&&d.t.eq.equals(e.itemMeta,t.itemMeta)&&e.viewKind===t.viewKind)),e.isBundle=function(e){return"bundle"===e.viewKind},e.isSingle=function(e){return"single"===e.viewKind},e.create=function(t,n,r,a,u,m,p,h,g,f,y,v,b,C,I,x,k,E){const S=a[u];return(0,o.kG)(!!S,"Active alert index should point to an alert"),{kind:e.kind,id:t,viewKind:n,itemMeta:r,alerts:a,activeAlertIndex:u,activeHighlightIndex:m,positionState:p,visualState:h,meta:g,lensId:f,renderOptions:y,muteCategory:v,order:b,initialAlertId:C,removedAlertsIds:I,cachedTransform:x,userInput:k,synfonySelection:E,activeAlert:S,transform:(0,i.pipe)(x,s.map((e=>e.labels))),activeAlertRemoved:I.has(S.id),hashCode(){return(0,c.NO)({alertCard:l.X.hashCode(this),itemMeta:d.t.hash(r),viewKind:n})},equals(t){return e.eq.equals(this,t)}}}}(r||(r={}))},15215:(e,t,n)=>{n.d(t,{d:()=>r});var r,i=n(40327),a=n(45701),o=n(73975),s=n(5114),l=n(86718),c=n(70100),d=n(47306);!function(e){function t(e){return e.kind===c.X.kind}function n(e){return e.kind===d.J.kind}e.ord=a.contramap((e=>e.itemMeta))(l.t.ord),e.eq=o.fromEquals(((e,r)=>t(e)&&t(r)?c.X.eq.equals(e,r):!(!n(e)||!n(r))&&d.J.eq.equals(e,r))),e.isChecklistItemEmpty=t,e.isChecklistItemWithAlerts=n,e.isChecklistItem=function(e){return t(e)||n(e)},e.getAlertsCount=function(e){return(0,i.pipe)(e,s.fromPredicate(n),s.map((e=>e.alerts.length)))}}(r||(r={}))},16892:(e,t,n)=>{n.d(t,{s:()=>r});var r,i=n(73975),a=n(69345);!function(e){e.PositionState=a.Z,e.eqById=i.fromEquals(((e,t)=>e.id===t.id)),e.positionStateEq={equals:(t,n)=>e.PositionState.eq.equals(t.positionState,n.positionState)},e.verticalPositionEq={equals:(t,n)=>e.PositionState.verticalEq.equals(t.positionState,n.positionState)}}(r||(r={}))},93494:(e,t,n)=>{n.d(t,{v:()=>q});var r,i,a,o=n(17771),s=n(57050),l=n(40327),c=n(20817),d=n(83078),u=n(55415),m=n(92843),p=n(22232),h=n(89943),g=n(5114),f=n(71249),y=n(95195),v=n(73975),b=n(88097),C=n(66896),I=n(36156),x=n(5920),k=n(48521),E=n(16892),S=n(35416);!function(e){let t,n,r,i;e.filterAlertInLens=(e,t)=>f.filter((n=>b.bZ.isNotRemoved(n)||g.isSome(e.items.find((e=>t.hasAlert(n.id)(e)))))),function(e){e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:(0,l.pipe)(S.In.getActiveItem(t),g.chain((t=>(0,l.pipe)(e.get(t.id),g.map((e=>e.index)))))),items:e}),e.getActiveItemIndex=e=>(0,s.flow)(S.In.getActiveItem,g.chain((t=>e.get(t.id))),g.map((e=>e.index))),e.hideItem=function(e,t){return k.o.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e},e.calculateCardsHeight=e=>(0,l.pipe)(e.getAt(e.size-1),g.map((e=>e.positionState.absTop+e.positionState.height)),g.getOrElse((()=>0)));e.getItemsPositionsUpdateTransformer=t=>({state:n,metadata:r})=>{if(!S.nL.hasCards(n))return y.left({state:n,metadata:r});const i=S.nL.Prism.getLens();return y.left({state:i.modify(e.updateItemsPositions(t),n),metadata:r})};const t=e=>t=>(0,l.pipe)(t.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&(0,l.pipe)(t,d.forAll((e=>e.id!==n.id))))(e)(S.In.getActiveItem(t))),g.map((({value:t,index:n})=>({index:n,value:(0,l.pipe)(t,g.fromPredicate((t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t))))}))));e.updateItemsPositions=n=>r=>{const i=S.In.getActiveItem(r),a=t(n)(r),o=(0,l.pipe)(a,g.chain(u.pick("value")),g.map((e=>e.positionState.height)));let s=0;const c=(0,l.pipe)(i,d.forAll((e=>e.positionState.isHeightValid))),m=(0,l.pipe)(a,g.map(u.pick("index")),g.getOrElse((()=>{return e=r.cardIndex,(0,l.pipe)(e,g.map((e=>0===e?1:0)),g.getOrElse((()=>0)));var e}))),p=r.items.map(((e,t,i)=>{const a=d.contains(i)(r.cardIndex),u=a||i===m,p=n.isScheduledToDispose(e)||(a?e.positionState.isHeightValid:g.isSome(o)),h=n.isScheduledToDispose(e)?n.useReferenceHeightOnRemove(e)?(0,l.pipe)(o,g.getOrElse((()=>e.positionState.height))):0:a?e.positionState.height:(0,l.pipe)(o,g.getOrElse((()=>e.positionState.height))),f={absTop:a||c?s:e.positionState.absTop,height:h,animationInProgress:r.animation(e,i),visible:e.positionState.visible,isHeightValid:p,watched:u};return s+=h,E.s.PositionState.eq.equals(e.positionState,f)?e:n.changePosition(f)(e)})),h=e.calculateCardsHeight(p),f=(0,l.pipe)(i,d.forAll((e=>e.positionState.isHeightValid)))&&(0,l.pipe)(p.getAt(m),d.forAll((e=>e.positionState.isHeightValid)));return Object.assign(Object.assign({},r),{items:p,cardsHeight:h,isCardsHeightValid:f})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,r)=>i=>(0,l.pipe)(e,m.v.reduce(i,((e,{alert:t})=>r([t])(e)),((e,t,{alert:r})=>n([r])(e)),((e,{alert:n})=>t([n])(e)))),e.applyWithFilter=(e,t)=>(n,r,i,a)=>{const o=(0,s.flow)(f.partition(e),(e=>(0,s.flow)(a(e.left),i(e.right))));return t(n,(t=>r(t.filter(e))),o,a)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=c.Ri.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n))),e.getFeedItems=()=>c.Ri.create((e=>e.items),((e,n)=>t.setVisibleItems(e)(n)))}(r=e.Prism||(e.Prism={})),e.getEq=e=>v.fromEquals(((t,n)=>{if(t.kind===S._L.abstract||n.kind===S._L.abstract)return t.id===n.id;{const r=t,i=n;return t.id===n.id&&g.getEq(e).equals(S.In.getActiveItem(r),S.In.getActiveItem(i))&&r.meta.equals(n.meta)&&r.items.equals(i.items)}})),e.lensHash={hashCode:e=>{if(e.kind===S._L.abstract)return(0,I.AC)(e.id);{const n=e;let r=7;return r=31*r+(0,I.AC)(e.id),r=31*r+(t=S.In.getActiveItem(n),(0,l.pipe)(t,g.fold((()=>2433880),(e=>null==e?9735524:e.hashCode()<<2)))),31*r+e.meta.count}var t}},function(e){e.getAlertReleaser=e=>({release:t=>n=>{const r=n.items.map(e.removeAlertFromItem([t],n)),i=(0,l.pipe)(n.cardIndex,g.chain((t=>(0,l.pipe)(r.findRightFrom(e.isScheduledToDispose,t),g.map((e=>e.index))))),g.isSome)?S.wj.skip:S.wj.force;return Object.assign(Object.assign({},n),{animation:i,items:r})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const r=(0,l.pipe)(n,e,g.map((e=>n.items.add((0,l.pipe)(e,t.unselect(g.none,n.itemsOrd))))),g.getOrElse((()=>n.items)));return Object.assign(Object.assign({},n),{items:r,animation:S.wj.force,cardIndex:g.none})}}),e.getSelectableByAlert=(e,t)=>({selectItemByAlert:n=>r=>{const i=e(r),a=r.items.find(t.isSelectableByAlert(n));(0,p.kG)(g.isSome(a),"Can not find card for provided alert. Unknown card or it is already disposed.",(()=>n.alert.toString()));const{value:o,index:s}=d.unsafeGet(a),c=(0,l.pipe)(i,g.map((e=>r.items.add((0,l.pipe)(e,t.unselect(g.some(o),r.itemsOrd))))),g.getOrElse((()=>r.items))).add((0,l.pipe)(o,t.selectByAlert(i,n,r.itemsOrd)));return Object.assign(Object.assign({},r),{items:c,animation:S.wj.force,cardIndex:g.some(s)})}}),e.getSelectableById=(e,t)=>({selectItemById:n=>r=>{const i=e(r),a=r.items.get(n),{value:o,index:s}=d.unsafeGet(a),c=(0,l.pipe)(i,g.map((e=>r.items.add((0,l.pipe)(e,t.unselect(g.some(o),r.itemsOrd))))),g.getOrElse((()=>r.items))).add((0,l.pipe)(o,t.select(i,r.itemsOrd)));return Object.assign(Object.assign({},r),{items:c,animation:S.wj.force,cardIndex:g.some(s)})}}),e.getItemReleaser=()=>({removeItemById:t=>n=>e.setVisibleItems(n.items.remove(t))(n)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object.assign(Object.assign({},t),{meta:C.R.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{finishApplyAnimation:n=>r=>{(0,p.kG)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const i=r.id,a=e=>{const r=e.items.map(t.removeAlertFromItem(n,e));return Object.assign(Object.assign({},e),{items:r})};if(C.R.isOutcomeId(i))return a(r);switch(i){case C.R.SpecialId.Priority:case C.R.SpecialId.AllAlerts:case C.R.SpecialId.PredictionTakeaways:case C.R.SpecialId.PredictionEmogenie:case C.R.SpecialId.RealTimeProofit:return a(r);case C.R.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case C.R.SpecialId.Plagiarism:return(0,p.kG)(n.every(b.bZ.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),a(r);default:return(0,p.vE)(i)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>(0,l.pipe)(S.In.getActiveItem(t),g.exists((t=>e.isScheduledToDispose(t))))||g.isNone(t.items.find((t=>!e.isScheduledToDispose(t))))}},e.getHasAlerts=function(e,t,n){const r=e=>e.id===C.R.SpecialId.Premium||e.id===C.R.SpecialId.Plagiarism?e.meta.count:(0,l.pipe)(S.In.getActiveItem(e),g.chain(t.hasActiveAlert),g.exists(b.bZ.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:r,getActiveAlertsCount:r,findFirstAlert:e=>(0,l.pipe)(e.items.filter(n(e)).find((e=>g.isSome(t.hasActiveAlert(e)))),g.map((({value:e})=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex})))),findNextAlert:t=>((0,p.kG)(g.isSome(S.In.getActiveItem(t))===g.isSome(t.cardIndex),"Lens is in wrong state"),(0,l.pipe)((0,o.g)(g.option)(S.In.getActiveItem(t),t.cardIndex),g.chain((([r,i])=>(0,l.pipe)(e.nextAlert(r),g.alt((()=>e.prevAlert(r))),g.alt((()=>(0,l.pipe)(h.lookAround(t.items.values(),i,n(t)),g.map((e=>e.value.activeAlert)))))))),d.orElse((0,l.pipe)(x.l.find(t.items,n(t)),g.map((({value:e})=>e.activeAlert)))),g.map((e=>({alert:e,highlightIndex:0})))))}},e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:(0,l.pipe)(S.In.getActiveItem(t),g.chain((t=>(0,l.pipe)(e.get(t.id),g.map((e=>e.index)))))),items:e})}(i=e.Capabilities||(e.Capabilities={}))}(r||(r={})),function(e){let t;e.create=function(e,n){return t||(t={id:C.R.SpecialId.Closed,kind:S._L.abstract,type:S.Nm.closed,meta:C.R.createStaticLens({id:C.R.SpecialId.Closed,title:"Closed"},C.R.Meta.group.empty,e),hashCode(){return r.lensHash.hashCode(this)},equals(e){return r.getEq(n).equals(this,e)}}),t}}(i||(i={})),function(e){e.create=()=>({id:C.R.SpecialId.DraftAI,type:S.Nm.draftAI,kind:S._L.abstract,meta:C.R.createStaticLens({id:C.R.SpecialId.DraftAI,title:"Draft AI"},C.R.Meta.group.empty,s.constFalse),transitionSource:g.none,hashCode(){return(0,I.AC)(this.id)},equals(e){return this.id===e.id}}),e.createFromTransitionSource=t=>Object.assign(Object.assign({},e.create()),{transitionSource:g.some(t)})}(a||(a={}));var A,w,T=n(95983),O=n(17594);!function(e){function t(e){return T.vM("cardId",e)}e.create=function(e,n,i,a,o,s){(0,p.kG)(e.id===C.R.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const c=T.aW.empty((e=>e.id),s.compare),d=t(n),u=(0,l.pipe)(i,g.map((({alertIndex:e})=>((0,p.kG)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e]))));let m=g.none;const h=Array.from(d.entries()).reduce(((e,[t,n])=>(0,l.pipe)(u,g.map((e=>n.indexOf(e))),g.filter((e=>e>-1)),g.fold((()=>e.add(a.createRendered(t,n))),(r=>{const i=a.createFocused(t,n,r);return m=g.some(t),e.add(i)})))),c),f=(0,l.pipe)(m,g.chain((e=>(0,l.pipe)(h.get(e),g.map((e=>e.index))))));return{id:C.R.SpecialId.Plagiarism,kind:S._L.persistent,type:S.Nm.plagiarism,meta:e,cardIndex:f,items:h,itemsOrd:s,animation:S.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.lensHash.hashCode(this)},equals(e){return r.getEq(o).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===C.R.SpecialId.Plagiarism?Object.assign(Object.assign({},t),{items:t.items.map((t=>O.$.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.$.isPlagiarism)):t))}):t},e.add=e=>n=>r=>{const i=t(n),a=Array.from(i.entries()).reduce(((t,[n,r])=>(0,l.pipe)(t.update(n,(t=>e.addPlagiarismAlerts(t,r))),y.fold((()=>t.add(e.createAdded(n,r))),s.identity))),r.items),o=(0,l.pipe)(S.In.getActiveItem(r),g.map((({id:e})=>d.unsafeGet(a.get(e)).index))),c=g.getEq(v.eqNumber).equals(o,r.cardIndex)?S.wj.force:S.wj.skip;return Object.assign(Object.assign({},r),{cardIndex:o,items:a,animation:c})},e.remove=e=>n=>r=>{const i=t(n),a=S.In.getActiveItem(r),o=Array.from(i.entries()).reduce(((t,[n,i])=>(0,l.pipe)(t.update(n,(t=>{const n=(0,l.pipe)(e.remove(t,i,(0,l.pipe)(a,g.map((e=>r.itemsOrd.compare(t,e)>0)),g.getOrElse(s.constTrue))),(t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(O.$.isPlagiarism))));return(0,l.pipe)(a,g.exists((e=>e.id===n.id)))?e.selectNextAlert(n,r.itemsOrd):n})),y.fold((()=>t),s.identity))),r.items);return Object.assign(Object.assign({},r),{items:o,animation:S.wj.force})},e.update=t=>n=>r=>e.updateWithAlerts(t)(n.filter((0,s.not)(t.shouldAnimateAlertApply)))(r),e.updateWithAlerts=n=>r=>i=>{const[a,o]=h.partition(r,b.bZ.isRegistered),c=t(a),d=Array.from(c.entries()).reduce(((e,[t,r])=>(0,l.pipe)(e.update(t,(e=>n.changePlagiarismMetaWithAlerts(e,e.alerts.filter(O.$.isPlagiarism)))),y.fold((()=>e.add(n.createAdded(t,r))),s.identity))),e.remove(n)(o)(i).items),u=(0,l.pipe)(S.In.getActiveItem(i),g.map((({id:e})=>(0,l.pipe)(d.get(e),g.map((({index:e})=>e)),g.getOrElse((()=>0))))));return Object.assign(Object.assign({},i),{cardIndex:u,items:d,animation:S.wj.proceed})},e.getAlertsHandler=function(t){return n=>r.ApplyDiff.apply(n,e.add(t),e.update(t),e.remove(t))}}(A||(A={})),function(e){e.create=function(e,t,n,i,a){const o=T.aW.create(t.map(n.createFromAlert(C.R.SpecialId.Premium)),(e=>e.id),a.compare);return(0,p.kG)(o.size>0,"PremiumLensView should have at least one card"),{id:C.R.SpecialId.Premium,kind:S._L.active,type:S.Nm.advanced,meta:e,items:o,itemsOrd:a,cardIndex:g.none,animation:S.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.lensHash.hashCode(this)},equals(e){return r.getEq(i).equals(this,e)}}},e.getAlertsHandler=function(t,n){return i=>r.ApplyDiff.apply(i,e.add(t),e.update(t,n),e.remove(n))},e.add=e=>t=>n=>{const i=t.map(e.createFromAlert(n.id)),a=n.items.add(i),o=r.Items.getActiveItemIndex(a)(n);return Object.assign(Object.assign({},n),{cardIndex:o,items:a,animation:S.wj.proceed})},e.remove=e=>t=>n=>{const i=new Set(t.map((e=>e.id))),a=n.items.filter((0,s.flow)(e.hasActiveAlert,g.exists((e=>i.has(e.id))))).reduce(((e,t)=>e.remove(t.id)),n.items),o=r.Items.getActiveItemIndex(a)(n);return Object.assign(Object.assign({},n),{cardIndex:o,items:a})},e.update=(t,n)=>r=>i=>{const[a,o]=h.partition(r,b.bZ.isRegistered);return(0,s.pipe)(i,e.remove(n)(o),e.add(t)(a))}}(w||(w={}));var N,$=n(8125),F=n(91549);!function(e){const t=b.h$.ord;function n(e){return e.id}function i(e){const t=e.map((e=>[F.R.getAlertOutcomeBundle(e),e]));return T.vM((([e,t])=>n(e)),t)}function a(e,n,r,a,o){(0,p.kG)((0,l.pipe)(r,d.forAll((({alertIndex:e})=>void 0!==n[e]))),"Can not find alert for provided alertIndex");const s=i(n),c=(0,l.pipe)(r,g.map((({alertIndex:e})=>((0,p.kG)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e]))));let u=g.none;const m=T.aW.empty(F.R.getId,o.compare),h=Array.from(s.entries()).reduce(((n,[r,i])=>{const o=i.map((([e,t])=>t)),s=i[0][0];return(0,l.pipe)(c,g.map((e=>o.indexOf(e))),g.filter((e=>e>-1)),g.fold((()=>n.add(a.createRendered(e)(r,s,o,t))),(i=>{const l=a.createFocused(e)(r,s,o,i,t);return u=g.some(r),n.add(l)})))}),m);return{cardIndex:(0,l.pipe)(u,g.chain((e=>(0,l.pipe)(h.get(e),g.map((e=>e.index)))))),cards:h}}e.getCardId=n,e.initCardsHash=a,e.create=function(e,t,n,i,o,s,l){const{cards:c,cardIndex:d}=a(e,n,i,o,l);return{id:e,type:S.Nm.lensview,kind:S._L.persistent,meta:t,withPriorityList:!1,cardIndex:d,items:c,itemsOrd:l,animation:S.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.lensHash.hashCode(this)},equals(e){return r.getEq(s).equals(this,e)}}},e.add=(e,n)=>a=>o=>{if(0===a.length)return o;const c=i(a),d=Array.from(c.entries()).reduce(((r,[i,a])=>{const c=a.map((([e,t])=>t)),d=a[0][0];return(0,l.pipe)(r.update(i,(e=>n.updateWithAlerts(c)(e))),y.fold((()=>r.add(e.createAdded(o.id)(i,d,c,t))),s.identity))}),o.items),u=(0,l.pipe)(o,r.Items.getActiveItemIndex(d)),m=g.getEq(v.eqNumber).equals(u,o.cardIndex)?S.wj.force:S.wj.skip;return Object.assign(Object.assign({},o),{cardIndex:u,items:d,animation:m})},e.remove=e=>t=>n=>{const a=i(t),o=Array.from(a.entries()).reduce(((t,[r,i])=>(0,l.pipe)(t.update(r,(t=>e.removeAlertFromItem(i.map((([e,t])=>t)),n)(t))),y.fold((()=>t),s.identity))),n.items),c=(0,l.pipe)(n,r.Items.getActiveItemIndex(o));return Object.assign(Object.assign({},n),{cardIndex:c,items:o,animation:S.wj.force})},e.update=(t,n,r)=>i=>a=>e.updateWithAlerts(t,r)(i.filter((0,$.ff)(n.shouldAnimateAlertApply)))(a),e.updateWithAlerts=(n,a)=>o=>c=>{if(0===o.length)return c;const{left:d,right:u}=(0,l.pipe)(o,r.filterAlertInLens(c,a),f.partition(b.bZ.isRegistered)),m=i(u),p=Array.from(m.entries()).reduce(((e,[r,i])=>{const o=i.map((([e,t])=>t)),d=i[0][0];return(0,l.pipe)(e.update(r,(e=>a.updateWithAlerts(o)(e))),y.fold((()=>e.add(n.createAdded(c.id)(r,d,o,t))),s.identity))}),e.remove(a)(d)(c).items),h=(0,l.pipe)(c,r.Items.getActiveItemIndex(p));return Object.assign(Object.assign({},c),{cardIndex:h,items:p,animation:S.wj.proceed})},e.getAlertsHandler=function(t,n,i){return(a,o)=>s=>{const c=r.ApplyDiff.applyWithFilter(o,r.ApplyDiff.apply);return(0,l.pipe)(s,c(a,e.add(t,i),e.update(t,n,i),e.remove(i)))}},e.getHasAlerts=function(e,t,n){const i=r.Capabilities.getHasAlerts(e,t,n);return Object.assign(Object.assign({},i),{findNextAlert:t=>(0,l.pipe)((0,o.g)(g.option)(S.In.getActiveItem(t),t.cardIndex),g.chain((([r,i])=>(0,l.pipe)(e.nextAlert(r),g.alt((()=>e.prevAlert(r))),g.alt((()=>(0,l.pipe)(h.findIndexFrom(t.items.values(),i+1,n(t)),g.alt((()=>h.findIndexFrom(t.items.values(),0,n(t)))),g.chain((e=>g.fromNullable(e.value.alerts))),g.map((e=>e[0])))))))),d.orElse((0,l.pipe)(x.l.find(t.items,n(t)),g.chain((({value:e})=>g.fromNullable(e.alerts))),g.map((e=>e[0])))),g.map((e=>({alert:e,highlightIndex:0}))))})}}(N||(N={}));var P=n(35214),D=n(45701),j=n(26027),M=n(69345),L=n(4890);const B=v.fromEquals(((e,t)=>e.id===t.id&&e.visibilityState===t.visibilityState&&M.Z.eq.equals(e.positionState,t.positionState))),R=e=>(0,I.NO)({itemId:e.id,visibilityState:e.visibilityState,positionState:(0,I.NO)(e.positionState)});var H,_,U,W,q;!function(e){e.id="PriorityToggleHintId",e.Kind="PriorityToggleHint",e.create=(e,n)=>new t(e,n,L.j.defaultOptions),e.hidden="hidden",e.visible="visible",e.isVisible=t=>t.visibilityState===e.visible,e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.isPriorityToggleHint=t=>t.id===e.id,e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t;class t{constructor(t,n,r){this.visibilityState=t,this.positionState=n,this.renderOptions=r,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return B.equals(this,e)}hashCode(){return R(this)}}}(H||(H={})),function(e){e.id="PriorityToggleId",e.Kind="PriorityToggle",e.isCollapsed=e=>"collapsed"===e.visibilityState,e.isExpanded=e=>"expanded"===e.visibilityState,e.isHidden=e=>"hidden"===e.visibilityState,e.create=(e,n)=>new t(e,n,L.j.defaultOptions),e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.isPriorityToggle=t=>t.id===e.id,e.isPriorityItem=(0,$.Kg)(e.isPriorityToggle,H.isPriorityToggleHint);class t{constructor(t,n,r){this.visibilityState=t,this.positionState=n,this.renderOptions=r,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return B.equals(this,e)}hashCode(){return R(this)}}}(_||(_={})),function(e){let t;function n(e,t){return`${e.id}_${t.id}`}function i(e,t,r,i,a,o){(0,p.kG)((0,l.pipe)(i,d.forAll((({alertIndex:e})=>void 0!==r[e]))),"Can not find alert for provided alertIndex");const s=T.aW.create(r.map(((r,o)=>(0,l.pipe)(i,g.exists((({alertIndex:e})=>o===e)))?a.createFocused(e)(n(t,r),r,(0,l.pipe)(i,g.fold((()=>0),(({highlightIndex:e})=>e)))):a.createRendered(e)(n(t,r),r))),j.X.getId,o.compare);return{cardIndex:(0,l.pipe)(i,g.chain((({alertIndex:e})=>s.find((t=>t.activeAlert.id===r[e].id)))),g.map((e=>e.index))),hash:s}}e.isInSuccess=function(e,t,n=s.constTrue){return 0===e.meta.count&&(0===e.items.filter(n).size||g.isNone(e.items.filter(n).find((e=>!t.isScheduledToDispose(e)))))},function(t){t.isInSuccess=t=>n=>S.nL.hasSuccess(n)&&S.nL.hasItems(n)&&e.isInSuccess(n.currentLens,t),t.isInGlobalSuccess=e=>n=>(S.nL.is(C.R.SpecialId.AllAlerts)(n)||S.nL.is(C.R.SpecialId.Priority)(n))&&t.isInSuccess(e)(n)}(t=e.State||(e.State={})),e.getCardId=n,e.initCardsHash=i,e.create=function(e,t,n,a,o,s,l){const{hash:c,cardIndex:d}=i(e,t,n,a,o,l);return{id:e,type:S.Nm.lensview,kind:S._L.persistent,withPriorityList:!1,meta:t,cardIndex:d,items:c,itemsOrd:l,animation:S.wj.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.lensHash.hashCode(this)},equals(e){return r.getEq(s).equals(this,e)}}},e.add=(e,t,i)=>a=>o=>{const s=a.map((a=>{const s=t.createAdded(o.id)(n(o.meta,a),a);return e(o,a)?s:r.Items.hideItem(s,i)})),l=o.items.add(s),c=r.Items.getActiveItemIndex(l)(o),d=g.getEq(v.eqNumber).equals(c,o.cardIndex)?S.wj.force:S.wj.skip;return Object.assign(Object.assign({},o),{cardIndex:c,items:l,animation:d})},e.remove=e=>t=>n=>{const i=new Set(t.map((e=>e.id))),a=n.items.map(e.remove((0,s.flow)(e.hasActiveAlert,g.fold(s.constFalse,(e=>i.has(e.id)))),(e=>(0,l.pipe)(S.In.getActiveItem(n),g.map((t=>n.itemsOrd.compare(e,t)>0)),g.getOrElse(s.constTrue))))),o=(0,l.pipe)(n.cardIndex,g.chain((t=>(0,l.pipe)(a.findRightFrom((t=>e.isScheduledToDispose(t)),t),g.map((e=>e.index))))),g.isSome)?S.wj.skip:S.wj.force,c=(0,l.pipe)(n,r.Items.getActiveItemIndex(a));return Object.assign(Object.assign({},n),{cardIndex:c,items:a,animation:o})},e.update=(t,n,r)=>i=>a=>e.updateWithAlerts(n,t,r)(i.filter((0,$.ff)(n.shouldAnimateAlertApply)))(a),e.updateWithAlerts=(e,t,i)=>a=>o=>{if(0===a.length)return o;const c=(0,l.pipe)(a,r.filterAlertInLens(o,i),f.map((e=>[n(o.meta,e),e])),f.reduce(o.items,((n,[a,c])=>(0,l.pipe)(n.update(a,i.updateWithAlerts([c])),y.fold((()=>{const s=e.createAdded(o.id)(a,c);return n.add(t(o,c)?s:r.Items.hideItem(s,i))}),s.identity))))),d=r.Items.getActiveItemIndex(c)(o);return Object.assign(Object.assign({},o),{cardIndex:d,items:c,animation:S.wj.proceed})},e.getAlertHandler=function(t,n,i=s.constTrue){return(a,o)=>{const s=r.ApplyDiff.applyWithFilter(o,r.ApplyDiff.apply);return r=>(0,l.pipe)(r,s(a,e.add(i,t,n),e.update(i,t,n),e.remove(n)))}}}(U||(U={})),function(e){function t(e,t){return(0,l.pipe)(S.In.getActiveItem(e),g.chain(t.hasActiveAlert),g.map((e=>!O.$.isPriority(e))),g.getOrElse((()=>!1)))}function n(e){return(0,l.pipe)(e.items.get(_.id),g.map((({value:e})=>_.isPriorityToggle(e)&&_.isExpanded(e))),g.getOrElse((()=>!1)))}function i(e,t,n){return 0!==e.meta.count&&0===e.meta.priorityCount&&0===e.items.filter((0,$.W9)(t,(e=>!n.isScheduledToDispose(e)))).size}let a;function o(e,t){return r=>S.nL.hasSuccess(r)&&U.isInSuccess(r.currentLens,t)||S.nL.isWithPriorityList(r)&&(U.isInSuccess(r.currentLens,t,(0,$.ff)(_.isPriorityItem))||i(r.currentLens,e,t)&&!n(r.currentLens))}e.ord=(0,P.fold)(D.getMonoid())([(0,l.pipe)(D.ordBoolean,D.contramap(H.isPriorityToggleHint)),(0,l.pipe)(D.ordBoolean,D.contramap(_.isPriorityToggle)),j.X.ord]),e.create=function(e,t,n,i,a,o,u,m){const p=(0,l.pipe)(i,g.map((({alertIndex:e})=>n[e])),g.chain(g.fromNullable),g.map((e=>"all"===e.view)),g.getOrElse((()=>!1))),{hash:h}=U.initCardsHash(e,t,n,i,a,m);let f=c(h);f=d(f,p,p,o);const y=(0,l.pipe)(i,g.chain((({alertIndex:e})=>f.find((0,s.flow)(o.hasActiveAlert,g.exists((t=>t.id===n[e].id)))))),g.map((e=>e.index)));return{id:e,type:S.Nm.lensview,kind:S._L.persistent,itemsOrd:m,meta:t,cardIndex:y,items:f,animation:S.wj.skip,withPriorityList:!0,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return r.lensHash.hashCode(this)},equals(e){return r.getEq(u).equals(this,e)}}},e.getHasPriorityToggle=function(e){return{toggleNonPriorityList:r=>i=>{const a=n(i);if("collapsed"===r&&!a||"expanded"===r&&a)return i;const o=t(i,e),s=d(i.items,!a,!a&&o,e);return Object.assign(Object.assign({},i),{items:s,cardIndex:o&&a?g.none:i.cardIndex,animation:S.wj.proceed})}}},e.focusedCardIsNonPriority=t,e.isNonPriorityListOpened=n,e.onlyNonPriorityAlertsLeft=i,e.nonPriorityAlertsVisible=function(e){return!S.nL.isWithPriorityList(e)||n(e.currentLens)},function(e){e.fromLensState=e=>t=>e.currentLens.id!==t||S.nL.isWithPriorityList(e)&&!n(e.currentLens)?S.FS.priorityAlertsOnly:S.FS.allAlerts}(a=e.LensViewMode||(e.LensViewMode={})),e.isInSuccess=o,e.isInGlobalSuccess=function(e,t){return n=>(S.nL.is(C.R.SpecialId.AllAlerts)(n)||S.nL.is(C.R.SpecialId.Priority)(n))&&o(e,t)(n)},e.getSyncVisibleCardsHandler=function(e){return i=>{if(!C.R.isWithSuccessId(i.id))return i;let a=c(i.items);const o=t(i,e);a=d(a,n(i)||o,o,e);const s=r.Items.getActiveItemIndex(a)(i);return Object.assign(Object.assign({},i),{cardIndex:s,items:a,animation:S.wj.proceed})}};function c(e){return e.has(_.id)||0===e.size?e:e=(e=e.add(_.create("expanded",E.s.PositionState.empty))).add(H.create("visible",E.s.PositionState.empty))}function d(e,t,n,i){const a=(e=>({transitionTo:t=>n=>k.o.isAnimatable(n)&&n.visualState.transition.type!==t.type?e.transitionTo(t)(n):n}))(i),o=0===e.filter((e=>!i.isScheduledToDispose(e)&&(0,l.pipe)(i.hasActiveAlert(e),g.exists((0,$.ff)(O.$.isPriority))))).size;return e.map((e=>(0,l.pipe)(i.hasActiveAlert(e),g.fold((()=>_.isPriorityItem(e)?o?_.isPriorityToggle(e)?_.transitionTo(e,"hidden"):H.transitionTo(e,"hidden"):_.isPriorityToggle(e)?t||n?_.transitionTo(e,"expanded"):_.transitionTo(e,"collapsed"):t||n?H.transitionTo(e,"visible"):H.transitionTo(e,"hidden"):e),(n=>t||O.$.isPriority(n)?k.o.isAnimatable(e)&&k.o.isHidden(e)?a.transitionTo({type:"rendered",clockwise:!0})(e):e:r.Items.hideItem(e,i))))))}e.isAlertVisible=function(e,t){return"priority"===t.view||n(e)},e.ensureExpandCardIsPresent=c,e.syncVisibleCards=d,e.getHasAlerts=function(e,t,i){return Object.assign(Object.assign({},r.Capabilities.getHasAlerts(e,t,i)),{getVisibleAlertsCount:e=>(0,l.pipe)(S.In.getActiveItem(e),g.chain(t.hasActiveAlert),g.exists(b.bZ.isCapiDone))&&1===e.items.size?0:n(e)?e.meta.count:e.meta.priorityCount})}}(W||(W={})),function(e){e.Prism=r.Prism,e.Items=r.Items,e.Capabilities=r.Capabilities,e.ApplyDiff=r.ApplyDiff,e.filterAlertInLens=r.filterAlertInLens,e.lensHash=r.lensHash,e.getEq=r.getEq,e.Closed=i,e.DraftAI=a,e.Plagiarism=A,e.Premium=w,e.WithBundles=N,e.WithPriority=W,e.WithSuccess=U}(q||(q={}))},85287:(e,t,n)=>{n.d(t,{Dn:()=>o,AP:()=>l,rD:()=>x,IY:()=>A,$4:()=>M,bb:()=>L});var r=n(63969),i=n(40219),a=n(50224);const o="linear",s=r.u.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),l=r.u.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),c=r.u.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),d=r.u.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),u=r.u.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),m=r.u.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),p=r.u.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),h=r.u.keyframes({"0%, 100%":{opacity:0}}),g=r.u.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),f=r.u.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),y=r.u.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),v=r.u.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),b=r.u.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),C=r.u.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),I={position:"relative",margin:`${r.u.rem(.5)} ${r.u.rem(2)} ${r.u.rem(.5)} 0`,userSelect:"none"},x={position:"absolute",width:r.u.percent(100),pointerEvents:"none"},k={opacity:0,animation:`${s} ${r.u.seconds(i.v4/4/1e3)} ${o} ${r.u.seconds(i.v4/1e3)} forwards`},E={transformOrigin:"top",animation:`${l} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},S={transformOrigin:"bottom",animation:`${c} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},A={transformOrigin:"top",willChange:"contents"},w={animation:`${d} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},T={animation:`${u} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},O={animation:`${m} ${r.u.seconds(i.v4/1e3)} ${o} reverse forwards`},N={animation:`${m} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},$={animation:`${p} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},F={animation:`${p} ${r.u.seconds(i.v4/1e3)} ${o} reverse forwards`},P={transformOrigin:"top",animation:`${g} ${r.u.seconds(i.v4/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.g.successWrapperSelector} > *`]:{animation:`${f} ${r.u.seconds(i.v4/1e3)} ${o} forwards`}}},D={position:"absolute",width:r.u.percent(100),transformOrigin:"top",animation:`${y} ${r.u.seconds(i.v4/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${a.g.fullCardSelector} > :not(.${a.g.alignButtonHiddenSelector})`]:{animation:`${v} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},[`& .${a.g.fullCardSelector} > .${a.g.alignButtonHiddenSelector}`]:{animation:`${h} ${r.u.seconds(i.v4/1e3)} ${o} none`},[`& .${a.g.fullCardSelector}`]:{transform:`translateY(${r.u.rem(-1)})`}}},j={transformOrigin:"top",animation:`${b} ${r.u.seconds(i.v4/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.g.fullCardSelector} > :not(.${a.g.alignButtonHiddenSelector})`]:{animation:`${C} ${r.u.seconds(i.v4/1e3)} ${o} forwards`},[`& .${a.g.fullCardSelector} > .${a.g.alignButtonHiddenSelector}`]:{animation:`${h} ${r.u.seconds(i.v4/1e3)} ${o} none`}}},M=r.u.stylesheet({wrapper:[I],animationWrapper:[{position:"relative"}],shade:[x],focused2renderedMain:[k],focused2renderedShade:[x,E],focused2renderedShadeClockwise:[x,S],rendered2focusedMainBase:[A],rendered2focusedMain:[A,w],rendered2focusedMainClockwise:[A,T],addedMain:[O],rendered2removedShade:[x,N],openedMain:[$],closedMain:[F],focused2successMain:[P],focused2successShade:[D],success2FocusedMain:[j]}),L=new Map([[l,M.focused2renderedShade],[c,M.focused2renderedShadeClockwise],[m,M.rendered2removedShade],[y,M.focused2successShade]])},22800:(e,t,n)=>{n.d(t,{S:()=>E,c:()=>S});var r=n(63969),i=n(40219),a=n(85287),o=n(50224);const s=r.u.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),l=r.u.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),c=r.u.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),d=r.u.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),u=r.u.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),m=r.u.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),p=r.u.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),h=r.u.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),g=r.u.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),f=r.u.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),y=r.u.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),v={opacity:0,animation:`${s} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`},b={transformOrigin:"top",animation:`${a.AP} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${l} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${c} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${d} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`}}}}},C={transformOrigin:"top",animation:`${u} ${r.u.seconds(i.v4/1500)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${l} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${c} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${d} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`}}}}},I={animation:`${m} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${p} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${h} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${g} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`}}}}},x={animation:`${f} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleInnerContainerSelector}`]:{animation:`${p} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`,$nest:{[`& .${o.g.bundleFakeCard1Selector}`]:{animation:`${h} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`},[`& .${o.g.bundleFakeCard2Selector}`]:{animation:`${g} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`}}}}},k={animation:`${y} ${r.u.seconds(i.v4/1e3)} ${a.Dn} forwards`},E=r.u.stylesheet({focused2renderedBundleMain:[v],focused2renderedBundleShade:[a.rD,b],focused2renderedBundleShadeClockwise:[a.rD,C],rendered2focusedBundleMain:[a.IY,I],rendered2focusedBundleMainClockwise:[a.IY,x],rendered2focusedBundleShade:[a.rD,k]}),S=new Map([[a.AP,E.focused2renderedBundleShade],[u,E.focused2renderedBundleShadeClockwise],[y,E.rendered2focusedBundleShade]])},79589:(e,t,n)=>{n.d(t,{b:()=>Q});var r=n(27378),i=n(57050),a=n(40327),o=n(5739),s=n(38983),l=n(5114),c=n(54338),d=n(15646),u=n(85287),m=n(22800),p=n(35108);const h=({children:e,mount:t})=>r.createElement(o.F.div,{role:"animation-wrapper",className:u.$4.animationWrapper,mount:t},e),g=e=>(0,a.pipe)(l.fromNullable(e.activeAlert),l.fold((()=>e.id),(e=>e.id)));class f extends r.Component{constructor(){super(...arguments),this._elementState=c.f.emptyWithName("card")}_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:d.eI.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:n}=this.props;if(!t.visualState.incomplete)return r.createElement(h,{mount:this.props.mount},r.createElement(o.F.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const f=n||p.SA,{main:y,shade:v}=f(t.visualState),b=s.h.create(void 0===v?l.none:(0,a.pipe)(t.visualState.from,l.map((e=>({state:e,className:v})))));return!y&&l.isNone(b.get())&&requestAnimationFrame((()=>e.next({type:d.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}))),r.createElement(c.f.Context.Provider,{value:this._elementState},r.createElement(h,{mount:this.props.mount},b.view((0,i.flow)(l.map((({state:n,className:i})=>r.createElement(o.F.div,{className:i,key:"shade"+n+g(t),onAnimationEnd:n=>{m.c.get(n.animationName)!==i&&u.bb.get(n.animationName)!==i||(e.next({type:d.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame((()=>b.set(l.none))))}},this._stateToElement(n)))),l.toUndefined)),r.createElement(o.F.div,{className:y,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:d.eI.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:d.eI.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}}var y=n(12187),v=n(44060),b=n(63969),C=n(24588),I=n(40219),x=n(21474),k=n(3656);class E extends r.Component{constructor(){super(...arguments),this._createCardToggler=e=>()=>this.props.actions.next({type:d.lY.Type.hover,kind:e,id:this.props.cardId})}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:i,counter:a,className:s,hideActivateButton:l,hideDot:c}=this.props;return r.createElement(o.F.div,Object.assign({"data-aid":t,onClick:t=>{const r=e();n.next({type:d.lY.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:r},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},(0,y.Sh)(s,L.wrapper,c?null:L.miniCard)),r.createElement(k.XY,Object.assign({},(0,y.Sh)(L.contentWrapper,c?L.contentWrapperWithoutDot:L.contentWrapperWithDot)),i),r.createElement("div",{className:L.iconContainer},a&&r.createElement("div",{className:A},a),l?null:r.createElement("div",{className:T},r.createElement(x.JO.Arrow,{className:L.activeTopIcon}),r.createElement(x.JO.Arrow,{className:L.activeBottomIcon}))))}}const S="baseMiniCounterContainer",A=b.u.joinClasses([S,b.u.style({position:"absolute",height:b.u.percent(100),top:0,right:0,zIndex:I.VN,margin:"auto 0",background:v.Il.CoreNeutral0,opacity:1})]),w="baseMiniActivateBtnSelector",T=b.u.joinClasses([w,b.u.style({position:"absolute",top:0,right:0,height:b.u.percent(100),zIndex:I.VN,display:"flex",flexDirection:"column",margin:"auto 0",background:v.Il.CoreNeutral0,opacity:0,justifyContent:"center"})]),O={position:"relative",display:"flex",overflow:"hidden",borderRadius:b.u.rem(I.fx),background:v.Il.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:v.Il.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:b.u.seconds(.2)},[`&:hover .${w}`]:{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},N={overflow:"hidden",color:C.UE,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:b.u.rem(1.5)},$={margin:`0 ${b.u.rem(3)} 0 ${b.u.rem(2)}`},F={paddingLeft:b.u.rem(.5)},P={position:"absolute",top:0,right:b.u.rem(.5),bottom:0,display:"flex"},D={display:"flex",margin:`${b.u.rem(.1)} 0 ${b.u.rem(-1.25)}`,transform:"rotate(180deg)"},j={$nest:{"&:before":{position:"absolute",width:b.u.px(10),height:b.u.px(10),borderRadius:b.u.percent(50),content:"''",transform:"scale(.5)"}}},M={$nest:{"&:before":{margin:`auto 0 auto ${b.u.rem(.75)}`}}},L=b.u.stylesheet({wrapper:[O],contentWrapper:[N],contentWrapperWithDot:[$],contentWrapperWithoutDot:[F],iconContainer:[P],activeTopIcon:[D],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[j],miniCard:[j,M]});var B,R=n(8125),H=n(30763),_=n(7046),U=n(57091),W=n(50224);!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(B||(B={}));const q=({actions:e,isLastCard:t})=>{const n=r.useContext(H.m.Context).successLens.fixedText.titles,i=s.h.create(B.stage0),a=()=>e.next({type:d.lY.Type.switchToNext});return r.createElement(o.F.div,{className:Z.successWrapper},r.createElement(k.P1,{className:Z.successText,onAnimationEnd:()=>{i.set(B.stage1)}},n[(0,R.TN)(n.length)]),r.createElement(o.F.span,null,i.view((e=>e>=B.stage1&&r.createElement("span",{onAnimationEnd:()=>i.set(B.stage2)},r.createElement(x.JO.CheckmarkAnimated,{className:Z.successCheckMark}))))),r.createElement(o.F.span,{className:Z.successBtnHolder},t.pipe(U.a(i,((e,t)=>t<B.stage2?null:e?r.createElement(_.zx.Caps,{className:Z.doneBtn,name:"done",key:"done-btn",onClick:a},"Done"):r.createElement(_.zx.Caps,{className:Z.successBtn,name:"next",key:"next-card",onClick:a},"Next"))))))},z=b.u.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),G={fontWeight:"bold",lineHeight:b.u.rem(2),animation:`${z} ${b.u.seconds(.2)} linear forwards`},Y={position:"relative",borderRadius:b.u.rem(I.Jr),background:v.Il.CoreNeutral0,boxShadow:`0 ${b.u.rem(.625)} ${b.u.rem(I.mJ)} 0 rgba(198, 203, 222, .45)`},V={display:"flex",padding:`${b.u.rem(1.5)} ${b.u.rem(2)}`,alignItems:"center"},X={marginLeft:b.u.rem(1),minWidth:0,minHeight:0,width:b.u.rem(1.325),height:b.u.rem(1.325),animation:`${z} ${b.u.seconds(.2)} linear forwards`},J={float:"right",width:b.u.rem(4),textAlign:"center",animation:`${z} ${b.u.seconds(.2)} linear forwards`},K={backgroundColor:v.Il.CoreGreen50,color:v.Il.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:C.mb}}},Z=Object.assign(Object.assign({},b.u.stylesheet({successText:[G],successCheckMark:[X],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[J],doneBtn:[J,K]})),{fullCard:b.u.joinClasses([W.g.fullCardSelector,b.u.style(Y)]),successWrapper:b.u.joinClasses([W.g.successWrapperSelector,b.u.style(Y,V)])});var Q;!function(e){e.Mini=E,e.Card=f,e.Success=q}(Q||(Q={}))},50224:(e,t,n)=>{n.d(t,{g:()=>f,m:()=>y});var r=n(44060),i=n(63969),a=n(24588),o=n(40219);const s={position:"relative",borderRadius:i.u.rem(o.Jr),background:r.Il.CoreNeutral0,boxShadow:`0 ${i.u.rem(.625)} ${i.u.rem(o.mJ)} 0 rgba(198, 203, 222, .45)`},l={$nest:{"&:before":{position:"absolute",width:i.u.px(10),height:i.u.px(10),borderRadius:i.u.percent(50),content:"''",transform:"scale(.5)"}}},c={$nest:{"&:before":{backgroundColor:a.kl}}},d={$nest:{"&:before":{backgroundColor:a.AX}}},u={$nest:{"&:before":{backgroundColor:r.Il.CoreRed50}}},m={$nest:{"&:before":{backgroundColor:r.Il.CoreBlue50}}},p={$nest:{"&:before":{backgroundColor:r.Il.CoreGreen50}}},h={$nest:{"&:before":{backgroundColor:r.Il.CorePurple50}}},g={$nest:{"&:before":{backgroundColor:r.Il.CoreNeutral50}}},f={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},y=Object.assign(Object.assign({},i.u.stylesheet({dot:[l],dotAdvanced:[d],dotCritical:[c],dotCorrectness:[u],dotClarity:[m],dotEngagement:[p],dotDelivery:[h],dotVox:[g]})),{fullCard:i.u.joinClasses([f.fullCardSelector,i.u.style(s)])})},35108:(e,t,n)=>{n.d(t,{CE:()=>r,SA:()=>d,a:()=>u});var r,i=n(40327),a=n(5114),o=n(8125),s=n(81531),l=n(85287),c=n(22800);function d({from:e,transition:t,incomplete:n}){if(!n)return{};const r=m("transitionClassMapper");return(0,i.pipe)(e,a.map((e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return r.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};case"focused":return{main:t.clockwise?l.$4.rendered2focusedMainClockwise:l.$4.rendered2focusedMain};case"removed":return{shade:l.$4.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.$4.focused2renderedMain,shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"focused":return{main:l.$4.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.$4.focused2successMain,shade:l.$4.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return r.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};default:return{}}default:return{}}})),a.getOrElse((()=>{switch(t.type){case"added":return{main:l.$4.addedMain};case"focused":return{main:l.$4.openedMain};default:return{}}})))}function u({from:e,transition:t,incomplete:n}){return n?(0,i.pipe)(e,a.map((e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return m("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};case"focused":return{main:t.clockwise?c.S.rendered2focusedBundleMainClockwise:c.S.rendered2focusedBundleMain,shade:c.S.rendered2focusedBundleShade};case"removed":return{shade:l.$4.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.S.focused2renderedBundleMain,shade:t.clockwise?c.S.focused2renderedBundleShadeClockwise:c.S.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.$4.focused2renderedShadeClockwise:l.$4.focused2renderedShade};case"focused":return{main:l.$4.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.$4.focused2successMain,shade:l.$4.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return m("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.$4.addedMain};default:return{}}default:return{}}})),a.getOrElse((()=>{switch(t.type){case"added":return{main:l.$4.addedMain};case"focused":return{main:l.$4.openedMain};default:return{}}}))):{}}!function(e){e.toOption=function(e){return t=>{const{main:n,shade:r}=e(t);return{main:a.fromNullable(n),shade:a.fromNullable(r)}}}}(r||(r={}));const m=(0,o.HP)(s.Monitoring.Logging.getLogger)},40111:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(27378),a=n(57050),o=n(40327),s=n(5739),l=n(59312),c=n(83078),d=n(5114),u=n(95300),m=n(78146),p=n(98036),h=function(){function e(e){this._keySelector=e}return e.prototype.call=function(e,t){return t.subscribe(new g(e,this._keySelector))},e}(),g=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r._keySelector=n,r.attemptedToUnsubscribe=!1,r.count=0,r._currentGroup=d.none,r}return(0,l.__extends)(t,e),t.prototype._next=function(e){var t=this,n=this._keySelector(e);(0,o.pipe)(this._currentGroup,d.fold((function(){return t._createGroup(n,e)}),(function(r){var i=r.key,a=r.group;i!==n?(a.complete(),t._currentGroup=d.none,t._createGroup(n,e)):a.closed||a.next(e)})))},t.prototype._createGroup=function(e,t){var n=new u.X(t);this._currentGroup=d.some({key:e,group:n}),this.destination.next(new m.T(e,n,this))},t.prototype._error=function(e){(0,o.pipe)(this._currentGroup,c.tap((function(t){return t.group.error(e)}))),this._currentGroup=d.none,this.destination.error(e)},t.prototype._complete=function(){(0,o.pipe)(this._currentGroup,c.tap((function(e){return e.group.complete()}))),this._currentGroup=d.none,this.destination.complete()},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(p.L),f=n(19751),y=n(77176),v=n(66310),b=n(28043),C=n(76974),I=n(8125),x=n(44060),k=n(81531),E=n(63969),S=n(40219),A=n(26027),w=n(75316),T=n(29847),O=n(50224),N=n(55636),$=n(34047),F=n(19157),P=n(12138);!function(e){e.Mini=({card:e,actions:t})=>i.createElement(s.F.Fragment,null,e.pipe(y.U((e=>w.C.isToneAIItem(e)?i.createElement(P.Y.BundleMini,{card:e,actions:t}):i.createElement(F.P.Bundle,{card:e,actions:t}))))),e.Full=({card:e,actions:n,renderCard:c})=>{const{isChecking:d,isCheckingGlobal:u,transform:m}=A.X.useCardStates(e),p=e=>(l("CardBundle").error("card type not supported:",e),null),g=e.pipe((e=>e.lift(new h((e=>e.activeAlert.id)))),v.w((e=>e.pipe(b.x(((e,t)=>e.activeAlertIndex===t.activeAlertIndex)),y.U((t=>({activeAlertIndex:t.activeAlertIndex,activeAlertId:t.activeAlert.id,card:(0,o.pipe)(e,b.x(((e,t)=>e.hashCode()===t.hashCode()&&e.visualState.transitionId===t.visualState.transitionId)),f.d({bufferSize:1,refCount:!0}))}))))))),I=(e,t)=>{const r=t.alerts.length,a=1===r?ne.bundleInnerContainer:2===r?ne.bundleInnerContainer2Cards:ne.bundleInnerContainerNCards;return i.createElement(s.F.div,{className:a},c?c({card:t,actions:n,isChecking:d,isCheckingGlobal:u,transform:e}):i.createElement($.J,{card:t,actions:n,isChecking:d,transform:e,isCheckingGlobal:u}))};return i.createElement(r,{card:e,actions:n},i.createElement(t,{state:g,stateToClassMapper:(e,t)=>{if(!e)return{prev:(0,T.EJ)(""),next:(0,T.EJ)("")};if(e.activeAlertId===t.activeAlertId)return{prev:(0,T.EJ)(ne.inBundleToUpdatedCardOld),next:(0,T.EJ)(ne.inBundleToUpdatedCardNew)};if(e.activeAlertIndex===t.activeAlertIndex)return{prev:(0,T.EJ)(ne.inBundleToUpdatedCardOld),next:(0,T.EJ)(ne.inBundleToUpdatedCardNew)};return e.activeAlertIndex<t.activeAlertIndex?{prev:(0,T.EJ)(ne.inBundleToNextCardOld),next:(0,T.EJ)(ne.inBundleToNextCardNew)}:{prev:(0,T.EJ)(ne.inBundleToPrevCardOld),next:(0,T.EJ)(ne.inBundleToPrevCardNew)}}},(e=>i.createElement(s.F.div,{className:e.view,onAnimationEnd:"prev"===e.type?e.done:a.constVoid},(0,o.pipe)(e.state.card,y.U((0,a.flow)(w.C.match({super:p,smartPhrases:t=>I("prev"===e.type?C.of(t.transform):m,t),takeaway:t=>I("prev"===e.type?C.of(t.transform):m,t),sentenceLevelBrandTones:e=>I(m,e),synfony:t=>I("prev"===e.type?C.of(t.transform):m,t),shortenIt:t=>I("prev"===e.type?C.of(t.transform):m,t),toneAI:t=>I("prev"===e.type?C.of(t.transform):m,t),sdui:t=>I("prev"===e.type?C.of(t.transform):m,t),default:t=>I("prev"===e.type?C.of(t.transform):m,t)}),A.X.foldCard)))))))};class t extends T.l5{}const n=({alertCount:e})=>1===e?i.createElement(i.Fragment,null):2===e?i.createElement("div",{className:ne.bundleFakeCard1}):i.createElement(i.Fragment,null,i.createElement("div",{className:ne.bundleFakeCard1}),i.createElement("div",{className:ne.bundleFakeCard2})),r=({children:e,card:t,actions:r})=>i.createElement(s.F.div,{className:ne.bundleCardWrapper},i.createElement(N.PS,{card:t,actions:r}),i.createElement(s.F.div,{className:ne.cardBundleContainer},e,(0,o.pipe)((e=>(0,o.pipe)(e,y.U((e=>d.some(e.alerts.length)))))(t),y.U(d.map((e=>i.createElement(n,{key:e,alertCount:e})))),y.U(d.toNullable)))),l=(0,I.HP)(k.Monitoring.Logging.getLogger)}(r||(r={}));const D=.25,j="0 1px 8px rgba(109, 117, 141, .18)",M=E.u.keyframes({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),L=E.u.keyframes({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-100px)",opacity:0}}),B=E.u.keyframes({from:{transform:"translateX(-100px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),R=E.u.keyframes({from:{opacity:0,transform:"scale(.95) translateY(-15px)"},to:{opacity:1,transform:"scale(1) translateY(0)"}}),H=E.u.keyframes({from:{opacity:1,transform:"scale(1) translateY(0)"},to:{opacity:0,transform:"scale(.95) translateY(-15px)"}}),_={position:"relative",borderRadius:E.u.rem(S.Jr),background:x.Il.CoreNeutral0,boxShadow:j,zIndex:2},U={marginTop:E.u.rem(.75)},W={marginTop:E.u.rem(1.25)},q={position:"absolute",top:E.u.px(-5),right:E.u.rem(.5),left:E.u.rem(.5),zIndex:-1,display:"block",height:E.u.percent(100),borderRadius:E.u.rem(S.Jr),backgroundColor:x.Il.CoreNeutral1,boxShadow:j,content:"' '"},z={position:"absolute",top:E.u.px(-10),right:E.u.rem(1),left:E.u.rem(1),zIndex:-2,display:"block",height:E.u.rem(2),borderRadius:E.u.rem(S.Jr),backgroundColor:x.Il.CoreNeutral10,boxShadow:j,content:"' '"},G={borderRadius:E.u.rem(.75),background:x.Il.CoreNeutral20,margin:`${E.u.rem(-.25)} ${E.u.rem(-.25)}`,padding:`${E.u.rem(.25)} ${E.u.rem(.25)}`,$nest:{[`& .${O.g.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${O.g.fullCardSelector}`]:{padding:`${E.u.rem(.75)} ${E.u.rem(.5)} ${E.u.rem(.5)} ${E.u.rem(1)}`},"& [role=dropdown-list]":{transform:`translateY(${E.u.rem(-.5)})`}}},Y={position:"absolute",top:E.u.rem(.8),right:E.u.rem(1),margin:0},V={borderRadius:E.u.rem(S.Jr),background:x.Il.CoreNeutral0,boxShadow:j},X={display:"block",position:"absolute",top:0,$nest:{[`& .${O.g.bundleInnerContainerSelector}`]:{margin:0}}},J={animation:`${H} ${E.u.seconds(D)} ease-out`},K={animation:`${B} ${E.u.seconds(D)} ease-out`},Z={animation:`${L} ${E.u.seconds(D)} ease-in`},Q={animation:`${R} ${E.u.seconds(D)} ease-in`},ee={display:"none",animation:`${M} ${E.u.seconds(D)} ease-in`},te={animation:`${M} ${E.u.seconds(D)} ease-in`},ne=Object.assign(Object.assign({},E.u.stylesheet({bundleInnerContainer:[_],bundleCardWrapper:[G],minimalBetaLabel:[Y],compactCardContainer:[V],cardBundleContainer:[{position:"relative",zIndex:2}],inBundleMovingCard:[X],inBundleToPrevCardOld:[X,J],inBundleToPrevCardNew:[K],inBundleToNextCardOld:[X,Z],inBundleToNextCardNew:[Q],inBundleToUpdatedCardOld:[ee],inBundleToUpdatedCardNew:[te]})),{bundleInnerContainer:E.u.joinClasses([O.g.bundleInnerContainerSelector,E.u.style(_)]),bundleInnerContainer2Cards:E.u.joinClasses([O.g.bundleInnerContainerSelector,E.u.style(_,U)]),bundleInnerContainerNCards:E.u.joinClasses([O.g.bundleInnerContainerSelector,E.u.style(_,W)]),bundleFakeCard1:E.u.joinClasses([O.g.bundleFakeCard1Selector,E.u.style(q)]),bundleFakeCard2:E.u.joinClasses([O.g.bundleFakeCard2Selector,E.u.style(z)])})},28584:(e,t,n)=>{n.d(t,{a0:()=>r,$x:()=>k,Im:()=>E,oL:()=>D});var r,i=n(27378),a=n(57050),o=n(40327),s=n(49524),l=n(12187),c=n(5114),d=n(83078),u=n(30763),m=n(66896),p=n(88097),h=n(17594),g=n(4890),f=n(7046),y=n(29245),v=n(21474),b=n(16951),C=n(3656),I=n(50224),x=n(36642);!function(e){e.none="none",e.persistent="persistent",e.new="new"}(r||(r={}));const k=({className:e,vox:t,isMinimalCard:n})=>{const{vox:{styleGuide:r}}=i.useContext(u.m.Context);return i.createElement("div",Object.assign({},(0,l.Sh)(e,x.h.voxTitle,n?x.h.minimalTitle:void 0)),i.createElement("span",null,t.companyName," ",r))},E=({logoUrl:e,className:t})=>i.createElement("img",Object.assign({src:e},(0,l.Sh)(t,x.h.voxLogo))),S=({title:e,layoutDensity:t})=>i.createElement(C.XY,{className:(0,o.pipe)(t,g.j.Density.matchOrDefault(g.j.Density.minimal)((()=>x.h.minimalTitle),(()=>x.h.toneTitle)))},i.createElement(y.dy,{emojiClassName:x.h.toneLogo},e));function A(e){return m.R.outcomeTypeMatch(e.lensType)({correctness:I.m.dotCorrectness,clarity:I.m.dotClarity,premium:I.m.dotAdvanced,engagement:I.m.dotEngagement,delivery:I.m.dotDelivery,vox:I.m.dotVox})}const w=({companyLogoUrl:e})=>{const t=i.useContext(u.m.Context).card.sentenceLevelBrandTones;return i.createElement(C.x4,{className:x.h.sentenceLevelBrandTonesLabel},e&&i.createElement("img",{src:e,className:x.h.toneLogo}),i.createElement("span",{className:x.h.sentenceLevelBrandTonesOffBrand},t.offBrandCardTitle)," ",t.detected)};function T(e,t,n,r,u){const{extraProperties:m}=e;return h.$.isTakeaway(e)?function(e,t,n){return{style:"",description:i.createElement("div",{className:(0,o.pipe)(t,g.j.Density.matchOrDefault(g.j.Density.minimal)((()=>x.h.minimalTitle),(()=>{})))},(d.contains(p.TO.correctlyDetected)(e.takeawayFeedback)||d.contains(p.TO.correctlyDetectedAndDone)(e.takeawayFeedback))&&e.takeawayIsLikelyToBeRead?i.createElement(v.JO.ValidationOk,Object.assign({width:16},(0,l.Sh)(x.h.cardLogo,x.h.takeawayIcon))):i.createElement(v.JO.Megaphone,Object.assign({width:16},(0,l.Sh)(x.h.cardLogo,x.h.takeawayIcon))),t===g.j.Density.minimal?n:e.lensName)}}(e,n,u):h.$.isSmartPhrases(e)?function(e){return{style:"",description:i.createElement("div",null,i.createElement(v.JO.SmartPhrases.HeaderCirclePlus,Object.assign({},(0,l.Sh)(x.h.cardLogo))),i.createElement(C.x4,{className:x.h.smartPhrasesLabel},e.miniCardTitle))}}(e):h.$.isSentenceLevelBrandTones(e)?function(e){const t=(0,o.pipe)(e.extraProperties.sentenceLevelBrandTones,c.chain((e=>e.companyLogoUrl)),c.fold(a.constNull,s.y));return{style:"",description:i.createElement(w,{companyLogoUrl:t})}}(e):h.$.isShortenIt(e)||h.$.isToneAI(e)?O(e,n,u):c.isSome(m.tone)?function(e,t){return{style:A(e),description:i.createElement(S,{title:e.title,layoutDensity:t})}}(e,n):t?c.isSome(m.vox)?function(e,t){return{style:I.m.dotVox,description:i.createElement(i.Fragment,null,(0,o.pipe)(e.logoUrl,c.fold((()=>null),(e=>i.createElement(E,{logoUrl:e,className:x.h.cardLogo})))),i.createElement(k,{vox:e,isMinimalCard:t===g.j.Density.minimal}))}}(m.vox.value,n):h.$.isFree(e)?O(e,n,u):function(e,t,n){return{style:A(e),description:i.createElement("div",Object.assign({},(0,l.Sh)(x.h.dualItemLabel,(0,o.pipe)(n,g.j.Density.matchOrDefault(g.j.Density.minimal)((()=>x.h.minimalTitle),(()=>{}))))),i.createElement("span",{className:x.h.dualItemLabel},e.lensName,i.createElement(F,{highlightStyle:t})))}}(e,r,n):null}function O(e,t,n){return(0,o.pipe)(t,g.j.Density.matchOrDefault(g.j.Density.minimal)((()=>function(e,t){return{style:A(e),description:t||i.createElement(C.XY,{className:x.h.minimalTitle},e.miniCardTitle)}}(e,n)),(()=>function(e){return{style:A(e),description:e.lensName}}(e))))}const N=({label:e})=>i.createElement("span",{className:x.h.fluencyLabel},e,i.createElement(f.RZ,{iconWidth:10,buttonClass:x.h.fluencyInfo,iconClass:x.h.fluencyInfo,title:i.useContext(u.m.Context).card.fluency.tooltip})),$=({style:e,description:t})=>i.createElement("span",Object.assign({},(0,l.Sh)(x.h.lens,x.h.dot,e)),t),F=({highlightStyle:e})=>{const t=i.useContext(u.m.Context);if(e===r.none)return null;const n=e===r.new?i.createElement("div",{className:x.h.newPremiumLabel},t.premiumAlertLabel.new,i.createElement(v.JO.Paid,{className:x.h.newPremiumLabelIcon,width:12})):i.createElement(v.JO.Paid,{className:x.h.premiumPersistentTooltipIcon,width:10});return i.createElement(b.u,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},n)},P=({style:e,description:t,extraStyle:n})=>i.createElement("span",Object.assign({},(0,l.Sh)(n,x.h.lensMinimal,x.h.lens,x.h.dot,e)),t),D=e=>(0,o.pipe)(T(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.children),c.fromNullable,c.map((t=>i.createElement("div",{className:e.className},(0,o.pipe)(e.activeAlert.extraProperties.fluencyMessage,c.fold((()=>(0,o.pipe)(e.layoutDensity,g.j.Density.matchOrDefault(g.j.Density.minimal)((()=>i.createElement(P,Object.assign({},t))),(()=>i.createElement($,Object.assign({},t)))))),(n=>(0,o.pipe)(e.layoutDensity,g.j.Density.match(i.createElement(i.Fragment,null,i.createElement($,Object.assign({},t)),i.createElement(N,{label:n})),i.createElement($,Object.assign({},t)),i.createElement(P,{style:t.style,extraStyle:x.h.minimalTitle,description:e.activeAlert.miniCardTitle}))))))))),c.fold((()=>i.createElement("div",{"data-purpose":"label-placeholder"})),(t=>i.createElement(j,null,t,e.badge)))),j=({children:e})=>i.createElement("div",{className:x.h.labelContainer},e)},74754:(e,t,n)=>{n.d(t,{y:()=>a});var r=n(28706);const i=["b","i","br","ul","li"];var a;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:i.concat(["a"]),linkRegExp:t}:{allowedTags:i};return r.yG(e,n)}}(a||(a={}))},66346:(e,t,n)=>{n.d(t,{Vh:()=>m,G3:()=>p,hC:()=>h});var r=n(27378),i=n(84966),a=n(30763),o=n(26027),s=n(15646),l=n(7046),c=n(21474),d=n(28706),u=n(36642);const m=({card:{activeAlert:e,id:t,visualState:n},actions:m,mode:p,className:g,disabled:f})=>{const y=r.useContext(a.m.Context);return r.createElement(l.zx.Tertiary,{key:"toggle-more",name:h(n,y),title:"mini"===p?h(n,y):"",className:g,disabled:f,onClick:d.hz((()=>{const r=o.X.isCardOpen(n);m.next({type:s.eI.Kind.startTransitionTo,id:t,transition:{type:r?"focused":"expanded",clockwise:!0}}),r||m.next({type:s.lY.Type.alertFeedback,alertId:e.id,feedbackType:i.PZ.EXPANDED})}))},o.X.isCardOpen(n)?r.createElement(c.JO.Arrow,{key:"more",className:u.h.lessIcon}):r.createElement(c.JO.QuestionMark,{key:"expand"}),"default"===p&&h(n,y))},p=({visualState:e,children:t,className:n})=>r.createElement("div",{className:(o.X.isCardOpen(e)?u.h.more:u.h.moreHidden)+" "+n},t);function h(e,t){const n=t.card;return o.X.isCardOpen(e)?n.less:n.more}},36642:(e,t,n)=>{n.d(t,{h:()=>S});var r=n(44060),i=n(63969),a=n(40219);const o={$nest:{"&:before":{position:"absolute",width:i.u.px(10),height:i.u.px(10),borderRadius:i.u.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},l={color:r.Il.CoreNeutral50,textTransform:"uppercase",letterSpacing:r.xv.SubheadingLetterSpacing,fontSize:i.u.rem(r.xv.SubheadingSize),lineHeight:i.u.rem(r.xv.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:i.u.rem(.25)}}},c={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:i.u.px(2),left:i.u.rem(-1.1),margin:"auto 0"}}},d={$nest:{"&:before":{top:0,bottom:0,left:i.u.rem(-1.1),margin:`${i.u.rem(.25)} 0 auto 0`}}},u={margin:`0 ${i.u.rem(.4)} 0 ${i.u.rem(.2)}`,width:i.u.rem(.85),height:i.u.rem(.85),objectFit:"contain"},m={position:"absolute",top:0,bottom:0,left:i.u.rem(-1),margin:"auto",background:r.Il.CoreNeutral0,transform:"translateX(-50%)"},p={minWidth:"initial",minHeight:"initial",padding:`${i.u.rem(.3)} ${i.u.rem(.25)}`,cursor:"pointer",borderRadius:i.u.percent(100),marginLeft:i.u.rem(.5),$nest:{"&:hover":{background:r.Il.CoreNeutral10}}},h={display:"flex",alignItems:"center",padding:`0 ${i.u.rem(.25)}`,borderRadius:i.u.rem(a.fx),cursor:"pointer",background:r.Il.CoreYellow20,color:r.Il.CoreYellow80,marginLeft:i.u.rem(.5),$nest:{"&:hover":{background:r.Il.CoreYellow10}}},g={minWidth:"initial",minHeight:"initial",fill:r.Il.CoreYellow80,marginLeft:i.u.rem(.3)},f={display:"flex",alignItems:"flex-start",top:i.u.rem(.125),minWidth:"initial",minHeight:"initial",background:r.Il.CoreNeutral0},y={color:r.Il.CoreNeutral90,textTransform:"none",letterSpacing:r.xv.SmallLetterSpacing,fontWeight:r.xv.SmallWeight,fontSize:i.u.rem(r.xv.SmallSize),lineHeight:i.u.rem(r.xv.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},v={color:r.Il.CoreNeutral50,textTransform:"none"},b={width:i.u.rem(1),height:i.u.rem(1)},C={display:"inline-flex",padding:`0 ${i.u.rem(.25)}`,borderRadius:i.u.rem(a.fx),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},I={display:"inline-flex",marginLeft:i.u.rem(.1),minWidth:0,minHeight:0},x={color:r.Il.CoreNeutral80,textTransform:"none"},k={width:i.u.rem(1),height:i.u.rem(1),marginRight:i.u.rem(.375)},E={color:r.Il.CoreRed60},S=i.u.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[l],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[l,c],lensMinimal:[d],voxLogo:[u],cardLogo:[m],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[p],newPremiumLabel:[h],newPremiumLabelIcon:[g],takeawayIcon:[f],minimalTitle:[y],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[v],toneLogo:[m,b],fluencyLabel:[l,C],fluencyInfo:[I],dot:[o],smartPhrasesLabel:[{textTransform:"none"}],sentenceLevelBrandTonesLabel:[x],sentenceLevelBrandTonesLabelImage:[k],sentenceLevelBrandTonesOffBrand:[E]})},1883:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(27378),i=n(5739),a=n(12187),o=n(63969),s=n(35108),l=n(50224);const c=e=>{const{shade:t}=(0,s.SA)(e.visualState);r.useEffect((()=>{t||e.onFocus()}),[]);const n=e.theme||{};return r.createElement(i.F.div,{className:n.container},e.header,r.createElement(i.F.div,{className:n.innerContainer},r.createElement(i.F.div,Object.assign({},(0,a.Sh)(b.wrapper,n.wrapper),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),r.createElement(i.F.div,Object.assign({},(0,a.Sh)(b.grid,n.content)),r.createElement(i.F.div,Object.assign({},(0,a.Sh)(b.mainContent,n.contentBody)),e.body),e.footer?r.createElement("div",{className:b.footerContent},e.footer):null,e.subActions||e.navigation||e.mainActions?r.createElement("div",{className:b.actions},e.subActions,r.createElement("div",{className:b.spacerOne}),e.navigation,r.createElement("div",{className:b.spacerFloat}),e.mainActions):null)),e.extra))},d="& > * + *",u=.75,m={position:"relative"},p={padding:`${o.u.rem(1)} ${o.u.rem(.5)} ${o.u.rem(u)} ${o.u.rem(1)}`},h={padding:`0 ${o.u.rem(.5)} 0 ${o.u.rem(1)}`,$nest:{[d]:{marginTop:o.u.rem(u)}}},g={padding:`0 ${o.u.rem(.5)} 0 ${o.u.rem(1)}`,$nest:{[d]:{marginTop:o.u.rem(u)}}},f={display:"flex",marginLeft:o.u.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},y={width:o.u.rem(1),flexShrink:1},v={$nest:{[d]:{marginTop:o.u.rem(u)}}},b=Object.assign(Object.assign({},o.u.stylesheet({mainContent:[h],footerContent:[g],actions:[f],spacerOne:[y],spacerFloat:[{flex:1}],grid:[v]})),{fullCard:o.u.joinClasses([l.g.fullCardSelector,o.u.style(m)]),wrapper:o.u.joinClasses([l.g.fullCardSelector,o.u.style(m,p)])})},55636:(e,t,n)=>{n.d(t,{PS:()=>it,mQ:()=>nt,o:()=>et,jt:()=>tt,UK:()=>ht,Kg:()=>Me,dk:()=>$e,U4:()=>De,lJ:()=>We,hl:()=>Ke,__:()=>Je,M9:()=>at,ko:()=>Fe,hT:()=>Ge,Be:()=>je,Eq:()=>yt,oE:()=>ft,g8:()=>gt,q4:()=>qe,Dx:()=>Ye,jg:()=>Ve,Ot:()=>Xe,Nm:()=>Ue,VM:()=>vt,k_:()=>sn,LM:()=>bt,m_:()=>Ze,Bn:()=>ln,Gq:()=>Ct,IH:()=>It});var r=n(27378),i=n(40327),a=n(97329),o=n(12187),s=n(5739),l=n(38983),c=n(6322),d=n(84966),u=n(8125),m=n(83078),p=n(18208),h=n(5114),g=n(44060),f=n(81531),y=n(63969),v=n(24588),b=n(40219),C=n(71284),I=n(30763),x=n(88097),k=n(17594),E=n(26027),S=n(91549),A=n(15646),w=n(75316),T=n(4890),O=n(51006),N=n(8313),$=n(24523),F=n(29847),P=n(62310),D=n(7046),j=n(24811),M=n(95286),L=n(29245),B=n(21474),R=n(50790),H=n(63847),_=n(42329),U=n(16951),W=n(97528),q=n(3656),z=n(85255),G=n(60797),Y=n(2291),V=n(28706),X=n(66310),J=n(49708),K=n(2834),Z=n(95093),Q=n(17343),ee=n(40151),te=n(77176),ne=n(32952),re=n(24209),ie=n(2844),ae=n(85985),oe=n(55935),se=n(50224),le=n(28584),ce=n(74754),de=n(66346),ue=n(1883),me=n(26662),pe=n(14532);const he=({examples:e,layoutDensity:t})=>r.createElement(q.ZT,{nodeType:"table",styleType:q.ZT.Type.Base,className:Se.wrapper},e.map(((e,n)=>r.createElement("tbody",{key:n,className:Se.group},e.map((({text:e,title:n,color:a,hasItalic:o},s)=>r.createElement("tr",{key:s,className:(0,i.pipe)(t,T.j.Density.matchL((()=>Se.item),(()=>Se.itemCompact),(()=>Se.itemMinimal)))},(0,i.pipe)(n,h.map((e=>r.createElement("td",{className:pe.J.colorMatch(a)(Se)},(e=>e.split("/").reduce(((e,t,n)=>(0!==n&&e.push(r.createElement("br",{key:n})),e.push(t),e)),[]))(e)))),h.toNullable),r.createElement("td",Object.assign({colSpan:h.isNone(n)?2:void 0,className:o?Se.content:Se.contentItalic},V.yG(e)))))))))),ge={$nest:{"&:not(:last-child):after":{display:"block",height:y.u.rem(1.75),content:"''"}}},fe={$nest:{"&:not(:last-child)":{borderBottom:`${y.u.rem(.5)} solid transparent`}}},ye={display:"flex",flexDirection:"column",lineHeight:y.u.rem(1.3125)},ve={padding:0,verticalAlign:"top",lineHeight:y.u.rem(1.25)},be={paddingRight:y.u.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},Ce={color:g.Il.CoreNeutral50,fontFeatureSettings:`${b.g_}, ${b.xL}`},Ie={color:g.Il.CoreRed50},xe={color:g.Il.CoreGreen60},ke={color:g.Il.CoreNeutral90},Ee={color:g.Il.CoreNeutral90},Se=y.u.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[ge],item:[fe],itemCompact:[fe,{display:"flex",flexDirection:"column"}],itemMinimal:[fe,ye],baseBlock:[ve],title:[ve,be],content:[ve,Ce],contentItalic:[ve,Ce,{fontStyle:"italic"}],red:[ve,be,Ie],green:[ve,be,xe],yellow:[ve,be,ke],fallback:[ve,be,Ee]});var Ae=n(89521),we=n(19025);const Te=a.default||a,Oe=(0,u.HP)(f.Monitoring.Logging.getLogger);var Ne;!function(e){e.actionRegex=/^#([\w\d_-]+)$/,e.parse=t=>(0,i.pipe)(h.fromNullable(t.match(e.actionRegex)),h.chain((e=>{switch(e[1]){case"set-goals":return h.some(A.lY.Type.openSetGoals);default:return h.none}})))}(Ne||(Ne={}));const $e=({description:e,actions:t,layoutDensity:n,className:a})=>{const s=r.useContext(I.m.Context),l=r.useContext(W.G.Context),{ref:c,onMount:d}=z.P.useElWatcher();z.P.useSubscriptionTo(c.pipe(G.oA,X.w((e=>Array.from(e.getElementsByTagName("a")).reduce(((e,n)=>{const r=J.R(n,"click").pipe(K.b((e=>e.preventDefault())));return(0,i.pipe)(h.fromNullable(n.getAttribute("href")),h.chain(Ne.parse),h.fold((()=>(Oe("Description").error("Invalid action",n),e.pipe(Z.T(r)))),(i=>e.pipe(Z.T(l.getTooltipObservable(n,s.card.actionDescription[i],"auto",h.none),r.pipe(Q.h({type:i}),K.b(t)))))))}),ee.E)))));const u=(0,i.pipe)(n,T.j.Density.matchOrDefault(T.j.Density.minimal)((()=>dn.minimalDescription),(()=>dn.description)));return r.createElement(q.XY,Object.assign({mount:d},(0,o.Sh)(u,a),ce.y.renderToHtml(e,Ne.actionRegex)))},Fe=({card:e,isChecking:t})=>x.bZ.isRated(e.activeAlert)?r.createElement(j.B,{value:E.X.isCardPresuccess(e.visualState)?Y.g.MAX:e.meta.percentile,initValue:E.X.isCardPresuccess(e.visualState)?e.meta.percentile:Y.g.MIN,isLoading:t}):null,Pe=({card:e})=>{const t=(0,j.N)(E.X.isCardPresuccess(e.visualState)?Y.g.MAX:e.meta.percentile,E.X.isCardPresuccess(e.visualState)?e.meta.percentile:Y.g.MIN);return r.createElement(s.F.Fragment,null,t.pipe(te.U(Y.g.prism.reverseGet),te.U((e=>r.createElement(H.P,{percentage:e,colorType:H.P.ColorType.neoBlue,iconSize:H.P.IconSize.extraSmall,theme:{radialProgressBar:dn.circleProgress,radialProgressText:dn.circleText}})))))},De=({card:e,feedbackActions:t,onClick:n,disabled:a})=>{const o=r.useContext(I.m.Context);return r.createElement(D.zx.Ghost,{name:"ignore",title:o.dismiss,onClick:V.hz((()=>{t.next({type:A.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:E.X.isEligibleForDismissSurvey(e),drilldownSuggestionIds:w.C.isSynfonyItem(e)?(0,i.pipe)(e.synfonySelection,h.getOrElse((()=>[]))):void 0}),n&&n()})),disabled:a},r.createElement(B.JO.Ignore,null))},je=({card:e,feedbackActions:t,onClick:n,disabled:i})=>{const a=r.useContext(I.m.Context);return r.createElement(D.zx.Ghost,{name:"resolve",title:a.resolve,onClick:V.hz((()=>{t.next({type:A.lY.Type.alertResolve,alertId:e.activeAlert.id,id:e.id}),n&&n()})),disabled:i},r.createElement(B.JO.YesCircle,null))},Me=({card:e,feedbackActions:t,disabled:n,onClickDismissButton:a})=>r.createElement(r.Fragment,null,r.createElement(De,{card:e,feedbackActions:t,onClick:a,disabled:n}),r.createElement(He,{activeAlert:e.activeAlert,onMute:(0,i.pipe)(e.muteCategory,h.map((n=>V.hz((()=>t.next({type:A.lY.Type.muteAlertCategory,categoryId:n.id,id:e.id})))))),onWrong:V.hz(V.hz((()=>t.next({type:A.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.PZ.WRONG_SUGGESTION})))),onOffensive:V.hz(V.hz((()=>t.next({type:A.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.PZ.OFFENSIVE_CONTENT})))),onVisibilityChange:e=>t.next({type:A.lY.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),disabled:n})),Le=({onClick:e})=>{const t=r.useContext(I.m.Context);return r.createElement(D.zx.Flat,{name:"mute",onClick:e},r.createElement(B.JO.Mute,null),t.card.mute)},Be=({onClick:e})=>{const t=r.useContext(I.m.Context);return r.createElement(D.zx.Flat,{name:"incorrect",onClick:e},r.createElement(B.JO.Report,null),t.card.wrong)},Re=({activeAlert:e,onClick:t})=>{const n=r.useContext(I.m.Context);return(0,i.pipe)(e.extraProperties.vox,m.mapOrDefault((()=>null),r.createElement(D.zx.Flat,{name:"offensive",onClick:t},r.createElement(B.JO.Report,null),n.card.offensive)))},He=({activeAlert:e,onMute:t,onWrong:n,onOffensive:a,onVisibilityChange:o,disabled:s})=>{const l=e.getTransform(),c=h.isSome(t);return c||h.isSome(l)?r.createElement(M.L,{label:r.createElement(D.zx.Ghost,{name:"moreActions",disabled:s},r.createElement(B.T1.MoreVertical,null)),align:"right",theme:{dropdownContainer:dn.dropdownContainer},name:"moreActions",onVisibilityChange:o},(0,i.pipe)(t,h.map((e=>r.createElement(Le,{onClick:e}))),m.orNull),(0,i.pipe)(l,h.map((()=>r.createElement(r.Fragment,null,c&&r.createElement(M.L.Delimiter,null),r.createElement(Be,{onClick:n}),r.createElement(Re,{activeAlert:e,onClick:a})))),m.orNull)):null},_e=({card:e,onClick:t,mode:n="default"})=>{const i=r.useContext(I.m.Context),a=r.useContext(C.a.Context),o=r.useCallback((e=>{a.has(C.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()}),[]),s=e.renderOptions.features.has(T.j.Features.showAnonymousUserFooters)?{disabled:!0,title:i.card.disabledForAnonymous}:{title:"mini"===n?i.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?r.createElement(D.zx.Tertiary,Object.assign({},s,{name:"add-to-dict",onClick:o}),r.createElement(B.JO.Dict,null),i.card.addToDict):null},Ue=({title:e,checkingInProgress:t,checkingMessage:n,applyMessage:i,onClick:a})=>r.createElement(D.zx.Primary,{key:"update-all",name:"update-all",title:e,className:t.pipe(te.U((0,u.RN)(me.V.updateAllBtnLoading,me.V.updateAllBtn))),disabled:t,children:t.pipe(te.U((0,u.RN)(r.createElement(r.Fragment,{key:"update-all-checking"},p.capitalize(n),r.createElement(_.$,{size:18,strokeWidth:2,wrapperClassName:me.V.updateBtnSpinner,variation:"white"})),r.createElement(r.Fragment,{key:"update-all-checked"},p.capitalize(i))))),onClick:V.hz(a)}),We=({card:e})=>(0,i.pipe)(Qe(e.activeAlert,e.renderOptions.layoutDensity),h.map((t=>r.createElement(de.G3,{key:"card-actions-details",visualState:e.visualState,className:dn.more},t))),h.toNullable),qe=({card:e,actions:t})=>Ze(e.activeAlert,e.renderOptions.layoutDensity)?r.createElement(de.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e}):w.C.isDefaultItem(e)?r.createElement(_e,{key:"card-actions-button",card:e,mode:"default",onClick:V.hz((()=>t.next({type:A.lY.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.PZ.ADD_TO_DICTIONARY})))}):null,ze=e=>r.createElement(N.TG,{alignment:"bottom",eventType:"onclick",stepId:O.X.StepId.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",dotPosition:{kind:"findFirstButton",position:N.E2.rightTop},themes:{containerWrapperClassName:dn.onboardingNotification}},e.children),Ge=({onClick:e,rl:t,layoutDensity:n})=>r.createElement(ze,null,r.createElement(Ae.zO,{replacementsLabels:t,onClick:e,layoutDensity:n})),Ye=({text:e})=>r.createElement(q.P1,Object.assign({className:dn.title},ce.y.renderToHtml(e))),Ve=({text:e})=>r.createElement(q.P1,Object.assign({className:dn.titleMinimal},ce.y.renderToHtml(e))),Xe=({alert:e})=>r.createElement(q.H4,Object.assign({className:dn.title},ce.y.renderToHtml(e.title))),Je=({alert:e,options:t,children:n,className:i,badge:a})=>r.createElement(le.oL,Object.assign({activeAlert:e,showCardLabel:t.features.has(T.j.Features.showLabel),premiumAlertLabelHighlight:t.features.has(T.j.Features.showNewPremiumCardLabels)?le.a0.new:t.features.has(T.j.Features.showPersistentPremiumCardLabels)?le.a0.persistent:le.a0.none,layoutDensity:t.layoutDensity},(0,o.Sh)(dn.label,i),{badge:a}),n),Ke=({text:e,layoutDensity:t})=>r.createElement("div",{className:dn.highlightedTextBox},r.createElement(q.XY,{className:(0,i.pipe)(t,T.j.Density.matchOrDefault(T.j.Density.minimal)((()=>dn.minimalHighlightedTextInnerBox),(()=>dn.highlightedTextInnerBox)))},e));function Ze(e,t){return!e.extraProperties.hasAddToDictionary&&(!k.$.isSentenceLevelBrandTones(e)&&(!(!h.isSome(e.examples)&&!h.isSome(e.details))||!(t!==T.j.Density.minimal||!h.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation)))}const Qe=(e,t)=>{if(!Ze(e,t))return m.empty();const n=(0,i.pipe)(t,T.j.Density.matchOrDefault(T.j.Density.minimal)((()=>dn.minimalDescription),(()=>dn.description)));return h.some(r.createElement(r.Fragment,null,(0,i.pipe)(t,T.j.Density.matchOrDefault(T.j.Density.minimal)((()=>h.isNone(e.details)?r.createElement(q.XY,Object.assign({className:n},ce.y.renderToHtml(e.explanation,Ne.actionRegex))):null),(()=>null))),(0,i.pipe)(e.details,h.map((e=>r.createElement(q.XY,Object.assign({className:n},ce.y.renderToHtml(e))))),h.toNullable),(0,i.pipe)(e.examples,h.map((e=>r.createElement(he,{layoutDensity:t,examples:e}))),h.toNullable)))},et=({isChecking:e})=>r.createElement(s.F.Fragment,null,e.pipe(te.U((e=>r.createElement(_.$,{className:e?dn.spinner:dn.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2}))))),tt=e=>{const[t,n]=r.useState(!0);return t?r.createElement(ot,{type:e.type,actions:e.actions,onClose:()=>n(!1)}):null},nt=({card:e,actions:t})=>{if(w.C.isSentenceLevelBrandTonesItem(e))return null;if((0,i.pipe)(e.activeAlert.extraProperties.freePremium,m.contains("unlocked")))return r.createElement(dt,null);if(!k.$.isFree(e.activeAlert)&&e.renderOptions.features.has(T.j.Features.showPremiumOnboarding))return r.createElement(ut,null);if(!k.$.isFree(e.activeAlert)&&e.renderOptions.features.has(T.j.Features.showPremiumTrialFooters))return r.createElement(ct,{actions:t});if(e.renderOptions.features.has(T.j.Features.showAnonymousUserFooters))return r.createElement(lt,{actions:t,card:e});const n=e.renderOptions.isPremiumOnboarding||l.h.create(!1);return r.createElement(s.F.Fragment,null,n.view((n=>!k.$.isFree(e.activeAlert)&&n?r.createElement(ut,null):(0,i.pipe)(e.renderOptions.layoutDensity,T.j.Density.matchOrDefault(T.j.Density.cozy)((()=>r.createElement(st,{card:e,actions:t})),(()=>(0,i.pipe)(e.activeAlert.extraProperties.fluencyMessage,h.fold((()=>r.createElement(st,{card:e,actions:t})),(e=>r.createElement(mt,{fluencyLabel:e}))))))))))};function rt(e,t,n){n.next({type:A.lY.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const it=({card:e,actions:t})=>{const n=r.useContext(I.m.Context).card.matchesNavigation;return r.createElement(s.F.Fragment,null,(0,i.pipe)(e,te.U((e=>r.createElement("div",{key:e.activeAlert.id,className:dn.bundleNavWrapper},r.createElement(q.XY,{className:dn.bundleTitle},S.R.bundleTitle(e)),r.createElement("div",{className:dn.bundleNavMatchesRow},r.createElement(D.zx.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:dn.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>rt("left",e,t)},r.createElement(B.JO.Arrow,{className:dn.bundleNavLeftButtonIcon})),r.createElement(q.ck,{className:dn.bundleNavCount},n.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),r.createElement(D.zx.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:dn.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>rt("right",e,t)},r.createElement(B.JO.Arrow,{className:dn.bundleNavRightButtonIcon}))))))))},at=({card:e,actions:t,isChecking:n})=>r.createElement(r.Fragment,null,(0,i.pipe)(e.renderOptions.layoutDensity,T.j.Density.matchOrDefault(T.j.Density.minimal)((()=>x.bZ.isRated(e.activeAlert)?r.createElement(r.Fragment,null,r.createElement(Pe,{card:e}),r.createElement(Ve,{text:e.activeAlert.miniCardTitle})):r.createElement(Je,{alert:e.activeAlert,options:e.renderOptions},r.createElement(Ve,{text:e.activeAlert.miniCardTitle}))),(()=>r.createElement(r.Fragment,null,r.createElement(Je,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(Ye,{text:e.activeAlert.title}),r.createElement(Fe,{card:e,isChecking:n}))))),r.createElement($e,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),ot=e=>{const t=r.useContext(I.m.Context),{title:n,content:i}=t.card.onboarding[e.type];return r.useLayoutEffect((()=>()=>e.actions.next({type:A.lY.Type.onboardingClose,value:e.type}))),r.createElement(R.DI.AdHoc,{key:"new-notification",title:r.createElement(r.Fragment,null,n,r.createElement(P.C.Regular,{className:dn.newLabel},t.new)),className:dn.newCheckNotification,onClose:e.onClose},i)},st=({actions:e,card:t})=>{const n=r.useContext(I.m.Context);return z.P.useEffectOnDidMount((()=>{t.meta.showMuteQuotedAdvice&&e.next({type:A.lY.Type.muteQuotedAdviceShow})})),t.meta.showMuteQuotedAdvice?r.createElement(pt.Base,{className:jt},r.createElement("span",null,n.card.muteCitedText(r.createElement("a",{"data-name":"open-preferences-link",onClick:()=>e.next({type:A.lY.Type.openPreferences})},n.documentSettings.editorSettings))),r.createElement(D.zx,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:A.lY.Type.dismissMuteQuotedAdvice})},r.createElement(B.JO.Close,null))):null},lt=({actions:e,card:t})=>{const n=r.useContext(I.m.Context),i=t.activeAlert.extraProperties.hasAddToDictionary?n.anonymousUserAddToDictionarySignInPrompt:n.anonymousUserGenericSignInPrompt;return r.createElement(pt.Base,{className:dn.anonymousUserNotice},i((()=>{e.next({type:A.lY.Type.toSignIn})})))},ct=({actions:e})=>r.createElement(pt.Small,{className:Lt},r.createElement(B.JO.PaidLink,{className:dn.iconWrapper,width:12}),r.useContext(I.m.Context).premiumFreeTrial((()=>{e.next({type:A.lY.Type.premiumTrialFooterCtaClick})}))),dt=()=>{const{beforeIcon:e,afterIcon:t}=r.useContext(I.m.Context).freePremiumAlertFooter;return r.createElement(pt.Small,{className:Rt},e,r.createElement(B.JO.PaidLink,{width:12}),t)},ut=()=>{const{premiumOnboardingFooter:e}=r.useContext(I.m.Context);return r.createElement(pt.Small,{className:Rt},r.createElement(B.JO.PaidLink,{width:12}),e)},mt=({fluencyLabel:e})=>{const t=r.useContext(I.m.Context).card.fluency,n=Object.keys(c.n5.PrimaryLanguage).filter((e=>e!==c.n5.PrimaryLanguage.Other)).map((e=>e.toLowerCase())),a=e.toLowerCase(),o=(0,i.pipe)(h.fromNullable(n.find((e=>a.includes(e)))),h.map(p.capitalize),h.getOrElse((()=>"multilingual")),t.cardFooter);return r.createElement(q.x4,{className:dn.fluencyNotice},o,r.createElement(U.u,{title:t.tooltip},r.createElement(B.JO.Info,{width:10,className:dn.fluencyInfo})))};var pt;!function(e){function t(e){return({children:t,className:n})=>r.createElement(e,Object.assign({},(0,o.Sh)(dn.cardFooter,n)),t)}e.Small=t(q.x4),e.Base=t(q.XY)}(pt||(pt={}));const ht=({title:e,children:t})=>r.createElement("div",{className:dn.cardWrapper},r.createElement("div",{className:dn.cardWrapperTitle},e),t),gt=({className:e,title:t,emoji:n,hideBetaBadge:i})=>{const a=r.useContext(I.m.Context);return r.createElement("div",Object.assign({},(0,o.Sh)(dn.smartPhrasesTitle,e)),r.createElement("div",{className:dn.smartPhrasesTitleEmojiContainer},r.createElement(L.dy,{className:dn.smartPhrasesTitleEmojiWrapper,emojiClassName:dn.smartPhrasesTitleEmoji},n),t),i?null:r.createElement(P.C.Regular,null,a.beta))},ft=({card:e,actions:t,isLoading:n,transform:i,classes:a})=>{const[o,l]=r.useState(null),[c,d]=r.useState(null),[u,m]=r.useState(200),[p,g]=r.useState(null);r.useEffect((()=>{const e=new Te((e=>{e[0]&&d(e[0].contentRect.height)}));return l(e),()=>e.disconnect()}),[]);const y=r.useCallback((e=>{p&&(null==o||o.unobserve(p)),e&&(g(e),null==o||o.observe(e))}),[p,o]);return r.useEffect((()=>{!e.activeAlert.hideReplacements&&c&&m(c)}),[c]),n?r.createElement("div",{className:dn.smartPhrasesLoadingContainer,style:{height:null!=u?u:void 0}},r.createElement("div",{className:dn.smartPhrasesLoadingContainerInner},r.createElement($.D,{size:"medium"}))):e.activeAlert.hideReplacements?r.createElement("div",{className:dn.smartPhrasesSuccessLabel},r.createElement(B.JO.SmartPhrases.HeaderCheckmark,{className:dn.smartPhrasesSuccessLabelIcon}),e.activeAlert.phraseAddedTitle):r.createElement("div",{ref:y,className:dn.smartPhrasesReplacementsContainer},r.createElement(Je,{alert:e.activeAlert,options:e.renderOptions,className:dn.smartPhrasesReplacementsLabel}),r.createElement(s.F.div,{className:a.transformContainer},r.createElement(F.T9,{classes:{rendered:a.renderedReplacement,removing:a.hiddenReplacement},timeout:250,content:i.pipe(te.U(h.fold((()=>(f.Monitoring.Logging.getLogger("SmartPhrasesReplacements").error("No replacements available for SmartPhrases card.",{cardId:e.id}),null)),(n=>{const i=Object.assign(Object.assign({},n),{labels:n.labels.filter(((t,n)=>!e.activeAlert.usedReplacementsIndexes.includes(n))).slice(e.activeAlert.replacementsStartIndex,e.activeAlert.replacementsEndIndex)});return r.createElement(Ae.GP,{replacementsLabels:i,onClick:n=>V.hz((()=>{const r=e.activeAlert.originalReplacementsIndexes.get(n+e.activeAlert.replacementsStartIndex)||n,i=E.X.isEligibleForAcceptSurvey(e),a={type:A.lY.Type.smartPhrasesApply,alertId:e.activeAlert.id,cardId:e.id,replacementIndex:n+e.activeAlert.replacementsStartIndex,originalReplacementIndex:r};t.next({type:A.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:r,id:e.id,eligibleForSurvey:i,actionsToDispatchAfterSurvey:h.isSome(i)?[a]:void 0,cardType:A.lY.getCardType(e)}),h.isNone(i)&&t.next(a)}))})}))))})))},yt=({card:e,actions:t})=>{const n=r.useContext(I.m.Context);return r.createElement(D.zx.Flat,{className:dn.smartPhrasesFooter,name:`smart-phrases-${e.activeAlert.intent}-open-feedback-form`,onClick:()=>t.next({type:A.lY.Type.smartPhrasesOpenFeedbackForm,alertId:e.activeAlert.id,cardId:e.id})},r.createElement("span",null,n.card.smartPhrases.openFeedbackFormQuestion),r.createElement(B.JO.SmartPhrases.OpenFeedbackFormArrow,null))},vt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardTheme:a,cardBody:o,cardFooter:s,mainActions:c,subActions:d,cardExtra:m})=>{const{transformHidden:p,isMouseInside:h,transformHiddenObservable:g}=z.P.useMemoOnDidMount((()=>{const e=l.h.create(!1),t=new ne.xQ,r=re.T(ie.aj([t,n]).pipe(te.U((([e,t])=>e&&t)),ae.h((e=>!0===e)),K.b((()=>e.set(!0)))),n.pipe(oe.T(1),ae.h((e=>!e)),K.b((()=>e.set(!1)))));return{transformHidden:e,isMouseInside:t,transformHiddenObservable:r}}));return z.P.useSubscriptionTo(g),r.createElement(ue.Z,{visualState:e.visualState,onFocus:()=>t.next({type:A.lY.Type.alertCardShow,cardType:A.lY.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:A.lY.Type.hover,kind:"hover",id:e.id}),h.next(!0)},onMouseOut:()=>{t.next({type:A.lY.Type.hover,kind:"unhover",id:e.id}),h.next(!1)},theme:Object.assign(Object.assign({content:i.pipe(te.U((0,u.RN)(dn.loadingWrapperInvisible,dn.loadingWrapper)))},(0,we.G)(e.renderOptions)),a),extra:r.createElement(r.Fragment,null,r.createElement(et,{isChecking:i}),null==m?void 0:m()),body:o(p),mainActions:null==c?void 0:c(),footer:null==s?void 0:s(p),subActions:null==d?void 0:d()})},bt={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",textDecoration:"none",$nest:{"&:link, &:visited":{color:g.Il.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${b.g_}, ${b.xL}`},"& ul":{margin:`${y.u.rem(.75)} 0 0`,padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:y.u.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:y.u.rem(.5)}}},Ct={lineHeight:y.u.rem(1.3125)},It={$nest:{"& i":{color:g.Il.CoreNeutral50},"& > * + *":{marginTop:y.u.rem(.75)}}},xt={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:v.kl}}},kt={marginTop:y.u.important(0),lineHeight:y.u.rem(1.125)},Et={fontSize:y.u.rem(g.xv.SubheadingSize),lineHeight:y.u.rem(g.xv.SubheadingLineHeight)},St={width:y.u.rem(2),height:y.u.rem(2)},At={position:"absolute",top:`calc(50% - ${y.u.rem(1)})`,left:`calc(50% - ${y.u.rem(1)})`,width:y.u.rem(2),height:y.u.rem(2),transition:"opacity .2s"},wt={marginLeft:y.u.rem(.5),backgroundColor:g.Il.CoreGreen50,color:g.Il.CoreNeutral0,fontWeight:600},Tt={position:"absolute",marginTop:y.u.rem(-8.5),marginLeft:y.u.rem(-2),$nest:{"&:after":{position:"absolute",bottom:y.u.rem(-.525),left:y.u.rem(.7),borderTop:`${y.u.rem(.625)} solid ${g.Il.BackgroundNotification}`,borderRight:`${y.u.rem(.5)} solid transparent`,borderLeft:`${y.u.rem(.5)} solid transparent`,content:"' '"}}},Ot={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},Nt={position:"absolute",top:y.u.rem(.75),left:y.u.rem(.4)},$t={color:g.Il.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:g.Il.CoreBlue50,$nest:{"&:link, &:visited":{color:g.Il.CoreBlue50},"&:hover":{borderBottom:`1px solid ${g.Il.CoreBlue40}`,color:g.Il.CoreBlue40}}}}},Ft={display:"flex",borderRadius:`${b.LB} ${b.LB} ${y.u.rem(b.Jr)} ${y.u.rem(b.Jr)}`,color:g.Il.CoreNeutral50,padding:`${y.u.rem(.5)} ${y.u.rem(.75)} ${y.u.rem(.5)} ${y.u.rem(1)}`,fontSize:y.u.rem(.6875),lineHeight:y.u.rem(1.125)},Pt={padding:`0 ${y.u.rem(.6)}`,minWidth:y.u.rem(.625),minHeight:y.u.rem(.625)},Dt="muteQuotedAdvice",jt=y.u.joinClasses([Dt,y.u.style({$nest:{"& a":{borderBottom:`1px solid ${g.Il.CoreBlue50}`,color:g.Il.CoreBlue50,$nest:{"&:link, &:visited":{color:g.Il.CoreBlue50},"&:hover":{borderBottom:`1px solid ${g.Il.CoreBlue40}`,color:g.Il.CoreBlue40}}},"& i:hover":{strokeWidth:y.u.px(2)}}})]),Mt="premiumFreeTrial",Lt=y.u.joinClasses([Mt,y.u.style({$nest:{"& svg":{fill:g.Il.CoreYellow80},"& a":{fontWeight:800,color:g.Il.CoreYellow70,$nest:{"&:link, &:visited":{color:g.Il.CoreYellow80},"&:hover":{borderBottom:`1px solid ${g.Il.CoreYellow60}`,color:g.Il.CoreYellow60}}}}})]),Bt="premiumAlertFooter",Rt=y.u.joinClasses([Bt,y.u.style({$nest:{"& svg":{margin:`0 ${y.u.rem(.25)}`,fill:g.Il.CoreYellow80}}})]),Ht={display:"block",boxSizing:"border-box",padding:`${y.u.rem(1)} ${y.u.rem(1)} ${y.u.rem(1)} ${y.u.rem(1.5)}`,width:y.u.percent(100),borderRadius:`${b.LB} ${b.LB} ${y.u.rem(b.Jr)} ${y.u.rem(b.Jr)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${y.u.rem(1)} ${y.u.rem(1)} ${y.u.rem(1)} ${y.u.rem(2)}`,background:g.Il.CoreNeutral10,color:g.Il.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${y.u.rem(1)} ${y.u.rem(1)} ${y.u.rem(1)} ${y.u.rem(2)}`,position:"relative",background:g.Il.CoreYellow20,color:g.Il.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",justifyContent:"center",alignItems:"center",padding:`${y.u.rem(.5)}`,background:g.Il.CoreYellow20,color:g.Il.CoreYellow80}}},_t={position:"absolute",top:y.u.rem(.8),left:y.u.rem(.5),minWidth:y.u.rem(1),minHeight:y.u.rem(1)},Ut={fontWeight:"bold",fontSize:y.u.rem(.875),lineHeight:y.u.rem(1.125),flex:2},Wt={padding:`${y.u.rem(.625)} 0 ${y.u.rem(.1875)} ${y.u.rem(.5)}`,marginBottom:y.u.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},qt={fontSize:y.u.rem(.75),lineHeight:y.u.rem(1.125),color:g.Il.CoreNeutral90},zt={display:"flex",justifyContent:"flex-end",alignItems:"center",height:y.u.rem(1.5),$nest:{"& > * + *":{marginLeft:y.u.rem(.25)},"& > *":{borderRadius:y.u.rem(b.fx)}}},Gt={height:y.u.rem(2),minHeight:y.u.rem(2),width:y.u.rem(2),fill:g.Il.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:g.Il.CoreBlue50},"&[data-disabled='true']":{fill:g.Il.CoreNeutral30}}},Yt={borderRadius:y.u.rem(.75),background:g.Il.CoreNeutral20,margin:`${y.u.rem(-.25)} ${y.u.rem(-.25)}`,padding:`${y.u.rem(.25)} ${y.u.rem(.25)}`,$nest:{[`& .${se.g.cozyCardContainerSelector}`]:{margin:0,boxShadow:"none"},[`& .${se.g.fullCardSelector}`]:{padding:`${y.u.rem(.75)} ${y.u.rem(.5)} ${y.u.rem(.5)} ${y.u.rem(1)}`},"& [role=dropdown-list]":{transform:`translateY(${y.u.rem(-.5)})`}}},Vt={paddingTop:y.u.rem(.25),paddingBottom:y.u.rem(.5),paddingLeft:y.u.rem(.5),paddingRight:y.u.rem(.5),fontWeight:"bold",fontSize:y.u.rem(.875),lineHeight:y.u.rem(1.125)},Xt={marginRight:y.u.rem(.5),width:y.u.rem(1),height:y.u.rem(1)},Jt={display:"flex",alignItems:"center",justifyContent:"space-between",background:g.Il.CoreNeutral10,borderRadius:`${b.LB} ${b.LB} ${y.u.rem(.5)} ${y.u.rem(.5)}`,padding:`${y.u.rem(.6875)} ${y.u.rem(.5)} ${y.u.rem(.6875)} ${y.u.rem(1)}`,color:g.Il.CoreNeutral50,fontSize:y.u.rem(.6875),lineHeight:y.u.rem(1.125),height:y.u.rem(2.5),boxSizing:"border-box"},Kt={fontSize:y.u.rem(.75),lineHeight:y.u.rem(1.125),color:g.Il.CoreNeutral90,display:"flex",alignItems:"center",marginLeft:y.u.rem(-1.5)},Zt={marginRight:y.u.rem(.5)},Qt={display:"flex",flexDirection:"column",justifyContent:"center",animation:`${y.u.keyframes({from:{opacity:0,transform:"scale(0)"}})} .3s ease-in-out`},en={marginBottom:y.u.rem(.75)},tn={animation:`${y.u.keyframes({from:{opacity:0}})} .3s ease-in-out`};function nn(e,t){return{display:["block","-webkit-box"],maxHeight:y.u.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const rn=Object.assign(Object.assign({},nn(1.5,3)),{lineHeight:y.u.rem(1.5)}),an=Object.assign(Object.assign({},nn(1.3125,3)),{lineHeight:y.u.rem(1.3125)}),on={padding:y.u.rem(.5),borderRadius:y.u.rem(b.fx),background:g.Il.CoreNeutral10,color:g.Il.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${b.g_}, ${b.xL}`},sn=.25,ln={opacity:0,pointerEvents:"none"},cn={transition:`opacity ${y.u.seconds(sn)}`},dn=y.u.stylesheet({loadingWrapper:[cn],loadingWrapperInvisible:[cn,ln],description:[bt],minimalDescription:[bt,Ct],more:[It],onboardingNotification:[{display:"block"}],title:[xt],titleMinimal:[xt,kt],label:[Et],dropdownContainer:[St],spinner:[At],spinnerInvisible:[At,{opacity:0,pointerEvents:"none"}],newLabel:[wt],newCheckNotification:[Tt],baseNotice:[Ot],iconWrapper:[Nt],anonymousUserNotice:[Ot,$t],fluencyNotice:[Ot,Ft],fluencyInfo:[Pt],cardFooter:[Ht],circleProgress:[_t],circleText:[{display:"none"}],bundleTitle:[Ut],bundleNavWrapper:[Wt],bundleNavCount:[qt],bundleNavMatchesRow:[zt],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[Gt],bundleNavLeftButtonIcon:[Gt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[Gt,{transform:"rotate(270deg)"}],cardWrapper:[Yt],cardWrapperTitle:[Vt],smartPhrasesTitle:[{display:"flex",justifyContent:"space-between"}],smartPhrasesTitleEmojiContainer:[{display:"flex",alignItems:"center"}],smartPhrasesTitleEmojiWrapper:[{display:"inline-flex"}],smartPhrasesTitleEmoji:[Xt],smartPhrasesFooter:[Jt],smartPhrasesSuccessLabel:[Kt],smartPhrasesSuccessLabelIcon:[Zt],smartPhrasesLoadingContainer:[Qt],smartPhrasesLoadingContainerInner:[{width:"100%",display:"flex",justifyContent:"center"}],smartPhrasesReplacementsLabel:[en],smartPhrasesReplacementsContainer:[tn],highlightedTextBox:[on],highlightedTextInnerBox:[rn],minimalHighlightedTextInnerBox:[an]})},34047:(e,t,n)=>{n.d(t,{J:()=>st});var r,i=n(27378),a=n(57050),o=n(40327),s=n(38983),l=n(5739),c=n(8125),d=n(5114),u=n(44060),m=n(81531),p=n(63969),h=n(30763),g=n(26027),f=n(15646),y=n(75316),v=n(4890),b=n(29847),C=n(62310),I=n(7046),x=n(77797),k=n(21474),E=n(3656),S=n(28706),A=n(85255),w=n(55935),T=n(2834),O=n(57091),N=n(77176),$=n(85985),F=n(41398),P=n(66310),D=n(80900),j=n(93508),M=n(1883),L=n(18208),B=n(73975),R=n(40219),H=n(88097),_=n(29245),U=n(55636),W=n(19025);!function(e){e.Full=({card:e,actions:r})=>i.createElement(M.Z,{footer:null,visualState:e.visualState,onFocus:()=>r.next({type:f.lY.Type.alertCardShow,cardType:f.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(0,W.G)(e.renderOptions),body:i.createElement(n,{card:e}),mainActions:i.createElement(U.U4,{card:e,feedbackActions:r}),subActions:null,extra:i.createElement(t,{card:e,actions:r})});const t=({card:e,actions:t})=>{const n=i.useContext(h.m.Context).card.sentenceLevelBrandTones;return i.createElement(E.x4,{className:K.sentenceLevelBrandTonesFooter},n.helpfulFeedbackQuestion(e.activeAlert.emotion),i.createElement("div",{className:K.sentenceLevelBrandTonesFooterHelpfulFeedback},i.createElement(I.zx.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-yes`,title:n.helpfulFeedbackYes,active:d.getEq(B.eqStrict).equals(e.activeAlert.feedback,d.some(H.id.accurate)),disabled:d.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:f.lY.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:H.id.accurate})}},i.createElement(k.JO.VoteYes,null)),i.createElement(I.zx.Ghost,{name:`sentence-level-brand-tones-${e.activeAlert.emotion}-helpful-feedback-no`,title:n.helpfulFeedbackNo,active:d.getEq(B.eqStrict).equals(e.activeAlert.feedback,d.some(H.id.inaccurate)),disabled:d.isSome(e.activeAlert.feedback),onClick:()=>{t.next({type:f.lY.Type.sentenceLevelBrandTonesFeedback,alertId:e.activeAlert.id,feedbackType:H.id.inaccurate}),t.next({type:f.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:g.X.isEligibleForDismissSurvey(e)})}},i.createElement(k.JO.VoteNo,null))))},n=({card:e})=>{const t=i.useContext(h.m.Context),n=d.fromNullable(e.activeAlert.highlightTexts[0]);return i.createElement("div",null,i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions}),i.createElement("div",null,i.createElement("div",{className:K.sentenceLevelBrandTonesHeaderWrapper},i.createElement("div",{className:K.sentenceLevelBrandTonesHeader},i.createElement(_.dy,{className:K.sentenceLevelBrandTonesHeaderEmoji},e.activeAlert.emoji),L.capitalize(e.activeAlert.emotion)),i.createElement(C.C.Regular,{className:K.offBrandBadge},t.card.sentenceLevelBrandTones.offBrandBadge)),i.createElement(E.XY,{className:K.sentenceLevelBrandTonesDescription},e.activeAlert.description),(0,o.pipe)(n,d.fold(a.constNull,(t=>i.createElement(U.hl,{text:t,layoutDensity:e.renderOptions.layoutDensity}))))))}}(r||(r={}));const q={display:"flex",alignItems:"center",justifyContent:"space-between",background:u.Il.CoreNeutral10,borderRadius:`${R.LB} ${R.LB} ${p.u.rem(R.Jr)} ${p.u.rem(R.Jr)}`,padding:`${p.u.rem(.3)} ${p.u.rem(1)}`,color:u.Il.CoreNeutral50,fontSize:p.u.rem(.64)},z={display:"flex",alignItems:"center",$nest:{'& div[role="button"]:first-child':{marginRight:p.u.rem(.125)}}},G={display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:p.u.rem(1),marginBottom:p.u.rem(.625)},Y={fontWeight:"bold",fontSize:p.u.rem(.875),lineHeight:p.u.rem(1)},V={marginRight:p.u.rem(.5),lineHeight:p.u.rem(1)},X={background:u.Il.CoreRed1,color:u.Il.CoreRed60,fontWeight:"bold",fontSize:p.u.rem(.6),lineHeight:p.u.rem(1)},J={marginBottom:p.u.rem(1)},K=p.u.stylesheet({offBrandBadge:[X],sentenceLevelBrandTonesHeaderWrapper:[G],sentenceLevelBrandTonesHeader:[Y],sentenceLevelBrandTonesHeaderEmoji:[V],sentenceLevelBrandTonesFooter:[q],sentenceLevelBrandTonesFooterHelpfulFeedback:[z],sentenceLevelBrandTonesDescription:[J]});var Z=n(55415),Q=n(71249),ee=n(32821),te=n(98637),ne=n(19751),re=n(98403),ie=n(2844),ae=n(28043),oe=n(22232),se=n(76974),le=n(24209),ce=n(83401),de=n(12187),ue=n(34685);const me=({theme:e={}})=>i.createElement(l.F.div,Object.assign({},(0,de.Sh)(he.container,e.container)),i.createElement(l.F.div,Object.assign({},(0,de.Sh)(he.swoosh,e.animation)))),pe=p.u.keyframes({to:{backgroundPosition:"0 100%"}}),he=p.u.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:p.u.rem(2),height:p.u.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:pe,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:p.u.seconds(2),animationIterationCount:"infinite",background:`transparent url('${ue.yr}swoosh.png') 0 0 no-repeat`,backgroundSize:p.u.percent(100)}]});var ge=n(66346);const fe=({card:e,actions:t,disabled:n})=>(0,U.m_)(e.activeAlert,e.renderOptions.layoutDensity)?i.createElement(ge.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:n}):null,ye=ee.UI.Grid.make((({slots:e,state:t,notify:n})=>i.createElement(l.F.Fragment,null,t.pipe(N.U((t=>i.createElement(U.VM,{card:t,actions:{next:e=>n(e)(),error:a.constVoid,complete:a.constVoid},isChecking:se.of(!1),isCheckingGlobal:se.of(!1),cardBody:(0,a.constant)(i.createElement(l.F.Fragment,null,e.body)),cardTheme:{contentBody:ve.contentBody}}))))))),ve=p.u.stylesheet({contentBody:[{paddingLeft:0}]}),be=ee.UI.Knot.make(ye,{body:ee.UI.Node.make((()=>{const e=i.useContext(h.m.Context);return i.createElement("div",{className:xe.container},i.createElement(me,{theme:{container:xe.animation}}),i.createElement(E.XY,{className:xe.label},e.card.shortenIt.loadingLabel))}))}),Ce={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:p.u.rem(.25)},Ie={paddingLeft:p.u.rem(.5)},xe=p.u.stylesheet({container:[Ce],animation:[{transform:"scale(.7)"}],label:[Ie]}),ke=ee.UI.Node.make((({view:e,notify:t})=>{const n=Object.assign(Object.assign({},re.UF()),{next:e=>t(e)()});return i.createElement(l.F.Fragment,null,e("item").pipe(N.U((r=>i.createElement(U.VM,{card:r,actions:n,isChecking:e("isChecking"),isCheckingGlobal:e("isCheckingGlobal"),cardBody:(0,a.constant)(i.createElement(Ee,{card:r,actions:n})),mainActions:(0,a.constant)(i.createElement(i.Fragment,null,i.createElement(U.Be,{card:r,feedbackActions:n}),i.createElement(U.U4,{card:r,feedbackActions:n}))),cardFooter:e=>i.createElement(i.Fragment,null,i.createElement(U.lJ,{card:r}),i.createElement(U.Nm,{applyMessage:r.activeAlert.todoAction,checkingMessage:r.activeAlert.todoAction,checkingInProgress:e,onClick:S.hz(t({type:f.lY.Type.shortenItRequestSummary,alertId:r.activeAlert.id,itemId:r.id}))})),subActions:(0,a.constant)(i.createElement(fe,{card:r,actions:n}))})))))})),Ee=({card:e,actions:t})=>{const n=i.useContext(h.m.Context);return i.createElement(i.Fragment,null,i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions,badge:i.createElement(C.C.Regular,null,n.beta)}),i.createElement(E.H3,{className:Ae.wordCount},e.activeAlert.wordCount,"Â ",i.createElement(E.XY,{className:Ae.words},"words")),i.createElement(U.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))},Se={color:u.Il.CoreRed50},Ae=p.u.stylesheet({wordCount:[Se],words:[{display:"inline-block"}]}),we=ee.UI.Knot.make(ye,{body:ee.UI.Node.make((()=>{const e=i.useContext(h.m.Context);return i.createElement("div",{className:Ne.container},i.createElement(k.JO.ValidationOk,null),i.createElement(E.XY,{className:Ne.label},e.card.shortenIt.notFoundLabel))}))}),Te={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:p.u.rem(.25)},Oe={paddingLeft:p.u.rem(.5)},Ne=p.u.stylesheet({container:[Te],label:[Oe]}),$e=ee.UI.Node.make((({state:e,view:t,notify:n})=>{const r=i.useContext(h.m.Context);return i.createElement(l.F.Fragment,null,e.pipe(N.U((({item:e,previousCardHeight:o})=>i.createElement("div",{style:{height:d.getOrElse(a.constUndefined)(o)},className:Pe.cardWrapper},i.createElement(U.VM,{card:e,actions:Object.assign(Object.assign({},re.UF()),{next:e=>n(e)()}),isChecking:t("isChecking"),isCheckingGlobal:t("isCheckingGlobal"),mainActions:(0,a.constant)(i.createElement(U.Kg,{card:e,feedbackActions:re.UF(),disabled:!0})),subActions:(0,a.constant)(i.createElement(fe,{card:e,actions:re.UF(),disabled:!0})),cardBody:(0,a.constant)(i.createElement(l.F.Fragment,null,i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions,badge:i.createElement(C.C.Regular,null,r.beta)}),i.createElement("div",{className:Pe.loadingAnimationContainer},i.createElement(me,null)))),cardTheme:Object.assign(Object.assign({},(0,a.pipe)((0,W.G)(e.renderOptions),(e=>({container:(0,de.Sh)(e.container,Pe.container).className,wrapper:(0,de.Sh)(e.wrapper,Pe.wrapper).className})))),{innerContainer:Pe.innerContainer,content:Pe.content,contentBody:Pe.contentBody})}))))))})),Fe={display:"flex",width:"100%"},Pe=p.u.stylesheet({loadingAnimationContainer:[{flex:1,display:"flex",width:"100%",minHeight:200,alignItems:"center",justifyContent:"center"}],container:[Fe],innerContainer:[Fe],wrapper:[Fe],content:[{display:"flex",flexDirection:"column",width:"100%"}],contentBody:[{flex:1,display:"flex",flexDirection:"column"}],cardWrapper:[{pointerEvents:"none",display:"flex",width:"100%"}]});var De=n(60797),je=n(85089),Me=n(2291),Le=n(89521);const Be=ee.UI.Grid.make((({state:e,view:t,notify:n,slots:r})=>{const o=i.useContext(h.m.Context),{ref:s,onMount:c}=A.P.useElWatcher(),d=A.P.useMemoOnDidMount((()=>s.pipe(De.cp((e=>je.YC(e).pipe(N.U((e=>e.height)),j.O(e.getBoundingClientRect().height),ae.x()))),T.b((e=>n({type:"shortenItHeightChanged",height:e})())))));A.P.useSubscriptionTo(d);const u=Object.assign(Object.assign({},re.UF()),{next:e=>n(e)()});return i.createElement(l.F.div,{mount:c},e.pipe(N.U((({item:e})=>i.createElement(U.VM,{card:e,actions:u,isChecking:t("isChecking"),isCheckingGlobal:t("isCheckingGlobal"),mainActions:(0,a.constant)(i.createElement(U.Kg,{card:e,feedbackActions:u})),subActions:(0,a.constant)(i.createElement(fe,{card:e,actions:u})),cardBody:(0,a.constant)(i.createElement(l.F.Fragment,null,i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions,badge:i.createElement(C.C.Regular,null,o.beta)}),(0,a.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>i.createElement(U.dk,{description:e.meta.explanation,actions:{next:e=>n(e)(),error:a.constVoid,complete:a.constVoid},layoutDensity:e.renderOptions.layoutDensity})))),i.createElement(E.XY,{className:_e.compressionLabel},(0,a.pipe)(e.activeAlert.compressionRatio,Me.g.fromRatio,o.card.shortenIt.compressionHint)),r.replacementLabels)),cardFooter:r=>i.createElement(i.Fragment,null,i.createElement(U.lJ,{card:e}),i.createElement(l.F.div,{className:_e.footerBtns},i.createElement(U.Nm,{applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:r,onClick:S.hz(n({type:f.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:g.X.isEligibleForAcceptSurvey(e),cardType:f.lY.getCardType(e)}))}),t("clickWillHide").pipe(N.U((t=>i.createElement(I.zx.Ghost,{name:"expand-edits-btn",onClick:S.hz(n({type:t?f.lY.Type.shortenItCollapseAllEdits:f.lY.Type.shortenItExpandAllEdits,alertId:e.activeAlert.id,itemId:e.id})),className:_e.expandEditsBtn},o.card.shortenIt.hideEdits(t)))))))})))))})),Re=ee.UI.Knot.make(Be,{replacementLabels:Le.CL}),He={padding:`0 ${p.u.rem(1)}`},_e=p.u.stylesheet({compressionLabel:[{fontWeight:"bold",textTransform:"capitalize"}],footerBtns:[{display:"flex"}],expandEditsBtn:[He]}),Ue={longParagraph:ke,loading:be,summary:Re,summaryLoading:$e,notFound:we},We=ee.UI.Union.make("kind",Ue),qe=e=>e.pipe(N.U((e=>{const t=e.activeAlert.summaryState,n=e.activeAlert.automaticSummaryRequest,r=d.fold(a.constFalse,te.b$.isShortenIt)(e.transform);switch(t){case H.vQ.SummaryState.notFound:return{kind:"notFound"};case H.vQ.SummaryState.notRequested:return n?{kind:"loading"}:{kind:"longParagraph"};case H.vQ.SummaryState.requested:case H.vQ.SummaryState.requestSent:return n?r?{kind:"summaryLoading"}:{kind:"loading"}:{kind:"longParagraph"};case H.vQ.SummaryState.invalidated:return n?{kind:"summaryLoading"}:{kind:"longParagraph"};case H.vQ.SummaryState.received:return{kind:"summary"};default:(0,oe.vE)(t)}}))),ze=(e,t,n,r)=>ee.Z.fromSideEffect((e=>{r.next(e)}),ne.Yt({item:e,isChecking:t,isCheckingGlobal:n})),Ge=(e,t)=>ee.Z.composeKnot({body:(0,a.constant)(se.of(null)),root:ee.Z.fromSideEffect((e=>{t.next(e)}),e)}),Ye=(e,t)=>ee.Z.composeKnot({body:(0,a.constant)(se.of(null)),root:ee.Z.fromSideEffect((e=>{t.next(e)}),e)}),Ve=(e,t,n,r,i)=>ee.Z.fromSideEffect((e=>{r.next(e)}),ne.Yt({item:e,isChecking:t,isCheckingGlobal:n,previousCardHeight:i})),Xe=(e,t,n,r,i,o)=>{const s=i.pipe(N.U((e=>Array.from(e.values()).every((e=>!1===e)))));return ee.Z.composeKnot({root:a=>le.T(a.pipe(F.M(s),T.b((([e,t])=>{"shortenItHeightChanged"!==e.type?(r.next(e),(0,c.Kg)(f.ut.isExpandAllEdits,f.ut.isCollapseAllEdits)(e)&&i.set(new Map(Array.from(i.get().entries()).map((([e])=>[e,t]))))):o.set(d.some(e.height))})),P.w((()=>ce.C))),ne.Yt({item:e,isChecking:t,isCheckingGlobal:n,clickWillHide:s})),replacementLabels:ee.Z.composeKnot({root:ee.Z.fromSideEffect(a.constVoid,e.pipe(N.U((e=>e.renderOptions.layoutDensity)))),labels:t=>le.T(t.pipe(F.M(e),T.b((([e,t])=>{const n=e.key,a=e.action.action,o=new Map(i.get()).set(n,"expand"!==a&&("collapse"===a||(0,oe.vE)(a)));i.set(o),r.next({type:"expand"===a?f.lY.Type.shortenItExpandEdit:"collapse"===a?f.lY.Type.shortenItCollapseEdit:(0,oe.vE)(a),alertId:t.activeAlert.id,itemId:t.id,editIndex:n})})),P.w((()=>ce.C))),ne.Yt({item:e,collapsedEdits:i}).pipe(N.U((({item:e,collapsedEdits:t})=>(0,a.pipe)(e.transform,d.filter(te.b$.isShortenIt),d.map(Z.pick("labels")),d.fold((()=>[]),Q.mapWithIndex(((e,n)=>{var r;return n.type===te.GP.Delete?{kind:n.type,text:n.text,collapsed:null===(r=t.get(e))||void 0===r||r}:{kind:n.type,text:n.text}}))))))))})})};var Je;!function(e){e.Full=e=>{const t=A.P.useAtomOf(e.card),{isChecking:n,isCheckingGlobal:r}=function(e,t,n){const r=A.P.useAtomOf({isWaiting:e.activeAlert.summaryState===H.vQ.SummaryState.requested||e.activeAlert.summaryState===H.vQ.SummaryState.requestSent||e.activeAlert.summaryState===H.vQ.SummaryState.invalidated&&e.activeAlert.automaticSummaryRequest,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return A.P.useMemoOnDidMount((()=>({isChecking:ie.aj([t,r]).pipe(N.U((([e,t])=>e||t.isWaiting&&t.cardIsOpen)),ae.x()),isCheckingGlobal:ie.aj([n,r]).pipe(N.U((([e,t])=>e||t.isWaiting&&!t.cardIsOpen)),ae.x())})))}(e.card,e.isChecking,e.isCheckingGlobal),o=A.P.useMemoOnDidMount((()=>s.h.create(d.none))),l=A.P.useMemoOnDidMount((()=>s.h.create(new Map))),c=A.P.useMemoOnDidMount((()=>t.pipe(N.U((0,a.flow)(Z.pick("transform"),d.filter(te.b$.isShortenIt))),ne.$f(d.getEq(te.b$.ShortenIt.eq)),N.U((0,a.flow)(d.map(Z.pick("labels")),d.map(Q.reduceWithIndex(new Map,((e,t,n)=>n.shouldBeCollapsed?t.set(e,!0):t))),d.getOrElse((()=>new Map)))),T.b(re.wW(l)))));return A.P.useSubscriptionTo(c),i.createElement(i.Fragment,null,ee.UI.mount(We,((e,t,n,r,i,a)=>ee.Z.composeUnion({longParagraph:ze(e,t,n,r),loading:Ge(e,r),notFound:Ye(e,r),summary:Xe(e,t,n,r,i,a),summaryLoading:Ve(e,t,n,r,a)},(()=>qe(e))))(t,n,r,e.actions,l,o)))}}(Je||(Je={}));var Ke=n(76720),Ze=n(12138);const Qe=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{const o=i.useContext(h.m.Context);return i.createElement(it,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:(0,a.constant)(i.createElement(U.M9,{card:e,actions:t,isChecking:n})),cardFooter:n=>i.createElement(i.Fragment,null,i.createElement(U.lJ,{card:e}),i.createElement("div",{className:pt.fullSentenceCardFooterBtns},i.createElement(U.Nm,{title:o.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:S.hz((()=>{t.next({type:f.lY.Type.alertApply,id:e.id,eligibleForSurvey:g.X.isEligibleForAcceptSurvey(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:f.lY.getCardType(e)})}))})))})},et=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:c})=>{const u=i.useContext(h.m.Context),p=s.h.create(!0);return A.P.useSubscriptionTo((0,o.pipe)(p,w.T(1),T.b((e=>t.next({type:f.lY.Type.fullSentenceHighlightChangesToggle,showChanges:e}))))),i.createElement(it,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:(0,a.constant)(i.createElement(l.F.Fragment,null,i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions,badge:i.createElement(C.C.Regular,null,u.beta)}),i.createElement(lt,{isNew:e.renderOptions.isNew,actions:t}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>i.createElement(U.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),i.createElement(b.T9,{classes:{rendered:pt.replacement,removing:pt.replacementHidden},timeout:250,content:p.pipe(O.a(c,((t,n)=>(0,o.pipe)(n,d.fold((()=>(m.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null)),(n=>i.createElement(Le.n4,{replacements:n,showDiff:t,layoutDensity:e.renderOptions.layoutDensity})))))))}),i.createElement(U.ko,{card:e,isChecking:n}))),cardFooter:n=>i.createElement(i.Fragment,null,i.createElement(U.lJ,{card:e}),i.createElement(l.F.div,{className:pt.fullSentenceCardFooterBtns},i.createElement(U.Nm,{title:c.pipe(N.U(d.fold((()=>""),(e=>u.card.todoAction(e.tooltipText))))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:S.hz((()=>{t.next({type:f.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:g.X.isEligibleForAcceptSurvey(e),cardType:f.lY.getCardType(e)})}))}),i.createElement(x.Ys,{className:pt.fullSentenceCardCheckbox,checked:p,name:"set-goals"},u.card.showChangesToggle)))})},tt=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:s})=>{const u=i.useContext(h.m.Context),p=(0,o.pipe)(e.userInput,d.getOrElse((0,a.constant)("")));return i.createElement(it,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:r=>i.createElement(i.Fragment,{key:"content"},i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(lt,{isNew:e.renderOptions.isNew,actions:t}),i.createElement(l.F.div,{className:r.pipe(N.U((0,c.RN)(pt.transformContainerInvisible,pt.transformContainer)))},i.createElement(b.T9,{classes:{rendered:pt.replacement,removing:pt.replacementHidden},timeout:250,content:s.pipe(N.U(d.fold((()=>(m.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>i.createElement(Le.$s,{key:"label",gapValue:p,replacements:n,layoutDensity:e.renderOptions.layoutDensity,onFocus:()=>t.next({type:f.lY.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:n=>t.next({type:f.lY.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:n}),onApply:S.hz((()=>t.next({type:f.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:g.X.isEligibleForAcceptSurvey(e),cardType:f.lY.getCardType(e)})))})))))})),i.createElement(E.Xk,{className:r.pipe(N.U((0,c.RN)(pt.transformHint,pt.transformHintInvisible)))},u.card.updatingSuggestion),i.createElement(U.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>i.createElement(U.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.constant)(i.createElement(U.lJ,{card:e}))})},nt=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:s})=>{const u=i.useContext(h.m.Context);return i.createElement(it,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:r=>i.createElement(i.Fragment,null,i.createElement(l.F.Fragment,null,i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions,badge:i.createElement(C.C.Regular,null,u.beta)})),i.createElement(l.F.div,{className:r.pipe(N.U((0,c.RN)(pt.transformContainerInvisible,pt.transformContainer)))},i.createElement(b.T9,{classes:{rendered:pt.replacement,removing:pt.replacementHidden},timeout:250,content:s.pipe(N.U(d.fold((()=>(m.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>{const r=(0,o.pipe)(e.synfonySelection,d.getOrElse((()=>[])));return i.createElement(Le.Px,{replacements:n,onClick:n=>S.hz((()=>{t.next({type:f.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,cardType:f.lY.getCardType(e),id:e.id,eligibleForSurvey:g.X.isEligibleForAcceptSurvey(e),drilldownSuggestionIds:r})})),onDive:(n,i)=>t.next({type:f.GM.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:n,cardId:e.id,alternativeId:i,drilldownSuggestionIds:r}),onBack:()=>t.next({type:f.GM.Kind.back,cardId:e.id}),selection:r,layoutDensity:e.renderOptions.layoutDensity})}))))})),i.createElement(E.Xk,{className:r.pipe(N.U((0,c.RN)(pt.transformHint,pt.transformHintInvisible)))},u.card.updatingSuggestion),i.createElement(U.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>i.createElement(U.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.constant)(i.createElement(U.lJ,{card:e}))})},rt=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:s})=>{const u=i.useContext(h.m.Context);return i.createElement(it,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:r=>i.createElement(i.Fragment,null,i.createElement(U.__,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(l.F.div,{className:r.pipe(N.U((0,c.RN)(pt.transformContainerInvisible,pt.transformContainer)))},i.createElement(b.T9,{classes:{rendered:pt.replacement,removing:pt.replacementHidden},timeout:250,content:s.pipe(N.U(d.fold((()=>(m.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null)),(n=>i.createElement(U.hT,{rl:n,onClick:n=>S.hz((()=>{t.next({type:f.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,id:e.id,eligibleForSurvey:g.X.isEligibleForAcceptSurvey(e),cardType:f.lY.getCardType(e)})})),layoutDensity:e.renderOptions.layoutDensity})))))})),i.createElement(E.Xk,{className:r.pipe(N.U((0,c.RN)(pt.transformHint,pt.transformHintInvisible)))},u.card.updatingSuggestion),i.createElement(U.ko,{card:e,isChecking:n}),(0,o.pipe)(e.renderOptions.layoutDensity,v.j.Density.matchOrDefault(v.j.Density.minimal)((()=>null),(()=>i.createElement(U.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))),cardFooter:(0,a.constant)(i.createElement(U.lJ,{card:e}))})},it=e=>{var t,n,r;return i.createElement(U.VM,Object.assign({},e,{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:(0,a.constant)(i.createElement(U.mQ,{card:e.card,actions:e.actions})),mainActions:null!==(n=e.mainActions)&&void 0!==n?n:(0,a.constant)(i.createElement(U.Kg,{card:e.card,feedbackActions:e.actions})),subActions:null!==(r=e.subActions)&&void 0!==r?r:(0,a.constant)(i.createElement(U.q4,{card:e.card,actions:e.actions}))}))},at=({card:e,actions:t,isChecking:n})=>i.createElement(M.Z,{visualState:e.visualState,onFocus:()=>t.next({type:f.lY.Type.alertCardShow,cardType:f.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(0,W.G)(e.renderOptions),body:i.createElement(U.M9,{card:e,actions:t,isChecking:n}),mainActions:i.createElement(U.Kg,{card:e,feedbackActions:t}),footer:i.createElement(U.lJ,{card:e}),subActions:i.createElement(U.q4,{card:e,actions:t}),extra:i.createElement(U.mQ,{card:e,actions:t})}),ot=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:o})=>{const d=i.useContext(h.m.Context),u=A.P.useAtomOf(e.activeAlert.loadingDuration),m=i.useMemo((()=>s.h.create(!0)),[]);return i.useEffect((()=>{"focused"===e.visualState.transition.type&&t.next({type:f.lY.Type.smartPhrasesShowFullCard,alertId:e.activeAlert.id})}),[t,e.activeAlert.id,e.visualState.transition.type]),A.P.useSubscriptionTo(m.pipe($.h(Boolean),F.M(u),P.w((([e,t])=>D.H(t))),T.b((()=>m.set(!1))))),i.createElement(U.UK,{title:i.createElement(U.g8,{title:e.activeAlert.title,emoji:e.activeAlert.emoji})},i.createElement(l.F.Fragment,null,m.pipe(N.U((s=>i.createElement(U.VM,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardTheme:s?{contentBody:pt.smartPhrasesCardBodyLoading}:void 0,cardBody:n=>i.createElement(U.oE,{card:e,actions:t,isLoading:s,transform:o,classes:{transformContainer:n.pipe(N.U((0,c.RN)(pt.transformContainerInvisible,pt.transformContainer))),renderedReplacement:pt.replacement,hiddenReplacement:pt.replacementHidden}}),mainActions:(0,a.constant)(e.activeAlert.usedReplacementsIndexes.length>0?i.createElement(I.zx.Ghost,{name:`smart-phrases-${e.activeAlert.intent}-done`,onClick:S.hz((()=>t.next({type:f.lY.Type.smartPhrasesDone,alertId:e.activeAlert.id,source:"user"}))),disabled:s},d.done):i.createElement(U.Kg,{card:e,feedbackActions:t,onClickDismissButton:()=>t.next({type:f.lY.Type.smartPhrasesDismiss,alertId:e.activeAlert.id}),disabled:s})),subActions:()=>e.activeAlert.replacementsLength>5||e.activeAlert.hideReplacements?i.createElement(I.zx.Tertiary,{name:`smart-phrases-${e.activeAlert.intent}-show-more-ideas`,onClick:()=>{t.next({type:f.lY.Type.smartPhrasesShowMoreIdeas,cardId:e.id,alertId:e.activeAlert.id}),m.set(!0)},disabled:s},i.createElement(k.JO.SmartPhrases.ShowMore,null),d.card.smartPhrases.showMoreIdeas):null,cardExtra:()=>s?null:i.createElement(U.Eq,{card:e,actions:t})}))))))},st=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o})=>y.C.isSmartPhrasesItem(e)?i.createElement(ot,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):y.C.isSentenceLevelBrandTonesItem(e)?i.createElement(r.Full,{card:e,actions:t}):y.C.isTakeawayItem(e)?i.createElement(Ke.o.Full,{card:e,actions:t}):y.C.isShortenItItem(e)?i.createElement(Je.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):y.C.isToneAIItem(e)?i.createElement(Ze.Y.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):g.X.hasTransform(e)?g.X.hasFullSentenceTransform(e)?i.createElement(et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):g.X.hasOneGapTransform(e)?i.createElement(tt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):g.X.hasSynfonyTransform(e)?i.createElement(nt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):i.createElement(rt,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:o}):g.X.isSimple(e)?i.createElement(Qe,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}):i.createElement(at,{card:e,actions:t,isChecking:n}),lt=e=>i.createElement(l.F.Fragment,null,e.isNew.pipe(N.U(d.fold(a.constNull,(t=>i.createElement(U.jt,{type:t,actions:e.actions,key:"new-notification"})))),j.O(null))),ct={transition:`opacity ${p.u.seconds(U.k_)}`,transitionDelay:p.u.seconds(U.k_)},dt={position:"absolute",top:p.u.rem(2),color:u.Il.CoreNeutral40,lineHeight:p.u.rem(2),transition:`opacity ${p.u.seconds(U.k_)}`,transitionDelay:p.u.seconds(U.k_)},ut={transition:`opacity ${p.u.seconds(U.k_)}`},mt={fontSize:p.u.rem(u.xv.BodySize),lineHeight:p.u.rem(2.0625)},pt=Object.assign({},p.u.stylesheet({invisible:[U.Bn],transformContainer:[ct],transformContainerInvisible:[ct,U.Bn,{transitionDelay:"initial"}],transformHint:[dt],transformHintInvisible:[dt,U.Bn,{transitionDelay:"initial"}],replacement:[ut],replacementHidden:[ut,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[mt],smartPhrasesCardBodyLoading:[{padding:0}]}))},19157:(e,t,n)=>{n.d(t,{P:()=>j,l:()=>Q});var r=n(27378),i=n(40327),a=n(12187),o=n(5739),s=n(5114),l=n(83078),c=n(44060),d=n(63969),u=n(40219),m=n(30763),p=n(66896),h=n(88097),g=n(17594),f=n(26027),y=n(91549),v=n(15646),b=n(75316),C=n(62310),I=n(7046),x=n(29245),k=n(21474),E=n(3656),S=n(28706),A=n(77176),w=n(79589),T=n(50224),O=n(28584),N=n(55636);const $=({theme:e={},action:t,hasLiteralEmoji:n,useEmojiID:i})=>r.createElement("div",Object.assign({},(0,a.Sh)(e.wrapper,ie.ctaText)),n?r.createElement(x.dy,{emojiClassName:(0,a.Sh)(ie.cardLogo,e.logo).className},t):i?r.createElement(r.Fragment,null,r.createElement(x.In,{id:i,className:(0,a.Sh)(ie.cardLogo,e.logo).className}),t):t),F=({vox:e,theme:t={}})=>r.createElement(r.Fragment,null,(0,i.pipe)(e.logoUrl,s.map((e=>r.createElement(O.Im,Object.assign({},(0,a.Sh)(ie.cardLogo,t.logo),{logoUrl:e})))),s.toNullable),r.createElement(O.$x,Object.assign({vox:e},(0,a.Sh)(ie.cta,t.label),{isMinimalCard:!1}))),P=e=>[p.R.outcomeTypeMatch(e.lensType)({correctness:T.m.dotCorrectness,clarity:T.m.dotClarity,premium:T.m.dotAdvanced,engagement:T.m.dotEngagement,delivery:T.m.dotDelivery,vox:T.m.dotVox}),ie.cta],D=()=>{const e=r.useContext(m.m.Context);return r.createElement(C.C.Regular,{className:ie.newLabel},e.new)};var j;!function(e){e.SmartPhrases=({card:e,actions:t,useBundleContainer:n=!1,twoLined:i=!1})=>{const o=r.useContext(m.m.Context);return r.useEffect((()=>{"rendered"===e.visualState.transition.type&&(t.next({type:v.lY.Type.smartPhrasesShowMiniCard,alertId:e.activeAlert.id}),e.activeAlert.hideReplacements&&t.next({type:v.lY.Type.smartPhrasesDone,alertId:e.activeAlert.id,source:"auto"}))}),[t,e.activeAlert.hideReplacements,e.activeAlert.id,e.visualState.transition.type]),r.createElement(w.b.Mini,Object.assign({},(0,a.Sh)(i?z.wrapper:Q.wrapper,n?Q.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,hideActivateButton:!0,hideDot:!0}),r.createElement("div",{className:ie.smartPhrasesContainer},r.createElement(N.g8,{className:ie.smartPhrasesTitle,title:e.activeAlert.title,emoji:e.activeAlert.emoji,hideBetaBadge:!0}),r.createElement("div",{className:ie.smartPhrasesIntentDetectedFeedback},r.createElement(I.zx.Ghost,{title:o.card.smartPhrases.intentDetectedFeedbackYes,name:`smart-phrases-${e.activeAlert.intent}-intent-detected-feedback-yes`,active:e.activeAlert.intentDetectedFeedback===h.cm.SMART_PHRASES_INTENT_DETECTED_ACCURATE,disabled:Boolean(e.activeAlert.intentDetectedFeedback),onClick:n=>{var r,i;t.next({type:v.lY.Type.smartPhrasesFeedback,alertId:e.activeAlert.id,cardId:e.id,feedbackType:h.cm.SMART_PHRASES_INTENT_DETECTED_ACCURATE}),t.next({type:v.lY.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:e.activeAlert},clickPoint:{x:null!==(r=null==n?void 0:n.clientX)&&void 0!==r?r:0,y:null!==(i=null==n?void 0:n.clientY)&&void 0!==i?i:0}})}},r.createElement(k.JO.VoteYes,null)),r.createElement(I.zx.Ghost,{title:o.card.smartPhrases.intentDetectedFeedbackNo,name:`smart-phrases-${e.activeAlert.intent}-intent-detected-feedback-no`,active:e.activeAlert.intentDetectedFeedback===h.cm.SMART_PHRASES_INTENT_DETECTED_INACCURATE,disabled:Boolean(e.activeAlert.intentDetectedFeedback),onClick:S.hz((()=>{t.next({type:v.lY.Type.smartPhrasesFeedback,alertId:e.activeAlert.id,cardId:e.id,feedbackType:h.cm.SMART_PHRASES_INTENT_DETECTED_INACCURATE}),t.next({type:v.lY.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:f.X.isEligibleForDismissSurvey(e)})}))},r.createElement(k.JO.VoteNo,null)))))},e.Bundle=({card:e,actions:t})=>{const[n]=P(e.activeAlert);return r.createElement(w.b.Mini,Object.assign({},(0,a.Sh)(Q.wrapper,Q.bundleContainer,Q.dot,n),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:r.createElement(E.CL,{className:Q.alertsCounter},e.alerts.length)}),r.createElement(o.F.div,{className:Q.miniContainer},r.createElement("div",{className:Q.highlightedText},y.R.bundleTitle(e))))},e.Standard=({card:n,actions:l})=>{const c=r.useContext(m.m.Context);if(b.C.isSmartPhrasesItem(n))return r.createElement(e.SmartPhrases,{card:n,actions:l});{const[e,d]=P(n.activeAlert);return r.createElement(w.b.Mini,Object.assign({},(0,a.Sh)(Q.wrapper,Q.dot,e),{actions:l,cardId:n.id,getActiveAlert:()=>n.activeAlert}),r.createElement(o.F.div,{className:Q.miniContainer},r.createElement("div",{className:Q.highlightedText},n.activeAlert.highlightTexts[0]),r.createElement("div",{className:Q.middleDot},"Â·"),(0,i.pipe)(n.activeAlert.extraProperties.vox,s.map((e=>r.createElement(F,{vox:e,theme:{logo:Q.cardLogo}}))),s.getOrElse((()=>r.createElement(r.Fragment,null,r.createElement($,{hasLiteralEmoji:g.$.hasTone(n.activeAlert),action:f.X.miniTitle(n,c),theme:{wrapper:d,logo:Q.cardLogo},useEmojiID:b.C.isToneAIItem(n)?n.activeAlert.toneAlternatives[n.activeAlert.selectedToneAlternativeIdx].emojiID:void 0}),b.C.isTakeawayItem(n)&&r.createElement(t,{item:n,className:z.takeawayIconStandard}))))),(0,i.pipe)(n.renderOptions.isNew,A.U((e=>s.isSome(e)?r.createElement(D,{key:"new-label"}):null)))))}};const t=({item:e,className:t})=>(l.contains(h.TO.correctlyDetected)(e.activeAlert.takeawayFeedback)||l.contains(h.TO.correctlyDetectedAndDone)(e.activeAlert.takeawayFeedback))&&e.activeAlert.takeawayIsLikelyToBeRead?r.createElement(k.JO.ValidationOk,{width:16,className:t}):r.createElement(k.JO.Megaphone,{width:16,className:t});e.TwoLined=({card:n,actions:o})=>{const l=r.useContext(m.m.Context);if(b.C.isSmartPhrasesItem(n))return r.createElement(e.SmartPhrases,{card:n,actions:o,twoLined:!0});{const[e,c]=P(n.activeAlert);return r.createElement(w.b.Mini,Object.assign({},(0,a.Sh)(z.wrapper,z.dot,e),{actions:o,cardId:n.id,getActiveAlert:()=>n.activeAlert}),r.createElement("div",{className:z.miniContainer},(0,i.pipe)(n.activeAlert.extraProperties.vox,s.map((e=>r.createElement(F,{vox:e,theme:{logo:z.cardLogo,label:z.subTitle}}))),s.getOrElse((()=>r.createElement(r.Fragment,null,r.createElement($,{hasLiteralEmoji:g.$.hasTone(n.activeAlert),action:f.X.miniTitle(n,l),theme:{wrapper:(0,a.Sh)(c,z.ctaText,z.subTitle).className,logo:z.cardLogo},useEmojiID:b.C.isToneAIItem(n)?n.activeAlert.toneAlternatives[n.activeAlert.selectedToneAlternativeIdx].emojiID:void 0}),b.C.isTakeawayItem(n)&&r.createElement(t,{item:n,className:z.takeawayIconMini}))))),r.createElement("div",{className:R},n.activeAlert.highlightTexts[0])))}}}(j||(j={}));const M="0 1px 8px rgba(109, 117, 141, .18)",L={$nest:{"&:before":{top:d.u.rem(.85),left:0}}},B="miniTwoLinedHighlightedText",R=d.u.joinClasses([B,d.u.style({overflow:"hidden",marginTop:d.u.rem(-.25),color:c.Il.CoreNeutral90,textOverflow:"ellipsis"})]),H={height:d.u.rem(3.25),borderRadius:d.u.rem(u.Jr),boxShadow:M,$nest:{"&:hover":{boxShadow:M},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},_={top:d.u.rem(.7)},U={fontWeight:d.u.important(400),fontSize:d.u.rem(.75)},W={position:"absolute",left:d.u.rem(.5),minWidth:"initial",minHeight:"initial",background:c.Il.CoreNeutral0},q=Object.assign(Object.assign({},W),{top:d.u.rem(.6)}),z=d.u.stylesheet({dot:[L],wrapper:[H],miniContainer:[{flexDirection:"column"}],cardLogo:[_],subTitle:[U],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[q],takeawayIconStandard:[W]}),G={height:d.u.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},Y={$nest:{"&:before":{top:d.u.px(1),bottom:0,left:0}}},V={height:d.u.important(d.u.rem(2.5)),borderRadius:d.u.rem(u.Jr)},X={color:c.Il.CoreNeutral50,display:"flex",width:d.u.rem(2),height:d.u.percent(100),justifyContent:"center",alignItems:"center"},J={overflow:"hidden",color:c.Il.CoreNeutral90,textOverflow:"ellipsis"},K={display:"inline-block",padding:`0 ${d.u.rem(.5)}`},Z={top:0,bottom:0,left:d.u.rem(.5),margin:"auto"},Q=d.u.stylesheet({wrapper:[G],dot:[Y],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[V],alertsCounter:[X],highlightedText:[J],middleDot:[K],cardLogo:[Z]}),ee={color:c.Il.CoreNeutral50,fontWeight:300},te={position:"absolute",left:d.u.rem(.5),width:d.u.rem(1),height:d.u.rem(1),background:c.Il.CoreNeutral0},ne={marginLeft:d.u.rem(.5)},re={color:c.Il.CoreNeutral90,fontSize:d.u.rem(.875),lineHeight:d.u.rem(1.125)},ie=d.u.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[ee],cardLogo:[te],newLabel:[ne],smartPhrasesContainer:[{display:"flex",alignItems:"center",justifyContent:"space-between"}],smartPhrasesTitle:[re],smartPhrasesIntentDetectedFeedback:[{display:"flex",alignItems:"center",position:"absolute",right:0}]})},19025:(e,t,n)=>{n.d(t,{f:()=>c,G:()=>d});var r=n(40327),i=n(44060),a=n(63969),o=n(40219),s=n(4890),l=n(50224);const c=e=>({container:(0,r.pipe)(e,s.j.Density.matchOrDefault(s.j.Density.cozy)((()=>h.cozyCardContainer),(()=>h.compactCardContainer)))}),d=e=>Object.assign(Object.assign({},c(e.layoutDensity)),{wrapper:(0,r.pipe)(e.layoutDensity,s.j.Density.matchOrDefault(s.j.Density.minimal)((()=>h.minimalCardWrapper),(()=>{})))}),u={padding:`${a.u.rem(.75)} ${a.u.rem(.5)} ${a.u.rem(.5)} ${a.u.rem(1)}`},m={margin:`${a.u.rem(1)} 0 ${a.u.rem(1.5)}`,borderRadius:a.u.rem(o.Jr),background:i.Il.CoreNeutral0,boxShadow:`0 ${a.u.rem(.625)} ${a.u.rem(o.mJ)} 0 rgba(198, 203, 222, .45)`},p={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:a.u.rem(o.Jr),background:i.Il.CoreNeutral0},h=Object.assign(Object.assign({},a.u.stylesheet({minimalCardWrapper:[u],compactCardContainer:[p]})),{cozyCardContainer:a.u.joinClasses([l.g.cozyCardContainerSelector,a.u.style(m)])})},7995:(e,t,n)=>{n.d(t,{A:()=>qe});var r,i=n(27378),a=n(57050),o=n(40327),s=n(5739),l=n(26027),c=n(75316),d=n(4890),u=n(28043),m=n(77176),p=n(79589),h=n(38983),g=n(8125),f=n(5114),y=n(81531),v=n(30763),b=n(15646),C=n(7046),I=n(12187),x=n(44060),k=n(63969),E=n(24588);!function(e){e.Item=({className:e,children:t,onChange:n,checked:r,tabIndex:a,id:o})=>i.createElement(s.F.label,Object.assign({},(0,I.Sh)(T.radio,e)),r.view((e=>i.createElement(i.Fragment,{key:`radio-${o}`},i.createElement("input",{onChange:n,tabIndex:a||-1,type:"radio",checked:e,className:T.radioInputHidden}),i.createElement("span",{className:A})))),t),e.Group=({items:t,selectedItemIndex:n,itemWrapperClassName:r,onChange:a})=>i.createElement(s.F.Fragment,null,t.map(((t,o)=>i.createElement(e.Item,{id:o,key:o,onChange:()=>{n.set(o),a&&a(o)},checked:n.view((e=>o===e)),className:r},t))))}(r||(r={}));const S="radioInput",A=k.u.joinClasses([S,k.u.style({display:"inline-block",boxSizing:"border-box",minWidth:k.u.rem(1),width:k.u.rem(1),height:k.u.rem(1),border:`${k.u.rem(.125)} solid ${E.FW}`,borderRadius:k.u.percent(50),backgroundColor:x.Il.CoreNeutral0,content:"' '"})]),w={outline:"none",appearance:"none","-webkit-appearance":"none",$nest:{"&:checked + .radioInput":{border:`${k.u.rem(.25)} solid ${x.Il.CoreBlue50}`}}},T=k.u.stylesheet({radioInputHidden:[w],radio:[{display:"inline-flex",cursor:"pointer",alignItems:"center"}]});var O=n(3656),N=n(28706),$=n(1883);const F=k.u.style({margin:`${k.u.rem(1)} 0`}),P=k.u.style({marginLeft:k.u.rem(.5),lineHeight:k.u.rem(1.3125),fontSize:k.u.rem(.875),color:x.Il.CoreNeutral90}),D=k.u.style({display:"flex",flexDirection:"column",$nest:{"& > *:not(:last-child)":{marginBottom:k.u.rem(1)}}}),j=k.u.style({marginLeft:k.u.rem(1)}),M={color:x.Il.CoreRed60,fontSize:k.u.rem(.75),lineHeight:k.u.rem(1.125)},L=k.u.style(M),B=k.u.style(M,{visibility:"hidden"});var R=n(19025);const H=({card:e,actions:t})=>{const n=i.useContext(v.m.Context).card.feedbackForm,a=h.h.create(void 0),l=h.h.create(!1);return(0,o.pipe)(e.visualState.transition,f.fromPredicate((e=>"feedback_form"===e.type)),f.fold((()=>(y.Monitoring.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null)),(o=>{const c=n=>t.next(Object.assign({alertId:e.activeAlert.id,reason:n},o.submitActionType===b.lY.Type.alertApplyFormSubmit?{type:b.lY.Type.alertApplyFormSubmit,alertApplyActionProps:o.alertApplyActionProps}:{type:b.lY.Type.alertIgnoreFormSubmit}));return i.createElement($.Z,{onFocus:()=>t.next({type:b.lY.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:(0,R.G)(e.renderOptions),visualState:e.visualState,body:i.createElement(i.Fragment,null,i.createElement(O.H4,{className:F},o.survey.question||n.dismissReason),i.createElement("div",{className:D},i.createElement(r.Group,{selectedItemIndex:a,items:o.survey.options.map((e=>i.createElement("div",{className:P},e.text))),onChange:()=>l.set(!1)}))),mainActions:i.createElement(i.Fragment,null),footer:i.createElement(i.Fragment,null,i.createElement(s.F.div,{"aria-hidden":l,className:l.view((0,g.RN)(L,B))},n.error),i.createElement("div",null,i.createElement(C.zx.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=a.get();return void 0===e?l.set(!0):N.hz((()=>c(o.survey.options[e].key)))()}},n.submit),i.createElement(C.zx.Ghost,{className:j,name:"skipCardFeedbackForm",onClick:N.hz((()=>c("skipped")))},n.skip))),subActions:i.createElement(i.Fragment,null)})})))};var _=n(34047),U=n(19157),W=n(21474),q=n(85255),z=n(55636);const G=k.u.style({marginRight:k.u.rem(-.5),marginTop:k.u.rem(.5)}),Y=k.u.style({padding:`0 ${k.u.rem(1.625)} !important`,marginRight:k.u.rem(.125)}),V=k.u.style({marginRight:0}),X=({card:e,actions:t,showLabel:n=!0})=>{const r=i.useRef(h.h.create(!1));q.P.useEffectOnWillUnmount((()=>{r.current.get()||(0,o.pipe)(e.muteCategory,f.map((n=>t.next({type:b.lY.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:n.id}))))}));const a=i.useContext(v.m.Context).card.mutedAlertCard;return i.createElement($.Z,{onFocus:()=>t.next({type:b.lY.Type.mutedAlertSuccessShow}),theme:(0,R.G)(e.renderOptions),visualState:e.visualState,body:i.createElement(i.Fragment,null,n?i.createElement(z.__,{alert:e.activeAlert,options:e.renderOptions}):null,i.createElement(O.XY,null,a.description((0,o.pipe)(e.muteCategory,f.fold((()=>""),(e=>e.description)))))),mainActions:i.createElement(i.Fragment,null),footer:i.createElement("div",{className:G},i.createElement(C.zx.Primary,{name:"gotIt",className:Y,onClick:()=>N.hz((()=>t.next({type:b.lY.Type.switchToNext})))()},a.successButtonLabel),i.createElement(C.zx.Ghost,{name:"turnBackOn",onClick:N.hz((()=>{r.current.set(!0),(0,o.pipe)(e.muteCategory,f.map((n=>t.next({type:b.lY.Type.undoMuteAlertCategory,categoryId:n.id,id:e.id}))))}))},a.undoButtonLabel,i.createElement(W.JO.Undo,{color:x.Il.CoreBlue50,className:V}))),subActions:i.createElement(C.zx.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:b.lY.Type.mutedAlertSuggestionManagementClick})},a.settingsLabel,i.createElement(W.JO.OuterLink,null))})};var J=n(71249),K=n(22232),Z=n(51838);const Q=({children:e})=>i.createElement("div",{role:"column-layout",className:te.holder},e),ee={display:"flex",flexDirection:"column",padding:`${k.u.rem(.75)} ${k.u.rem(.25)} 0 ${k.u.rem(.75)}`},te=k.u.stylesheet({holder:[ee]}),ne=({left:e,right:t})=>{const n=Array.isArray(e)&&0===e.length,r=Array.isArray(t)&&0===t.length;return n&&r?i.createElement("div",{role:"row-layout",className:oe.spacer}):i.createElement("div",{role:"row-layout",className:oe.row},n?null:i.createElement("div",{className:oe.rowLeft},e),r?null:i.createElement("div",{className:oe.rowRight},t))},re={display:"flex",flexWrap:"wrap",alignItems:"baseline",maxWidth:"100%",$nest:{"& > *":{margin:`0 ${k.u.rem(.5)} ${k.u.rem(.5)} 0`}}},ie=Object.assign(Object.assign({},re),{marginLeft:"auto"}),ae={marginBottom:k.u.rem(.5)},oe=k.u.stylesheet({spacer:[ae],row:[{display:"flex",flexDirection:"row"}],rowLeft:[re],rowRight:[ie]}),se=({content:e,designSystem:t,notify:n})=>{const[r,o]=i.useState(0),s=(e,n)=>{switch(e.kind){case Z.v2.text:return i.createElement(t.text,Object.assign({key:n},e));case Z.v2.button:return i.createElement(t.button[e.type],{key:n,text:e.label,name:e.name,selected:!1,onClick:c(e)});case Z.v2.iconButton:return i.createElement(t.iconButton,{key:n,icon:l(e.source,n),name:e.name,onClick:c(e)});case Z.v2.alternativeChoice:return i.createElement(t.alternativeChoice,{key:n,designSystem:t,content:e.alternatives,activeIndex:r,notify:c});case Z.v2.icon:return l(e.source,n);case Z.v2.block:return i.createElement(t.block,Object.assign(Object.assign({key:n},e),{parts:e.parts.map(s)}));default:return(0,K.L0)(e),i.createElement("div",null,"unknown element")}},l=(e,n)=>"known"===e.kind?i.createElement(t.icon[e.type],{key:n}):i.createElement(t.image,{key:n,src:e.url,name:e.name}),c=e=>()=>(0,a.pipe)(e.actions,function(e){return J.cons({type:Z.zx.ActionType.notify,id:e.id,userAction:"click"})}(e),d,n);function d(e){return(0,a.pipe)(e,J.map((e=>e.type===Z.zx.ActionType.applyAlternative?{type:Z.zx.ActionType.applyAlternative,alternativeIndex:r}:e.type===Z.zx.ActionType.selectAlternative?(o(e.alternativeIndex),e):e)))}return i.createElement(Q,null,e.children.map(((e,t)=>i.createElement(ne,{key:t,left:e.left.map(s),right:e.right.map(s)}))))};var le=n(64015);const ce=e=>e.kind===Z.v2.alternative,de=e=>e.type===Z.zx.ActionType.selectAlternative?f.some(e.alternativeIndex):f.none;function ue(e){return t=>(0,a.pipe)(t,le.Ew((0,a.flow)(de,f.exists((t=>t===e)))),f.isSome)}var me=n(40219),pe=n(73711);const he={primary:e=>i.createElement(C.zx.Primary,{name:e.name,onClick:e.onClick,active:e.selected},e.text),secondary:e=>i.createElement(C.zx.Tertiary,{name:e.name,onClick:e.onClick,active:e.selected},e.text),toggle:e=>i.createElement(C.zx.Animated,{name:e.name,onClick:e.onClick,active:e.selected,styleType:O.ZT.Type.Button,className:k.u.joinClasses([pe.LI,ge])},e.text)},ge=k.u.style((0,pe.T)({default:{padding:`0 ${k.u.rem(.5)}`,borderRadius:k.u.rem(me.fx),whiteSpace:"normal",backgroundColor:x.Il.CoreNeutral0,color:x.Il.CoreBlue50,border:`1px solid ${x.Il.CoreNeutral20}`,transitionDuration:".2s",transitionProperty:"border-color, background-color",lineHeight:"calc(2px * var(--rem) - 2px)"},hovered:{backgroundColor:x.Il.CoreBlue1},disabled:{color:x.Il.CoreNeutral40,borderColor:x.Il.CoreNeutral10},clicked:{backgroundColor:x.Il.CoreBlue10},toggled:{backgroundColor:x.Il.CoreNeutral1,borderColor:x.Il.CoreBlue50}})),fe={close:()=>i.createElement(W.JO.Close,null),"arrow-right":()=>i.createElement(W.JO.Arrow,{direction:W.n4.right}),"arrow-left":()=>i.createElement(W.JO.Arrow,{direction:W.n4.left})},ye={$nest:{"& > i":{minWidth:k.u.rem(1),minHeight:k.u.rem(1)}}},ve=k.u.stylesheet({main:[ye]}),be={width:k.u.rem(.85),height:k.u.rem(.85),objectFit:"contain",alignSelf:"center",overflow:"hidden"},Ce=k.u.stylesheet({main:[be]}),Ie=k.u.stylesheet({holder:[{wordBreak:"break-word",width:"100%"}]});var xe=n(7514);const ke={padding:`${k.u.rem(.125)} 0`},Ee={letterSpacing:k.u.rem(x.xv.BodyLetterSpacing),fontSize:k.u.rem(x.xv.BodySize),lineHeight:k.u.rem(1)},Se={letterSpacing:k.u.rem(x.xv.SmallLetterSpacing),fontSize:k.u.rem(x.xv.SmallSize),lineHeight:k.u.rem(.875)},Ae=k.u.stylesheet({[Z.xv.Size.regular]:[ke,Ee],[Z.xv.Size.small]:[ke,Se]}),we=k.u.stylesheet({[Z.xv.Format.bold]:[{fontWeight:"bolder"}],[Z.xv.Format.italic]:[{fontStyle:"italic"}],[Z.xv.Format.strikeout]:[{textDecoration:"line-through"}]}),Te={strikeout:"s",bold:"b",italic:"i"};const Oe=new xe.z6(100),Ne={button:he,iconButton:({icon:e,name:t,onClick:n})=>i.createElement(C.zx.Ghost,{name:t,onClick:n,className:ve.main},e),alternativeChoice:({designSystem:e,content:t,activeIndex:n,notify:r})=>{const o=(0,a.pipe)(t,le.f2((0,a.flow)(f.fromPredicate(ce),f.chainFirst((0,a.flow)((e=>e.label.actions),ue(n),f.fromPredicate(a.identity))),f.map((e=>e.preview)))));return(0,a.pipe)(o,f.fold((()=>null),(a=>i.createElement(i.Fragment,null,e.block(Object.assign(Object.assign({},a),{parts:a.parts.map(((t,n)=>i.createElement(e.text,Object.assign({key:n},t))))})),t.map(((t,a)=>ce(t)?i.createElement(e.button.toggle,{key:a,text:t.label.label,name:t.label.name,selected:ue(n)(t.label.actions),onClick:r(t.label)}):i.createElement(e.text,Object.assign({key:a},t))))))))},text:({size:e,format:t,textColor:n,backgroundColor:r,text:a})=>{const o=function(e,t){const n=`${e}-${t}`,r=Oe.get(n);if(void 0!==r)return r;{const r=k.u.style({color:x.Il[e],backgroundColor:t&&x.Il[t]});return Oe.put(n,r),r}}(n,r),[s,...l]=t,c=void 0!==s?Te[s]:"span",d=l.map((e=>we[e]));return i.createElement(c,{className:k.u.joinClasses([o,Ae[e],...d]),children:a})},image:({name:e,src:t})=>i.createElement("img",{src:t,className:Ce.main,alt:e}),icon:fe,block:e=>i.createElement("div",{className:Ie.holder},e.parts)},$e=({card:e,actions:t})=>i.createElement("div",{className:(0,R.f)(e.renderOptions.layoutDensity).container},i.createElement(se,{content:e.activeAlert.cardDSL.value,designSystem:Ne,notify:n=>t.next({type:b.lY.Type.sduiCardAction,cardId:e.id,actions:n})}));var Fe=n(66346),Pe=n(2834);const De=({onLeftClick:e,onRightClick:t,currentMatch:n,totalMatch:r,replaceOneMatch:a=!0,disableOnEnd:o=!0,style:s})=>{const l=i.useContext(v.m.Context).card.matchesNavigation;return 0===r?null:1===r&&a?i.createElement("div",Object.assign({},(0,I.Sh)(Le.matchesRow,s.matchesRow||!1)),i.createElement(O.ck,Object.assign({},(0,I.Sh)(Le.matchesCount,s.matchesCount||!1)),l.numberOfMatches(r))):i.createElement("div",Object.assign({},(0,I.Sh)(Le.matchesRow,s.matchesRow||!1)),i.createElement(C.zx.Ghost,{disabled:o&&0===n,name:"left",title:l.prev,onClick:e},i.createElement(W.JO.Arrow,Object.assign({},(0,I.Sh)(Le.leftButtonIcon,s.leftButtonIcon||!1)))),i.createElement(O.ck,Object.assign({},(0,I.Sh)(Le.matchesCount,s.matchesCount||!1)),l.currentMatchPosition(n+1,r)),i.createElement(C.zx.Ghost,{disabled:o&&n===r-1,name:"right",title:l.next,onClick:t},i.createElement(W.JO.Arrow,Object.assign({},(0,I.Sh)(Le.rightButtonIcon,s.rightButtonIcon||!1)))))},je={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:k.u.rem(.25)}}},Me={textTransform:"uppercase",letterSpacing:k.u.px(.8),lineHeight:k.u.rem(2)},Le=k.u.stylesheet({matchesRow:[je],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[Me]});function Be(e,t,n){const{activeAlert:r,activeHighlightIndex:i}=t,a=r.getHighlightRanges(),o=(i+("left"===e?a.length-1:1))%a.length;n.next({type:b.lY.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const Re=({card:e,actions:t,selectedLabelIndex:n,isChecking:r})=>{const a=i.useContext(v.m.Context),o=h.h.create(!1);return q.P.useSubscriptionTo(r.pipe(Pe.b((e=>o.set(e))))),i.createElement(z.Nm,{applyMessage:e.activeAlert.todoAction,checkingMessage:a.card.checking,title:a.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:b.lY.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n.get(),id:e.id,eligibleForSurvey:l.X.isEligibleForAcceptSurvey(e),cardType:b.lY.getCardType(e)})}})},He=({card:e,actions:t})=>i.createElement(De,{onLeftClick:()=>Be("left",e,t),onRightClick:()=>Be("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var _e=n(26662);const Ue=({activeAlert:e,selectedLabelIndex:t,actions:n})=>{const a=i.useContext(v.m.Context);return i.createElement("div",{className:_e.V.optionsContainer},e.labels.map(((e,o)=>i.createElement(i.Fragment,{key:`option-${o}`},i.createElement(r.Item,{className:_e.V.optionLabel,onChange:()=>{t.set(o),n.next({type:b.lY.Type.alternativeReplacementRadioButtonClick,index:o})},checked:t.view((e=>e===o))},i.createElement(O.XY,{className:_e.V.optionRadio},e.label)),i.createElement(O.x4,{className:_e.V.optionExample},e.replacementTexts.join("; ")),i.createElement(O.x4,{className:_e.V.optionSecondaryAttribute},a.card.matchesNavigation.numberOfMatches(e.matches))))))},We=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{const a=h.h.create(0);return i.createElement($.Z,{visualState:e.visualState,onFocus:()=>t.next({type:b.lY.Type.alertCardShow,cardType:b.lY.getCardType(e),alertId:e.activeAlert.id}),theme:Object.assign({wrapper:_e.V.superWrapper,content:r.pipe(m.U((0,g.RN)(_e.V.loadingWrapperInvisible,_e.V.loadingWrapper)))},(0,R.f)(e.renderOptions.layoutDensity)),extra:i.createElement(z.o,{isChecking:r}),body:i.createElement(i.Fragment,null,i.createElement(z.__,{alert:e.activeAlert,options:e.renderOptions}),i.createElement(z.Ot,{alert:e.activeAlert}),i.createElement(z.ko,{card:e,isChecking:n}),i.createElement(z.dk,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),i.createElement(Ue,{activeAlert:e.activeAlert,selectedLabelIndex:a,actions:t})),mainActions:i.createElement(z.Kg,{card:e,feedbackActions:t}),footer:i.createElement(i.Fragment,null,i.createElement(z.lJ,{card:e}),i.createElement(Re,{selectedLabelIndex:a,card:e,actions:t,isChecking:n})),navigation:i.createElement(He,{card:e,actions:t}),subActions:i.createElement(Fe.Vh,{actions:t,card:e,mode:"mini"})})};var qe;!function(e){e.Full=({card:e,actions:t})=>{const{isChecking:n,isCheckingGlobal:r,transform:o}=l.X.useCardStates(e),c=e=>i.createElement(_.J,{card:e,actions:t,isChecking:n,transform:o,isCheckingGlobal:r});return i.createElement(s.F.Fragment,null,e.pipe(u.x(((e,t)=>e.hashCode()===t.hashCode())),m.U((0,a.flow)(l.X.match({super:e=>i.createElement(We,{card:e,actions:t,isChecking:n,isCheckingGlobal:r}),smartPhrases:c,takeaway:c,sentenceLevelBrandTones:c,synfony:c,shortenIt:c,toneAI:c,sdui:e=>i.createElement($e,{card:e,actions:t}),default:c}),l.X.foldCard))))},e.Mini=({card:t,actions:n})=>i.createElement(s.F.Fragment,null,t.pipe(m.U((t=>d.j.Density.matchL((()=>i.createElement(e.MiniSingleLined,{card:t,actions:n})),(()=>i.createElement(e.MiniTwoLined,{card:t,actions:n})),(()=>i.createElement(e.MiniTwoLined,{card:t,actions:n})))(t.renderOptions.layoutDensity))))),e.MiniSingleLined=({card:e,actions:t})=>{function n(e){return i.createElement(U.P.Standard,{card:e,actions:t})}return(0,o.pipe)(e,l.X.match({smartPhrases:n,super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,sdui:n,default:n}),l.X.foldCard)},e.MiniTwoLined=({card:e,actions:t})=>{function n(e){return i.createElement(U.P.TwoLined,{card:e,actions:t})}return(0,o.pipe)(e,l.X.match({smartPhrases:n,super:n,takeaway:n,sentenceLevelBrandTones:n,synfony:n,shortenIt:n,toneAI:n,sdui:n,default:n}),l.X.foldCard)},e.Success=p.b.Success,e.FeedbackForm=({cardData:e,actions:t})=>{function n(e){return i.createElement(H,{card:e,actions:t})}return(0,o.pipe)(e,c.C.match({smartPhrases:n,takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,sdui:n}),l.X.foldCard)},e.MutedAlert=({cardData:e,actions:t})=>{function n(e){return i.createElement(X,{card:e,actions:t})}return(0,o.pipe)(e,c.C.match({smartPhrases:function(e){return i.createElement(X,{card:e,actions:t,showLabel:!1})},takeaway:n,default:n,sentenceLevelBrandTones:n,synfony:n,super:n,shortenIt:n,toneAI:n,sdui:n}),l.X.foldCard)}}(qe||(qe={}))},26662:(e,t,n)=>{n.d(t,{V:()=>v});var r=n(44060),i=n(63969),a=n(40219);const o=(e,t,n,a,o,s)=>Object.assign({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:i.u.rem(2),borderRadius:o,backgroundColor:r.Il.CoreNeutral0,boxShadow:a,content:"' '"},s&&"bottom"!==s?{top:n}:{bottom:n}),s=`0 ${i.u.rem(.25)} ${i.u.rem(1.625)} 0 rgba(198, 203, 222, .25)`,l={marginRight:i.u.rem(1),flexShrink:0,maxWidth:i.u.percent(100)},c={padding:`0 ${i.u.rem(1)}`},d={padding:`0 ${i.u.rem(1.9)} 0 ${i.u.rem(1)}`},u={position:"absolute",top:i.u.rem(.27),right:i.u.rem(.5)},m={display:"grid",width:i.u.percent(100),gridGap:i.u.rem(.5),gridTemplateColumns:"fit-content(60%) auto min-content"},p={minWidth:i.u.rem(7)},h={marginLeft:i.u.rem(.5)},g={color:r.Il.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:i.u.rem(1.5)},f={$nest:{"&:before":o(i.u.rem(.5),-10,i.u.rem(-.5),s,i.u.rem(a.Jr)),"&:after":o(i.u.rem(1),-20,i.u.rem(-1),s,i.u.rem(a.Jr))}},y={transition:"opacity .2s"},v=i.u.prefixedStylesheet("super",{updateAllBtnCommon:[l],updateAllBtn:[l,c],updateAllBtnLoading:[l,d],updateBtnSpinner:[u],optionsContainer:[m],optionLabel:[p],optionRadio:[h],optionSecondaryAttribute:[g],optionExample:[g,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic"}],superWrapper:[f],loadingWrapper:[y],loadingWrapperInvisible:[y,{opacity:0,pointerEvents:"none"}]})},76720:(e,t,n)=>{n.d(t,{o:()=>A});var r=n(27378),i=n(40327),a=n(83078),o=n(5114),s=n(63969),l=n(30763),c=n(88097),d=n(15646),u=n(4890),m=n(7046),p=n(28706),h=n(66346),g=n(1883),f=n(55636),y=n(19025),v=n(57050),b=n(26027),C=n(21474);const I=({card:e,actions:t,hasHeader:n})=>{const s=r.useContext(l.m.Context),d=o.isNone(e.activeAlert.takeawayFeedback)?s.card.takeaway.defaultTitle:e.activeAlert.title,m=o.fromNullable(e.activeAlert.highlightTexts[0]),p=(0,i.pipe)(e.activeAlert,o.fromPredicate((e=>!e.takeawayIsLikelyToBeRead&&(a.contains(c.TO.correctlyDetected)(e.takeawayFeedback)||a.contains(c.TO.correctlyDetectedAndDone)(e.takeawayFeedback)))),o.map((()=>e.meta.explanation)));return r.createElement(r.Fragment,null,!n&&(0,i.pipe)(e.renderOptions.layoutDensity,u.j.Density.matchOrDefault(u.j.Density.minimal)((()=>r.createElement(f.__,{alert:e.activeAlert,options:e.renderOptions},r.createElement(f.jg,{text:b.X.miniTitle(e,s)}))),(()=>r.createElement(r.Fragment,null,r.createElement(f.__,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(f.Dx,{text:d}))))),(0,i.pipe)(m,o.fold(v.constNull,(t=>r.createElement(f.hl,{text:t,layoutDensity:e.renderOptions.layoutDensity})))),(0,i.pipe)(p,o.fold(v.constNull,(n=>r.createElement(f.dk,{description:n,actions:t,layoutDensity:e.renderOptions.layoutDensity})))))},x=({card:e,feedbackActions:t})=>r.createElement(r.Fragment,null,r.createElement(m.zx.Ghost,{name:"takeaway-like",onClick:p.hz((()=>{var n;return t.next({type:d.lY.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(n=e.activeAlert.highlightTexts[0])&&void 0!==n?n:""})}))},r.createElement(C.JO.YesCircle,null)," Yes"),r.createElement(m.zx.Ghost,{name:"takeaway-dislike",onClick:p.hz((()=>t.next({type:d.lY.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id})))},r.createElement(C.JO.NoCircle,null)," No")),k=({card:e,feedbackActions:t})=>{const n=r.useContext(l.m.Context);return r.createElement(r.Fragment,null,r.createElement(m.zx.Ghost,{name:"resolve",title:n.resolve,onClick:p.hz((()=>t.next({type:d.lY.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})))},r.createElement(C.JO.YesCircle,null)),r.createElement(m.zx.Ghost,{name:"ignore",title:n.dismiss,onClick:p.hz((()=>t.next({type:d.lY.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})))},r.createElement(C.JO.Ignore,null)))};function E(e,t){const n=a.contains(c.TO.correctlyDetected)(e.activeAlert.takeawayFeedback);return e.activeAlert.takeawayIsLikelyToBeRead&&n&&t}function S(e){return!o.isNone(e.takeawayFeedback)&&!(!o.isSome(e.examples)&&!o.isSome(e.details))}var A;!function(e){e.Full=({card:e,actions:t,cardHeader:n,isChecklistItem:s,isChecklistBundleItem:v})=>{const b=r.useContext(l.m.Context);return r.createElement(g.Z,{visualState:e.visualState,onFocus:()=>t.next({type:d.lY.Type.alertCardShow,cardType:d.lY.getCardType(e),alertId:e.activeAlert.id}),theme:(w=e.renderOptions,T=!!n,Object.assign(Object.assign({},(0,y.f)(w.layoutDensity)),{wrapper:(0,i.pipe)(w.layoutDensity,u.j.Density.matchOrDefault(u.j.Density.minimal)((()=>T?O.minimalCardWrapperWithHeader:O.minimalCardWrapper),(()=>{})))})),body:r.createElement(I,{card:e,actions:t,hasHeader:!!n}),mainActions:o.isNone(e.activeAlert.takeawayFeedback)?r.createElement(x,{card:e,feedbackActions:t}):E(e,!!v)?r.createElement(m.zx.Ghost,{name:"takeaway-correctly-detected-and-done",onClick:p.hz((()=>t.next({type:d.lY.Type.takeawayCorrectlyDetectedAndDone,id:e.id,alertId:e.activeAlert.id})))},b.done):(C=e,A=!!s&&!v,(a.contains(c.TO.correctlyDetected)(C.activeAlert.takeawayFeedback)||a.contains(c.TO.correctlyDetectedAndDone)(C.activeAlert.takeawayFeedback))&&C.activeAlert.takeawayIsLikelyToBeRead&&A?null:r.createElement(k,{card:e,feedbackActions:t})),header:n,footer:S(e.activeAlert)?r.createElement(f.lJ,{card:e}):null,subActions:S(e.activeAlert)?r.createElement(h.Vh,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});var C,A,w,T}}(A||(A={}));const w={padding:`${s.u.rem(.75)} ${s.u.rem(.5)} ${s.u.rem(.5)} ${s.u.rem(1)}`},T={padding:`0 ${s.u.rem(.5)} ${s.u.rem(.5)} ${s.u.rem(1)}`},O=s.u.stylesheet({minimalCardWrapper:[w],minimalCardWrapperWithHeader:[T]})},12138:(e,t,n)=>{n.d(t,{Y:()=>ve});var r=n(27378),i=n(57050),a=n(40327),o=n(12187),s=n(5739),l=n(77176),c=n(76974),d=n(5114),u=n(44060),m=n(63969),p=n(30763),h=n(98637),g=n(26027),f=n(91549),y=n(15646),v=n(29847),b=n(62310),C=n(29245),I=n(3656),x=n(85255),k=n(28706),E=n(79589),S=n(55636),A=n(19157),w=n(89521),T=n(60797),O=n(98403),N=n(32952),$=n(24209),F=n(17343),P=n(93508),D=n(41398),j=n(85985),M=n(28043),L=n(2834),B=n(2844);const R=({toneAlternatives:e,onSelectToneAlternative:t})=>{const n=new N.xQ,i=new N.xQ,c=new N.xQ,u=new N.xQ,p=new N.xQ,h=new N.xQ,{ref:g,onMount:f}=x.P.useElWatcher(),y=$.T(p.pipe(F.h(!0)),c.pipe(F.h(!1)),u.pipe(F.h(!1))).pipe(P.O(!1)),v=i.pipe(D.M(y),j.h((([e,t])=>t)),l.U((([e,t])=>e)),D.M(g),l.U((([e,t])=>(0,a.pipe)(t,d.map((e=>e.getBoundingClientRect())),d.bindTo("sliderClientRect"),d.apS("containerMouseEventVal",d.some(e))))),T.oA,l.U((({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,r=t.x+t.width;let i=0;return i=e.clientX<=n?0:e.clientX>=r?100:(e.clientX-n)/(r-n)*100,i}))),b=$.T(v.pipe(M.x()),y.pipe(M.x(),j.h((e=>!e)),D.M(v),l.U((([e,t])=>t)),l.U((e=>e>=50?100:0))),n.pipe(j.h((e=>"ArrowRight"===e.key||"ArrowLeft"===e.key)),L.b((e=>{e.preventDefault(),e.stopPropagation()})),l.U((e=>e.key)),j.h((e=>"ArrowRight"===e||"ArrowLeft"===e)),l.U((e=>"ArrowRight"===e?100:0))),h.pipe(l.U((e=>1===e?100:0)))).pipe(P.O(100)),I=b.pipe(M.x(),l.U((e=>e>=50?1:0))).pipe(P.O(1)),k=B.aj([I,O.Dx(e)]).pipe(l.U((([e,t])=>t[e])));return x.P.useSubscriptionTo(I.pipe(M.x(),L.b(t))),r.createElement(s.F.div,{className:ye.outerContainer,onKeyDown:e=>n.next(e)},r.createElement(s.F.div,{className:ye.label},k.pipe(l.U((e=>e.name)))),r.createElement(s.F.div,{className:ye.container,onMouseMove:e=>i.next(e),onMouseUp:e=>c.next(e),onMouseLeave:e=>u.next(e)},r.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.slider,y.pipe(l.U((e=>e?ye.sliderDragging:null)))),{mount:f}),r.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.sliderInner,y.pipe(l.U((e=>e?ye.sliderInnerDragging:null)))),{style:{width:b.pipe(l.U(m.u.percent))}}),r.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.knob,y.pipe(l.U((e=>e?ye.knobDragging:null)))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),p.next(e)},tabIndex:0}),k.pipe(l.U((e=>r.createElement(C.In,{id:e.emojiID,className:ye.knobEmoji})))))),B.aj([I,y]).pipe(l.U((([e,t])=>r.createElement(r.Fragment,null,r.createElement("div",Object.assign({},(0,o.Sh)(ye.sliderDivisionPoint,ye.sliderDivisionPointLeft))),0===e||t?null:r.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.sliderDivisionPointHoverArea,ye.sliderDivisionPointHoverAreaLeft),{onClick:()=>h.next(0)})),r.createElement("div",Object.assign({},(0,o.Sh)(ye.sliderDivisionPoint,ye.sliderDivisionPointRight))),1===e||t?null:r.createElement(s.F.div,Object.assign({},(0,o.Sh)(ye.sliderDivisionPointHoverArea,ye.sliderDivisionPointHoverAreaRight),{onClick:()=>h.next(1)})))))))))},H="toneSliderOuterContainer",_="toneSliderLabel",U="toneSliderContainer",W="toneSlider",q="toneSliderDragging",z="toneSliderSliderDivisionPoint",G="toneSliderDivisionPointLeft",Y="toneSliderDivisionPointRight",V="toneSliderDivisionPointHoverArea",X="toneSliderDivisionPointHoverAreaLeft",J="toneSliderDivisionPointHoverAreaRight",K="toneSliderInner",Z="toneSliderInnerDragging",Q="toneSliderKnob",ee="toneSliderKnobDragging",te="toneSliderKnobEmoji",ne={display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:m.u.rem(.875)},re={fontWeight:700,fontSize:m.u.rem(.875),lineHeight:m.u.rem(1)},ie={width:m.u.rem(5.375),height:m.u.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},ae={position:"relative",width:m.u.percent(100),backgroundColor:u.Il.CoreNeutral40,height:m.u.rem(.125),borderRadius:m.u.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:m.u.rem(.5)},[`&:hover .${z}`]:{visibility:"visible"}}},oe={height:m.u.rem(.5),$nest:{[`& .${z}`]:{visibility:"visible"}}},se={position:"absolute",width:m.u.rem(.25),height:m.u.rem(.25),backgroundColor:u.Il.CoreNeutral0,top:m.u.rem(.125),bottom:m.u.rem(.125),borderRadius:m.u.percent(100),visibility:"hidden"},le={left:m.u.rem(.125)},ce={right:m.u.rem(.125)},de={background:u.Il.CoreNeutral90,opacity:0,width:m.u.rem(1.5),height:m.u.rem(1.5),position:"absolute",borderRadius:m.u.percent(100),cursor:"pointer",top:m.u.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},ue={left:m.u.rem(-.5)},me={right:m.u.rem(-.5)},pe={position:"relative",display:"flex",alignItems:"center",backgroundColor:u.Il.CorePurple40,height:m.u.percent(100),borderRadius:m.u.rem(.375),transition:"all 0.15s ease-in-out"},he={position:"absolute",right:m.u.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:m.u.rem(1.75),height:m.u.rem(1.75),backgroundColor:u.Il.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:m.u.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:m.u.rem(2),height:m.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},ge={width:m.u.rem(2),height:m.u.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},fe={width:m.u.rem(.9375),height:m.u.rem(.9375),pointerEvents:"none"},ye={outerContainer:m.u.joinClasses([H,m.u.style(ne)]),label:m.u.joinClasses([_,m.u.style(re)]),container:m.u.joinClasses([U,m.u.style(ie)]),slider:m.u.joinClasses([W,m.u.style(ae)]),sliderDragging:m.u.joinClasses([q,m.u.style(oe)]),sliderDivisionPoint:m.u.joinClasses([z,m.u.style(se)]),sliderDivisionPointLeft:m.u.joinClasses([G,m.u.style(le)]),sliderDivisionPointRight:m.u.joinClasses([Y,m.u.style(ce)]),sliderDivisionPointHoverArea:m.u.joinClasses([V,m.u.style(de)]),sliderDivisionPointHoverAreaLeft:m.u.joinClasses([X,m.u.style(ue)]),sliderDivisionPointHoverAreaRight:m.u.joinClasses([J,m.u.style(me)]),sliderInner:m.u.joinClasses([K,m.u.style(pe)]),sliderInnerDragging:m.u.joinClasses([Z,m.u.style({transition:"none"})]),knob:m.u.joinClasses([Q,m.u.style(he)]),knobDragging:m.u.joinClasses([ee,m.u.style(ge)]),knobEmoji:m.u.joinClasses([te,m.u.style(fe)])};var ve;!function(e){e.BundleMini=({card:e,actions:t})=>r.createElement(E.b.Mini,Object.assign({},(0,o.Sh)(A.l.wrapper,A.l.bundleContainer),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:r.createElement(I.CL,{className:A.l.alertsCounter},e.alerts.length),hideDot:!0}),r.createElement(s.F.div,{className:Ce.content},r.createElement(C.In,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:Ce.emoji}),r.createElement("div",{className:A.l.highlightedText},f.R.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:o})=>{const u=r.useContext(p.m.Context),m=x.P.useAtomOf(e.activeAlert.toneAlternatives),f=r.useCallback((n=>{t.next({type:y.lY.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:n})}),[t,e.activeAlert.id,e.id]);return(0,a.pipe)(e.transform,d.filter(h.b$.isToneAI),d.fold((()=>null),(a=>r.createElement(S.VM,{card:e,actions:t,isChecking:n,isCheckingGlobal:o,cardBody:n=>r.createElement(r.Fragment,null,r.createElement(S.__,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(b.C.Regular,null,u.beta)}),r.createElement(s.F.Fragment,null,m.pipe(l.U((e=>r.createElement(R,{toneAlternatives:e,onSelectToneAlternative:f}))))),0===e.activeAlert.selectedToneAlternativeIdx?r.createElement("div",{className:ke.replacementContainer},e.activeAlert.highlightTexts[0]):r.createElement(v.T9,{classes:{rendered:ke.replacement,removing:ke.replacementHidden},timeout:250,content:c.of(r.createElement(w.RF,{label:a.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:ke.replacementContainer}))}),0!==e.activeAlert.selectedToneAlternativeIdx?r.createElement(S.Nm,{title:u.card.todoAction(a.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:k.hz((()=>t.next({type:y.lY.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:y.lY.getCardType(e),eligibleForSurvey:g.X.isEligibleForAcceptSurvey(e)})))}):null),mainActions:(0,i.constant)(r.createElement(S.Kg,{card:e,feedbackActions:t})),subActions:(0,i.constant)(r.createElement(S.q4,{card:e,actions:t})),cardFooter:(0,i.constant)(r.createElement(S.lJ,{card:e}))}))))}}(ve||(ve={}));const be={width:m.u.rem(1),height:m.u.rem(1),marginRight:m.u.rem(.5)},Ce=m.u.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[be]}),Ie={transition:`opacity ${m.u.seconds(S.k_)}`},xe={width:m.u.percent(100),background:u.Il.CoreNeutral10,borderRadius:m.u.px(4),fontSize:m.u.rem(.875),lineHeight:m.u.rem(1.5),fontFeatureSettings:"'ss03' on",padding:m.u.px(8),marginTop:m.u.px(12),boxSizing:"border-box"},ke=m.u.stylesheet({replacement:[Ie],replacementHidden:[Ie,{opacity:0}],replacementContainer:[xe]})},92843:(e,t,n)=>{n.d(t,{v:()=>r,u:()=>i});var r,i,a=n(90329),o=n(57050),s=n(40327),l=n(64681),c=n(5114),d=n(93756),u=n(1065);!function(e){function t(t,n,r){return function(i){return e.fromMutation((function(a){(0,s.pipe)(i,e.forEach((function(e,n){return a.set(n,d.t$(t(n,e)))}),(function(e,t,r){return(0,s.pipe)(n(r,e,t),(function(e){var t=e[0],n=e[1];return a.set(r,d.Hk(t,n))}))}),(function(e,t){return a.set(t,d.F2(r(t,e)))})))}))}}function n(t,n,r){return function(i){return e.fromMutation((function(a){(0,s.pipe)(i,e.forEach((function(e,n){return t(n,e)&&a.set(n,d.t$(e))}),(function(e,t,r){return n(r,e,t)&&a.set(r,d.Hk(e,t))}),(function(e,t){return r(t,e)&&a.set(t,d.F2(e))})))}))}}function r(e){return function(t,n,r){return function(a){var o=i.iso().unwrap(a),s=e.empty;return o.forEach((function(i,a){s=e.concat(s,d.g_((function(e){return t(a,e)}),(function(e){return r(a,e)}),(function(e,t){return n(a,e,t)}))(i))})),s}}}e.reduce=function(e,t,n,r){return function(a){var o=i.iso().unwrap(a),s=e;return o.forEach((function(e,i){s=d.g_((function(e){return t(s,e,i)}),(function(e){return r(s,e,i)}),(function(e,t){return n(s,e,t,i)}))(e)})),s}},e.mapWithIndex=t,e.map=function(e,n,r){return t((function(t,n){return e(n)}),(function(e,t,r){return n(t,r)}),(function(e,t){return r(t)}))},e.filterWithIndex=n,e.filter=function(e,t,r){return n((function(t,n){return e(n)}),(function(e,n,r){return t(n,r)}),(function(e,t){return r(t)}))},e.foldMapWithIndex=r,e.foldMap=function(e){return function(t,n,i){return r(e)((function(e,n){return t(n)}),(function(e,t,r){return n(t,r)}),(function(e,t){return i(t)}))}},e.forEach=function(e,t,n){return function(r){i.iso().unwrap(r).forEach((function(r,i){d.g_((function(t){return e(t,i)}),(function(e){return n(e,i)}),(function(e,n){return t(e,n,i)}))(r)}))}},e.fromMutation=function(e){var t=i.empty();return e(t),i.iso().wrap(t)},e.empty=function(){return i.iso().wrap(i.empty())},e.concat=function(e,t,n){var r=i.iso();return r.wrap(i.concat(e,r.unwrap(t),r.unwrap(n)))},e.inverse=function(e){var t=i.iso();return(0,s.pipe)(t.unwrap(e),a.UI(u.swap),t.wrap)},e.getEq=function(e,t){return l.Eh(i.getEq(e,t))},e.toJSON=function(e){return Array.from(i.iso().unwrap(e))},e.getShow=function(e,t){return i.getShow(e,t)},e.isEmpty=function(e){return 0===i.iso().unwrap(e).size}}(r||(r={})),function(e){e.iso=function(){return l.k4()},e.empty=function(){return new Map};e.concat=function(e,t,n){var r=new Map(t);return n.forEach((function(t,n){r.has(n)?(0,s.pipe)(function(e,t,n){return d.Eh(e,e).equals(t,n)?c.some(n):d.Eh(e,e).equals(t,u.swap(n))?c.none:d.nM(t)?d.g_((function(){return c.some(d.t$(t.left))}),(function(e){return c.some(d.Hk(t.left,e))}),(function(n,r){return e.equals(t.left,r)?c.none:c.some(d.Hk(t.left,r))}))(n):d.tO(t)?d.g_((function(){return c.none}),(0,o.flow)(d.F2,c.some),(function(e,t){return c.some(d.F2(t))}))(n):d.g_((function(){return c.some(d.t$(t.left))}),(0,o.flow)(d.F2,c.some),(function(n,r){return e.equals(t.left,r)?c.none:c.some(d.Hk(t.left,r))}))(n)}(e,r.get(n),t),c.fold((function(){r.delete(n)}),(function(e){return r.set(n,e)}))):r.set(n,t)})),r},e.inverse=a.UI(u.swap),e.getEq=function(e,t){return a.Eh(e,d.Eh(t,t))},e.getShow=function(e,t){return a.ZN(e,d.ZN(t,t))}}(i||(i={}))},43675:(e,t,n)=>{n.r(t),n.d(t,{Compactable:()=>r.Ri,Filterable:()=>r.xu,Functor:()=>r.dO,collect:()=>r.KM,compact:()=>r.oA,deleteAt:()=>r.EG,elem:()=>r.t9,empty:()=>r.cS,filter:()=>r.hX,filterMap:()=>r.DZ,fromFoldable:()=>r.sQ,getEq:()=>r.Eh,getFilterableWithIndex:()=>r.qO,getMonoid:()=>r.uZ,getShow:()=>r.ZN,getWitherable:()=>r.YH,insertAt:()=>r.ZQ,isEmpty:()=>r.xb,isSubmap:()=>r.kr,keys:()=>r.XP,lookup:()=>r.P5,lookupWithKey:()=>r.FP,map:()=>r.UI,mapWithIndex:()=>r.Su,map_:()=>r.N,member:()=>r.fP,modifyAt:()=>r.cq,partition:()=>r.uK,partitionMap:()=>r.tV,pop:()=>r.Sw,separate:()=>r.oh,singleton:()=>r.ri,size:()=>r.dp,toArray:()=>r.qo,toUnfoldable:()=>r.nd,updateAt:()=>r.Wl,values:()=>r.VO,URI:()=>m,getFoldableWithIndex:()=>p,getEqByValue:()=>h,symmetricDiff:()=>g,leftToRight:()=>y,rightToLeft:()=>v,Merger:()=>f,diffKeys:()=>C});var r=n(90329),i=n(57050),a=n(40327),o=n(92843),s=n(95195),l=n(5114),c=n(83078),d=n(93756),u=n(1065),m="Map";function p(){var e=function(e,t,n){var r=t;return e.forEach((function(e,t){return r=n(t,r,e)})),r};return{URI:m,_E:void 0,reduce:function(t,n,r){return e(t,n,(function(e,t,n){return r(t,n)}))},foldMap:function(t){return function(n,r){return e(n,t.empty,(function(e,n,i){return t.concat(n,r(i))}))}},reduceRight:function(t,n,r){return e(t,n,(function(e,t,n){return r(n,t)}))},reduceWithIndex:e,reduceRightWithIndex:function(t,n,r){return e(t,n,(function(e,t,n){return r(e,n,t)}))},foldMapWithIndex:function(t){return function(n,r){return e(n,t.empty,(function(e,n,i){return t.concat(n,r(e,i))}))}}}}function h(e){return{equals:function(t,n){if(t===n)return!0;if(t.size===n.size){for(var r=t.keys(),i=void 0;!(i=r.next()).done;)if(!n.has(i.value)||!e.equals(t.get(i.value),n.get(i.value)))return!1;return!0}return!1}}}function g(e){return function(t,n){return o.v.fromMutation((function(r){return t.forEach((function(t,i){if(n.has(i)){var a=n.get(i);e.equals(t,a)||r.set(i,d.Hk(t,a))}else r.set(i,d.t$(t))})),n.forEach((function(n,i){if(t.has(i)){var a=t.get(i);e.equals(a,n)||r.set(i,d.Hk(a,n))}else r.set(i,d.F2(n))})),r}))}}var f,y=b(i.identity),v=b(u.swap);function b(e){return function(t,n,r){var i=new Map(n),c=new Map;return o.u.iso().unwrap(r).forEach((function(n,r){(0,a.pipe)(n,e,t(l.fromNullable(i.get(r))),d.Pd((function(e){return c.set(r,e)}),l.fold((function(){i.delete(r)}),(function(e){return i.set(r,e)}))))})),c.size>0?s.left({recovered:i,rejected:c}):s.right(i)}}function C(e){return function(t,n){var i=[],o=new Map(t);return n.forEach((function(t,n){(0,a.pipe)(r.FP(e)(n,o),c.tapLeft((function(){return i.push(n)})))})),i}}!function(e){e.createStrict=function(e){return function(t){return d.g_((function(n){return l.isNone(t)?d.t$("can not remove non existent entry: left("+e.show(n)+")"):e.equals(t.value,n)?d.F2(l.none):d.t$("can not remove non equal entry: target("+e.show(t.value)+") left("+e.show(n)+")")}),(function(n){return l.isSome(t)?d.t$("can not add existent entry: target("+e.show(t.value)+") right("+e.show(n)+")"):d.F2(l.some(n))}),(function(n,r){return e.equals(n,r)?d.t$("can not apply update with equals parts: left("+e.show(n)+") right("+e.show(r)+")"):l.isNone(t)?d.t$("can not update non existent entry: left("+e.show(n)+") right("+e.show(r)+")"):e.equals(t.value,n)?d.F2(l.some(r)):d.t$("can not apply update on non equal entry: target("+e.show(t.value)+") left("+e.show(n)+") right("+e.show(r)+")")}))}},e.createLoose=function(e){return function(t){return d.g_((function(n){return l.isNone(t)?d.t$("can not remove non existent entry: left("+e.show(n)+")"):e.equals(t.value,n)?d.F2(l.none):d.Hk("removed non equal entry: target("+e.show(t.value)+") left("+e.show(n)+")",l.none)}),(function(n){return l.isSome(t)?d.Hk("existent entry was overwritten: target("+e.show(t.value)+") right("+e.show(n)+")",l.some(n)):d.F2(l.some(n))}),(function(n,r){var i=e.equals(n,r)?l.some("unexpected equal parts in provided update"):l.none;return l.isNone(t)?d.Hk((0,a.pipe)(i,l.map((function(e){return e+", "})),l.getOrElse((function(){return""})))+"update applied on non existent entry: left("+e.show(n)+") right("+e.show(r)+")",l.some(r)):e.equals(t.value,n)?(0,a.pipe)(i,l.map((function(t){return t+": left("+e.show(n)+") right("+e.show(r)+")"})),l.fold((function(){return d.F2(l.some(r))}),(function(e){return d.Hk(e,l.some(r))}))):d.Hk((0,a.pipe)(i,l.map((function(e){return e+", "})),l.getOrElse((function(){return""})))+"update applied on non equal entry: target("+e.show(t.value)+") left("+e.show(n)+") right("+e.show(r)+")",l.some(r))}))}}}(f||(f={}))},1065:(e,t,n)=>{n.r(t),n.d(t,{Bifunctor:()=>i.a_,Foldable:()=>i.$6,Functor:()=>i.dO,Traversable:()=>i.Kd,URI:()=>i.ov,bimap:()=>i.Pd,both:()=>i.Hk,fold:()=>i.g_,foldMap:()=>i.Lx,fromOptions:()=>i.Qp,getApplicative:()=>i.RY,getEq:()=>i.Eh,getLeft:()=>i.IS,getLeftOnly:()=>i.id,getMonad:()=>i.ML,getRight:()=>i.EK,getRightOnly:()=>i.aQ,getSemigroup:()=>i.jG,getShow:()=>i.ZN,isBoth:()=>i.WP,isLeft:()=>i.nM,isRight:()=>i.tO,left:()=>i.t$,leftOrBoth:()=>i.ED,map:()=>i.UI,mapLeft:()=>i.Vn,reduce:()=>i.u4,reduceRight:()=>i.nq,right:()=>i.F2,rightOrBoth:()=>i.jX,sequence:()=>i.vP,these:()=>i.vC,toTuple:()=>i.Vb,traverse:()=>i.fw,swap:()=>a});var r=n(95195),i=n(93756);function a(e){return(0,i.WP)(e)?(0,i.Hk)(e.right,e.left):(0,r.swap)(e)}},90329:(e,t,n)=>{n.d(t,{Ri:()=>he,xu:()=>ge,dO:()=>pe,KM:()=>H,oA:()=>ne,EG:()=>q,t9:()=>L,cS:()=>K,hX:()=>re,DZ:()=>ie,sQ:()=>te,Eh:()=>Z,qO:()=>ue,uZ:()=>Q,ZN:()=>P,YH:()=>me,ZQ:()=>W,xb:()=>j,kr:()=>J,XP:()=>B,P5:()=>X,FP:()=>V,UI:()=>ae,Su:()=>oe,N:()=>fe,fP:()=>M,cq:()=>G,uK:()=>se,tV:()=>le,Sw:()=>Y,oh:()=>ce,ri:()=>ee,dp:()=>D,qo:()=>_,nd:()=>U,Wl:()=>z,VO:()=>R});var r=n(95195),i=n(73975),a=n(57050),o=n(5114);function s(e){return function(t){return Array.from(t.keys()).sort(e.compare)}}function l(e){var t=s(e);return function(e){return function(n){for(var r=[],i=0,a=t(n);i<a.length;i++){var o=a[i];r.push(e(o,n.get(o)))}return r}}}function c(e){return l(e)((function(e,t){return[e,t]}))}function d(e){var t=u(e);return function(e){return function(n){var r=t(e,n);if(o.isSome(r)){var i=new Map(n);return i.delete(r.value[0]),i}return n}}}function u(e){return function(t,n){if(void 0===n){var r=u(e);return function(e){return r(t,e)}}for(var i,a=n.entries();!(i=a.next()).done;){var s=i.value,l=s[0],c=s[1];if(e.equals(l,t))return o.some([l,c])}return o.none}}function m(e){var t=u(e);return function(n,r){if(void 0===r){var i=m(e);return function(e){return i(n,e)}}return(0,a.pipe)(t(n,r),o.map((function(e){e[0];return e[1]})))}}function p(e,t){var n=u(e);return function(r,i){if(void 0===i){var a=p(e,t);return function(e){return a(e,r)}}for(var s,l=r.entries();!(s=l.next()).done;){var c=s.value,d=c[0],u=c[1],m=n(d,i);if(o.isNone(m)||!e.equals(d,m.value[0])||!t.equals(u,m.value[1]))return!1}return!0}}var h=new Map;var g=function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var a=n.value,o=a[0],s=a[1];r.set(o,t(o,s))}return r},f=function(e,t){for(var n,i=new Map,a=new Map,o=e.entries();!(n=o.next()).done;){var s=n.value,l=s[0],c=t(l,s[1]);(0,r.isLeft)(c)?i.set(l,c.left):a.set(l,c.right)}return{left:i,right:a}},y=function(e,t){for(var n,r=new Map,i=new Map,a=e.entries();!(n=a.next()).done;){var o=n.value,s=o[0],l=o[1];t(s,l)?i.set(s,l):r.set(s,l)}return{left:r,right:i}},v=function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var a=n.value,s=a[0],l=t(s,a[1]);o.isSome(l)&&r.set(s,l.value)}return r},b=function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var a=n.value,o=a[0],s=a[1];t(o,s)&&r.set(o,s)}return r},C=function(e,t){return g(e,(function(e,n){return t(n)}))},I=function(e,t){return b(e,(function(e,n){return t(n)}))},x=function(e,t){return v(e,(function(e,n){return t(n)}))},k=function(e,t){return y(e,(function(e,n){return t(n)}))},E=function(e,t){return f(e,(function(e,n){return t(n)}))},S=function(e){for(var t,n=new Map,r=e.entries();!(t=r.next()).done;){var i=t.value,a=i[0],s=i[1];o.isSome(s)&&n.set(a,s.value)}return n},A=function(e){for(var t,n=new Map,i=new Map,a=e.entries();!(t=a.next()).done;){var o=t.value,s=o[0],l=o[1];(0,r.isLeft)(l)?n.set(s,l.left):i.set(s,l.right)}return{left:n,right:i}},w="ReadonlyMap";var T=C,O=I,N=x,$=k,F=E,P=function(e,t){return{show:function(n){var r="";return n.forEach((function(n,i){r+="["+e.show(i)+", "+t.show(n)+"], "})),""!==r&&(r=r.substring(0,r.length-2)),"new Map(["+r+"])"}}},D=function(e){return e.size},j=function(e){return 0===e.size},M=function e(t){var n=m(t);return function(r,i){if(void 0===i){var a=e(t);return function(e){return a(r,e)}}return o.isSome(n(r,i))}},L=function e(t){return function(n,r){if(void 0===r){var i=e(t);return function(e){return i(n,e)}}for(var a,o=r.values();!(a=o.next()).done;){var s=a.value;if(t.equals(n,s))return!0}return!1}},B=s,R=function(e){return function(t){return Array.from(t.values()).sort(e.compare)}},H=l,_=c;function U(e,t){return function(e,t){var n=c(e);return function(e){var r=n(e),i=r.length;return t.unfold(0,(function(e){return e<i?o.some([r[e],e+1]):o.none}))}}(e,t)}var W=function(e){var t=u(e);return function(e,n){return function(r){var i,a=t(e,r);return o.isNone(a)?((i=new Map(r)).set(e,n),i):a.value[1]!==n?((i=new Map(r)).set(a.value[0],n),i):r}}},q=d,z=function(e){var t=u(e);return function(e,n){return function(r){var i=t(e,r);if(o.isNone(i))return o.none;var a=new Map(r);return a.set(i.value[0],n),o.some(a)}}},G=function(e){var t=u(e);return function(e,n){return function(r){var i=t(e,r);if(o.isNone(i))return o.none;var a=new Map(r);return a.set(i.value[0],n(i.value[1])),o.some(a)}}},Y=function(e){var t=m(e),n=d(e);return function(e){var r=n(e);return function(n){return(0,a.pipe)(t(e,n),o.map((function(e){return[e,r(n)]})))}}},V=u,X=m,J=p,K=new Map,Z=function(e,t){var n=p(e,t);return(0,i.fromEquals)((function(e,t){return n(e,t)&&n(t,e)}))},Q=function(e,t){var n=u(e);return{concat:function(e,r){if(e===h)return r;if(r===h)return e;for(var i,a=new Map(e),s=r.entries();!(i=s.next()).done;){var l=i.value,c=l[0],d=l[1],u=n(c,e);o.isSome(u)?a.set(u.value[0],t.concat(u.value[1],d)):a.set(c,d)}return a},empty:h}},ee=function(e,t){return new Map([[e,t]])};function te(e,t,n){return function(e,t,n){return function(r){var i=u(e);return n.reduce(r,new Map,(function(e,n){var r=n[0],a=n[1],s=i(r,e);return o.isSome(s)?e.set(s.value[0],t.concat(s.value[1],a)):e.set(r,a),e}))}}(e,t,n)}var ne=S,re=function(e){return function(t){return I(t,e)}},ie=function(e){return function(t){return x(t,e)}},ae=function(e){return function(t){return C(t,e)}},oe=function(e){return function(t){return g(t,e)}},se=function(e){return function(t){return k(t,e)}},le=function(e){return function(t){return E(t,e)}},ce=A,de="Map",ue=function(){return{URI:w,_E:void 0,map:C,mapWithIndex:g,compact:S,separate:A,filter:I,filterMap:x,partition:k,partitionMap:E,partitionMapWithIndex:f,partitionWithIndex:y,filterMapWithIndex:v,filterWithIndex:b}},me=function(e){var t=s(e),n=function(e,n,r){for(var i=n,a=t(e),o=a.length,s=0;s<o;s++){var l=a[s];i=r(l,i,e.get(l))}return i},r=function(e){return function(n,r){for(var i=e.empty,a=t(n),o=a.length,s=0;s<o;s++){var l=a[s];i=e.concat(i,r(l,n.get(l)))}return i}},i=function(e,n,r){for(var i=n,a=t(e),o=a.length-1;o>=0;o--){var s=a[o];i=r(s,e.get(s),i)}return i},a=function(e){return function(n,r){for(var i=e.of(h),a=t(n),o=a.length,s=function(t){var o=a[t],s=n.get(o);i=e.ap(e.map(i,(function(e){return function(t){return new Map(e).set(o,t)}})),r(o,s))},l=0;l<o;l++)s(l);return i}},o=function(e){var t=a(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}};return{URI:w,_E:void 0,map:C,compact:S,separate:A,filter:I,filterMap:x,partition:k,partitionMap:E,reduce:function(e,t,r){return n(e,t,(function(e,t,n){return r(t,n)}))},foldMap:function(e){var t=r(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}},reduceRight:function(e,t,n){return i(e,t,(function(e,t,r){return n(t,r)}))},traverse:o,sequence:function(e){var t=a(e);return function(e){return t(e,(function(e,t){return t}))}},mapWithIndex:g,reduceWithIndex:n,foldMapWithIndex:r,reduceRightWithIndex:i,traverseWithIndex:a,wilt:function(e){var t=o(e);return function(n,r){return e.map(t(n,r),A)}},wither:function(e){var t=o(e);return function(n,r){return e.map(t(n,r),S)}}}},pe={URI:de,map:T},he={URI:de,compact:S,separate:A},ge={URI:de,map:T,compact:S,separate:A,filter:O,filterMap:N,partition:$,partitionMap:F},fe=ge}}]);