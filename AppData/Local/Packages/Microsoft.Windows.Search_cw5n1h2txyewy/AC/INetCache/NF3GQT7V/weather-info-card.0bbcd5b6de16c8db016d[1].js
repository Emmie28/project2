(window.webpackJsonp=window.webpackJsonp||[]).push([["weather-info-card"],{"+h6j":function(e,t,a){"use strict";var i=a("zP2P"),n=a("NZin");const o={textField:Object.assign(Object.assign({},Object(n.c)()),{height:Object(i.d)()}),textField__filled:Object.assign({},Object(n.b)())};t.a=o},"1kXW":function(e,t,a){"use strict";a.d(t,"a",(function(){return P})),a.d(t,"b",(function(){return R}));var i,n=a("D57K"),o=a("qYO7"),r=a("92X5"),s=a("FPTP"),l=a("y2Il"),c=a("+viU"),d=a("PS8o"),h=a("OnwC"),p=a("o1qX"),u=a("r6MD"),g=a("Xjb4"),m=a("+h6j"),f=a("eGM7");!function(e){e.email="email",e.number="number",e.password="password",e.search="search",e.tel="tel",e.text="text",e.url="url"}(i||(i={}));class b extends h.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,type:void 0}}render(){return g.default.createElement("input",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),type:this.props.type||i.text}))}generateClassNames(){return super.generateClassNames(Object(p.a)(this.props.managedClasses.textField))}}b.displayName=f.DisplayNamePrefix+"TextField",b.defaultProps={managedClasses:{}};var y,v=b,x=a("yR4y");!function(e){e.filled="filled",e.outline="outline"}(y||(y={}));class C extends h.a{constructor(){super(...arguments),this.handledProps={appearance:void 0,managedClasses:void 0}}render(){return g.default.createElement(v,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),managedClasses:this.props.managedClasses}))}generateClassNames(){return super.generateClassNames(Object(p.a)([this.props.managedClasses["textField__"+y[this.props.appearance]],!!this.props.appearance]))}}C.displayName=x.a+"TextField",C.defaultProps={managedClasses:{}};var w=C;const O=Object(c.a)(m.a)(w);var T,S;!function(e){e.filled="filled",e.outline="outline"}(T||(T={})),function(e){e.before="before",e.after="after"}(S||(S={}));class j extends h.a{constructor(e){super(e),this.handledProps={appearance:void 0,afterGlyph:void 0,beforeGlyph:void 0,button:void 0,buttonPosition:void 0,className:void 0,managedClasses:void 0},this.handleOnFocus=e=>{this.setState({focused:!0}),"function"==typeof this.props.onFocus&&this.props.onFocus(e)},this.handleOnBlur=e=>{this.setState({focused:!1}),"function"==typeof this.props.onBlur&&this.props.onBlur(e)},this.state={focused:!1}}render(){return g.default.createElement("div",{className:this.generateClassNames()},this.buttonExists()&&this.props.buttonPosition===S.before?this.generateButton():null,this.generateBeforeGlyph(),g.default.createElement(O,Object.assign({},this.unhandledProps(),{disabled:Object(u.a)(this.props,"disabled",null),placeholder:Object(u.a)(this.props,"placeholder",null),jssStyleSheet:d.b,onBlur:this.handleOnBlur,onFocus:this.handleOnFocus})),this.generateAfterGlyph(),this.buttonExists()&&this.props.buttonPosition===S.after?this.generateButton():null)}generateClassNames(){const{textAction:e,textAction__disabled:t,textAction__focus:a}=this.props.managedClasses;return super.generateClassNames(Object(p.a)(e,[this.props.managedClasses["textAction__"+T[this.props.appearance]],!!this.props.appearance],[t,this.props.disabled],[a,this.state.focused]))}buttonExists(){return"function"==typeof this.props.button}generateButton(){return this.props.button(Object(p.a)(this.props.managedClasses.textAction_button),this.props.disabled)}generateAfterGlyph(){if("function"==typeof this.props.afterGlyph)return this.props.afterGlyph(Object(p.a)(this.props.managedClasses.textAction_afterGlyph))}generateBeforeGlyph(){if("function"==typeof this.props.beforeGlyph)return this.props.beforeGlyph(Object(p.a)(this.props.managedClasses.textAction_beforeGlyph))}}j.displayName=x.a+"TextAction",j.defaultProps={buttonPosition:S.after,managedClasses:{}};var M=j;const k=Object(c.a)(d.a)(M);var F=a("ujfH"),D=a("I6Lx"),E=a("/FrS"),L=a("aSuZ"),N=a("Gy7L"),I=a("Am8i"),_=a("HDSB");const A=e=>g.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:e,xmlns:"http://www.w3.org/2000/svg"},g.default.createElement("path",{d:"M10.5 0C11.0052 0 11.4922 0.0651042 11.9609 0.195312C12.4297 0.325521 12.8672 0.510417 13.2734 0.75C13.6797 0.989583 14.0495 1.27865 14.3828 1.61719C14.7214 1.95052 15.0104 2.32031 15.25 2.72656C15.4896 3.13281 15.6745 3.57031 15.8047 4.03906C15.9349 4.50781 16 4.99479 16 5.5C16 6.00521 15.9349 6.49219 15.8047 6.96094C15.6745 7.42969 15.4896 7.86719 15.25 8.27344C15.0104 8.67969 14.7214 9.05208 14.3828 9.39062C14.0495 9.72396 13.6797 10.0104 13.2734 10.25C12.8672 10.4896 12.4297 10.6745 11.9609 10.8047C11.4922 10.9349 11.0052 11 10.5 11C9.84896 11 9.22396 10.8906 8.625 10.6719C8.03125 10.4531 7.48438 10.138 6.98438 9.72656L0.851562 15.8516C0.752604 15.9505 0.635417 16 0.5 16C0.364583 16 0.247396 15.9505 0.148438 15.8516C0.0494792 15.7526 0 15.6354 0 15.5C0 15.3646 0.0494792 15.2474 0.148438 15.1484L6.27344 9.01562C5.86198 8.51562 5.54688 7.96875 5.32812 7.375C5.10938 6.77604 5 6.15104 5 5.5C5 4.99479 5.0651 4.50781 5.19531 4.03906C5.32552 3.57031 5.51042 3.13281 5.75 2.72656C5.98958 2.32031 6.27604 1.95052 6.60938 1.61719C6.94792 1.27865 7.32031 0.989583 7.72656 0.75C8.13281 0.510417 8.57031 0.325521 9.03906 0.195312C9.50781 0.0651042 9.99479 0 10.5 0ZM10.5 10C11.1198 10 11.7031 9.88281 12.25 9.64844C12.7969 9.40885 13.2734 9.08594 13.6797 8.67969C14.0859 8.27344 14.4062 7.79688 14.6406 7.25C14.8802 6.70312 15 6.11979 15 5.5C15 4.88021 14.8802 4.29688 14.6406 3.75C14.4062 3.20312 14.0859 2.72656 13.6797 2.32031C13.2734 1.91406 12.7969 1.59375 12.25 1.35938C11.7031 1.11979 11.1198 1 10.5 1C9.88021 1 9.29688 1.11979 8.75 1.35938C8.20312 1.59375 7.72656 1.91406 7.32031 2.32031C6.91406 2.72656 6.59115 3.20312 6.35156 3.75C6.11719 4.29688 6 4.88021 6 5.5C6 6.11979 6.11719 6.70312 6.35156 7.25C6.59115 7.79688 6.91406 8.27344 7.32031 8.67969C7.72656 9.08594 8.20312 9.40885 8.75 9.64844C9.29688 9.88281 9.88021 10 10.5 10Z"}));var H;!function(e){e[e.Dismiss=0]="Dismiss",e[e.SuggestedLocations=1]="SuggestedLocations",e[e.LocationDetectButton=2]="LocationDetectButton"}(H||(H={}));class P extends h.a{constructor(e){super(e),this.maxSuggestions=4,this.inputIdDetect="locationSourceDetect",this.inputIdSpecify="locationSourceSpecify",this.locationInputboxId="locationInputbox",this.locationSuggestionListboxId="locationSuggestionList",this.locationSettingRadioName="locationSetting",this.temperatureUnit="temperatureUnit",this.inputIdCelsius="temperatureUnitCelsius",this.inputIdFahrenheit="temperatureUnitFahrenheit",this.handledProps={autoSuggestHandler:void 0,autoSuggestState:void 0,cancelSettingsHandler:void 0,detectMyLocationHandler:void 0,detectedLocation:void 0,detectionState:void 0,managedClasses:void 0,currentLocation:void 0,saveSettingsHandler:void 0,selectedlocation:void 0,show:void 0,showSpinnerOnSave:void 0,suggestedLocations:void 0,unit:void 0,className:void 0,isHalfCard:void 0,heading:void 0,locationSpecifyPlaceholder:void 0,locationSpecify:void 0,locationDetect:void 0,detectMyLocation:void 0,unitSelection:void 0,actionSave:void 0,unitsCelsius:void 0,unitsFahrenheit:void 0,errorMessage:void 0,loadMoreTip:void 0,closeTip:void 0,doneTip:void 0,searchTip:void 0,noResultTip:void 0,hideUnitSettings:void 0,editTelemetryObject:void 0,editTelemetryTags:void 0,autoSuggestTelemetryTags:void 0,detectMyLocationTelemetryTags:void 0,searchLocationTelemetryTags:void 0,editSaveTelemetryTags:void 0,editSaveTelemetryObject:void 0,editCancelTelemetryTags:void 0,detectLocationTelemetryTags:void 0,specifyLocationTelemetryTags:void 0,autoSuggestResultTelemetryTags:void 0,degreeTypeTelemetryTags:void 0,fahrenheitTelemetryTags:void 0,celsiusTelemetryTags:void 0,source:void 0,locationEditV2:void 0},this.handleClickOutside=e=>{this.state.showSuggestions&&this.inputRef&&!this.inputRef.current.contains(e.target)&&(this.state.activeSuggestion>=0?this.handleOnLocationSelected(this.props.suggestedLocations[this.state.activeSuggestion]):this.setState({showSuggestions:H.Dismiss}))},this.tryRenderDetectionButton=()=>{this.props.locationEditV2&&this.props.detectedLocation&&!this.state.userInput&&this.state.showSuggestions!==H.LocationDetectButton&&this.setState({showSuggestions:H.LocationDetectButton})},this.renderUnitSettings=()=>{const{managedClasses:e,unitsCelsius:t,unitsFahrenheit:a,unitSelection:i}=this.props,n=this.props.locationEditV2?e.unitTextMarginV2:e.unitTextMargin;return g.default.createElement("div",Object.assign({},this.props.degreeTypeTelemetryTags),g.default.createElement("fieldset",{id:this.temperatureUnit,className:e.editFieldset},!this.props.isHalfCard&&g.default.createElement("legend",{className:Object(p.a)(e.unitsTextvis,n)},i),g.default.createElement("div",{className:e.setDegree},g.default.createElement("div",{className:e.unitChoice},g.default.createElement("input",Object.assign({},this.props.fahrenheitTelemetryTags,{className:e.radioInput,type:"radio",checked:this.state.unit===E.j.Fahrenheit,id:this.inputIdFahrenheit,name:this.temperatureUnit,onChange:this.handleUnitsChange,value:""+E.j.Fahrenheit})),g.default.createElement("label",{htmlFor:this.inputIdFahrenheit,slot:"label",className:e.radioLabel},a)),g.default.createElement("div",{className:e.unitChoice},g.default.createElement("input",Object.assign({},this.props.celsiusTelemetryTags,{className:e.radioInput,type:"radio",checked:this.state.unit===E.j.Celsius,id:this.inputIdCelsius,name:this.temperatureUnit,onChange:this.handleUnitsChange,value:""+E.j.Celsius})),g.default.createElement("label",{htmlFor:this.inputIdCelsius,slot:"label",className:e.radioLabel},t)))))},this.renderSaveOption=()=>{const{closeTip:e,doneTip:t}=this.props;return g.default.createElement("div",{className:this.props.managedClasses.actionButtonContainer},g.default.createElement(o.a,Object.assign({},this.props.editSaveTelemetryObject?this.props.editSaveTelemetryObject.render():null,{children:t,className:this.props.managedClasses.weatherSave,onClick:this.handleOnSave,disabled:!P.shouldButtonEnabled(this.state,this.props.locationEditV2),ref:this.saveButtonRef})),g.default.createElement(r.a,Object.assign({},this.props.editCancelTelemetryTags,{children:e,className:this.props.managedClasses.weatherCancel,onClick:this.handleOnCancel})))},this.renderLocationSettings=()=>{const{locationDetect:e,locationSpecify:t,managedClasses:a,isHalfCard:i}=this.props,n=`${a.locationChoice} ${i?a.locationChoiceMarginBottomHalfCard:a.locationChoiceMarginBottomFullCard}`,o=this.state.locationDetection===E.d.DetectCurrentLocation,r=this.state.locationDetection===E.d.SpecifyLocation;return g.default.createElement("div",null,g.default.createElement("fieldset",{id:this.locationSettingRadioName,className:a.editFieldset},g.default.createElement("div",{className:n},g.default.createElement("input",Object.assign({className:a.radioInput},o?this.props.detectLocationTelemetryTags:null,{type:"radio",id:this.inputIdDetect,name:this.locationSettingRadioName,checked:o,onChange:this.handleLocationDetectionChange,value:""+E.d.DetectCurrentLocation})),g.default.createElement("label",{htmlFor:this.inputIdDetect,slot:"label",className:a.radioLabel},e)),g.default.createElement("div",{className:n},g.default.createElement("input",Object.assign({className:a.radioInput},r?this.props.specifyLocationTelemetryTags:null,{type:"radio",name:this.locationSettingRadioName,id:this.inputIdSpecify,value:""+E.d.SpecifyLocation,checked:r,onChange:this.handleLocationDetectionChange})),g.default.createElement("label",{htmlFor:this.inputIdSpecify,slot:"label",className:a.radioLabel},t))))},this.renderSuggestions=e=>{const t={id:this.locationSuggestionListboxId,"aria-label":this.props.locationSpecifyPlaceholder,role:"combobox","aria-expanded":!1},{managedClasses:a,noResultTip:i}=this.props;if(!this.state.showSuggestions)return g.default.createElement("div",Object.assign({},t,{"aria-live":"polite"}));t["aria-expanded"]=!0;const n=this.props.autoSuggestState!==F.a.AutoSuggestFailed?{ref:this.selected,tabIndex:-1,onKeyDown:this.handleOnKeyDownAutoSuggestBox}:null;return this.state.showSuggestions===H.SuggestedLocations?this.props.autoSuggestState===F.a.AutoSuggestFailed||Array.isArray(e)&&0!==e.length?g.default.createElement("div",Object.assign({},t,{"aria-live":"polite"}),g.default.createElement("ul",Object.assign({},n,this.props.autoSuggestResultTelemetryTags,{className:a.autoSuggestContainer,"aria-labelledby":this.locationInputboxId}),this.props.autoSuggestState===F.a.AutoSuggestFailed?g.default.createElement("li",{role:"option","aria-label":i,title:i,className:Object(p.a)(a.autoSuggestPopup,a.autoSuggestText)},i):e.slice(0,this.maxSuggestions).map(this.generateSuggestionList))):g.default.createElement("div",Object.assign({},t,{"aria-live":"polite"})):g.default.createElement("div",Object.assign({},t,{"aria-live":"polite"}),g.default.createElement("ul",Object.assign({},n,this.props.detectMyLocationTelemetryTags,{className:a.autoSuggestContainer,"aria-labelledby":this.locationInputboxId}),this.generateDetectMyLocationOption(this.props.detectedLocation,0)))},this.generateDetectMyLocationOption=(e,t)=>{const{managedClasses:a}=this.props,i=this.props.detectMyLocation,n=Object(p.a)(a.autoSuggestPopup,a.detectMyLocationPopup,[a.autoSuggestTextSelected,t===this.state.activeSuggestion]);return g.default.createElement("li",{role:"option",title:i,"aria-label":i,"aria-selected":t===this.state.activeSuggestion,id:"locationSuggestions_"+t,onClick:()=>this.handleOnLocationSelected(e),key:e.latitude+e.longitude,className:n},(o=a.locationDetectionButton,g.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:o,xmlns:"http://www.w3.org/2000/svg"},g.default.createElement("path",{d:"M8 1.5C8.35898 1.5 8.65485 1.77023 8.69529 2.11837L8.7 2.2L8.70024 3.11978C11.1366 3.43375 13.0666 5.36399 13.3803 7.80046L14.3 7.8C14.6866 7.8 15 8.1134 15 8.5C15 8.85898 14.7298 9.15485 14.3816 9.19529L14.3 9.2L13.3802 9.20024C13.0663 11.6364 11.1364 13.5663 8.70024 13.8802L8.7 14.8C8.7 15.1866 8.3866 15.5 8 15.5C7.64102 15.5 7.34515 15.2298 7.30471 14.8816L7.3 14.8L7.30046 13.8803C4.86399 13.5666 2.93375 11.6366 2.61978 9.20024L1.7 9.2C1.3134 9.2 1 8.8866 1 8.5C1 8.14102 1.27023 7.84515 1.61837 7.80471L1.7 7.8L2.61968 7.80046C2.93338 5.36376 4.86376 3.43338 7.30046 3.11968L7.3 2.2C7.3 1.8134 7.6134 1.5 8 1.5ZM8 4.475C5.77705 4.475 3.975 6.27705 3.975 8.5C3.975 10.7229 5.77705 12.525 8 12.525C10.2229 12.525 12.025 10.7229 12.025 8.5C12.025 6.27705 10.2229 4.475 8 4.475ZM8 5.7C9.5464 5.7 10.8 6.9536 10.8 8.5C10.8 10.0464 9.5464 11.3 8 11.3C6.4536 11.3 5.2 10.0464 5.2 8.5C5.2 6.9536 6.4536 5.7 8 5.7Z"}))),g.default.createElement("span",null,i));var o},this.generateSuggestionList=(e,t)=>{const{managedClasses:a}=this.props,i=e.autoSuggestionName,n=Object(p.a)(a.autoSuggestPopup,a.autoSuggestText,[a.autoSuggestTextSelected,t===this.state.activeSuggestion]);return g.default.createElement("li",{role:"option",title:i,"aria-label":i,"aria-selected":t===this.state.activeSuggestion,id:"locationSuggestions_"+t,onClick:()=>this.handleOnLocationSelected(e),key:e.latitude+e.longitude,className:n},i)},this.handleOnAutoSuggestChange=e=>{const{autoSuggestHandler:t}=this.props;if(!t||e===this.state.userInput)return;let a;e?(a=H.SuggestedLocations,t(e)):a=this.props.detectedLocation&&this.props.locationEditV2?H.LocationDetectButton:H.Dismiss,this.setState({userInput:e,showSuggestions:a})},this.handleOnKeyDownEditBox=e=>{if(!this.state.showSuggestions)return;const t=this.availableSuggestionCount();switch(e.keyCode){case N.a:e.preventDefault(),this.setState({activeSuggestion:0},()=>this.selected.current.focus());break;case N.d:e.preventDefault(),t>0&&this.setState({activeSuggestion:t-1},()=>this.selected.current.focus());break;case N.j:e.preventDefault(),this.setState({activeSuggestion:-1,showSuggestions:H.Dismiss});break;default:return}},this.handleOnKeyDownAutoSuggestBox=e=>{const t=this.availableSuggestionCount();switch(e.keyCode){case N.a:e.preventDefault(),this.props.suggestedLocations.length>0&&this.setState(e=>({activeSuggestion:(e.activeSuggestion+1)%t}));break;case N.d:e.preventDefault(),this.props.suggestedLocations.length>0&&this.setState(e=>({activeSuggestion:(e.activeSuggestion+t-1)%t}));break;case N.f:{e.preventDefault();const t=this.state.showSuggestions===H.LocationDetectButton?this.props.detectedLocation:this.props.suggestedLocations[this.state.activeSuggestion];t&&this.handleOnLocationSelected(t);break}case N.j:e.preventDefault(),this.setState({activeSuggestion:-1,showSuggestions:H.Dismiss});break;default:return}},this.handleOnLocationSelected=e=>{this.setState({newLocation:e,activeSuggestion:-1,showSuggestions:H.Dismiss,userInput:e.autoSuggestionName||e.displayName},()=>{this.saveButtonRef.current&&g.default.findDOMNode(this.saveButtonRef.current).focus()})},this.handleUnitsChange=e=>{const t=parseInt(e.target.value);this.setState({unit:t})},this.handleLocationDetectionChange=e=>{const t=parseInt(e.target.value);this.setState({locationDetection:t})},this.handleOnSave=()=>Object(n.b)(this,void 0,void 0,(function*(){const{saveSettingsHandler:e=(()=>null)}=this.props;let t=this.state.newLocation,a=this.state.locationDetection;if(t.longitude&&t.latitude){const e=this.generateSaveTelemetryContract(this.props.editSaveTelemetryObject,D.b,t,a,this.props.currentLocation,this.state.originalLocationDetection);e&&2==a&&this.props.editTelemetryObject.addOrUpdateChild(e,this.props.editSaveTelemetryObject)}else t=this.props.currentLocation,this.state.locationDetection===E.d.SpecifyLocation&&(a=this.state.originalLocationDetection);e(a,t,this.state.unit),this.setState((e,t)=>({userInput:"",showSavingSpinner:t.showSpinnerOnSave,originalLocationDetection:e.locationDetection,originalUnit:e.unit,newLocation:{longitude:"",latitude:"",locality:"",region:"",country:""}}))})),this.generateSaveTelemetryContract=(e,t,a,i,n,o)=>{if(!(e&&t&&t.ClientSettings&&a&&n))return null;const r=t.ClientSettings.detection&&t.ClientSettings.detection.ip,s=JSON.stringify({geo_country:t.ClientSettings.geo_country,geo_countryname:t.ClientSettings.geo_countryname,geo_subdivision:t.ClientSettings.geo_subdivision,geo_zip:t.ClientSettings.geo_zip,geo_city:t.ClientSettings.geo_city,geo_lat:t.ClientSettings.geo_lat,geo_long:t.ClientSettings.geo_long});return Object.assign(Object.assign({},e.contract),{type:I.d.WeatherCard,ext:{ipAddress:r,revIpLocation:s,currentLocation:Object.assign(Object.assign({},n),{locationDetectMode:o}),previousLocation:Object.assign(Object.assign({},a),{locationDetectMode:i})}})},this.handleOnCancel=()=>{this.setState({activeSuggestion:-1,userInput:"",showSuggestions:H.Dismiss,showSavingSpinner:!1,unit:this.props.unit,locationDetection:this.props.locationEditV2?E.d.SpecifyLocation:this.props.detectionState,newLocation:{longitude:"",latitude:"",locality:"",region:"",country:""}});const{cancelSettingsHandler:e=(()=>null)}=this.props;e()},this.handleKeyDown=e=>{e.keyCode===N.g&&(this.state.showSuggestions?this.setState({showSuggestions:H.Dismiss}):this.handleOnCancel())},this.state={activeSuggestion:-1,showSuggestions:H.Dismiss,userInput:"",newLocation:{longitude:"",latitude:"",locality:"",region:"",country:""},locationDetection:this.props.locationEditV2?E.d.SpecifyLocation:e.detectionState,originalLocationDetection:e.detectionState,unit:e.unit,originalUnit:e.unit,showSavingSpinner:!1},this.selected=g.default.createRef(),this.saveButtonRef=g.default.createRef(),this.inputRef=g.default.createRef(),e.isHalfCard&&(this.maxSuggestions=2),e.source&&(this.inputIdDetect=e.source+this.inputIdDetect,this.inputIdSpecify=e.source+this.inputIdSpecify,this.locationInputboxId=e.source+this.locationInputboxId,this.locationSuggestionListboxId=e.source+this.locationSuggestionListboxId,this.locationSettingRadioName=e.source+this.locationSettingRadioName)}componentDidMount(){this.props.show&&(this.setInitFocus(),this.addRemoveEventListener())}componentDidUpdate(e){e&&!e.show&&this.props.show&&this.setInitFocus();const t=e&&e.show;this.props.show!=t&&this.addRemoveEventListener()}setInitFocus(){let e;e=this.props.locationEditV2?this.state.unit===E.j.Celsius?this.inputIdCelsius:this.inputIdFahrenheit:this.state.locationDetection===E.d.SpecifyLocation?this.inputIdSpecify:this.inputIdDetect,window.requestAnimationFrame(()=>setTimeout(()=>{const t=document.getElementById(e);t&&t.focus(),this.props.detectMyLocationHandler&&this.props.detectMyLocationHandler()},500))}addRemoveEventListener(){this.props.show?Object(_.a)()&&(document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("mousedown",this.handleClickOutside)):Object(_.a)()&&(document.removeEventListener("keydown",this.handleKeyDown,!1),document.removeEventListener("mousedown",this.handleClickOutside))}render(){return this.props.locationEditV2?this.renderV2():this.renderV1()}renderV1(){const{managedClasses:e,actionSave:t,className:a,isHalfCard:i,hideUnitSettings:n}=this.props,o=`${e.settingsControlsContainer} ${i?e.settingControlsMarginTopHalfCard:e.settingControlsMarginTopFullCard}`;return g.default.createElement("div",Object.assign({},this.props.editTelemetryTags,{className:`${this.generateClassNames(e.settingsContainer)} ${a}`}),g.default.createElement("div",{hidden:!this.state.showSavingSpinner,className:e.saveSpinner,role:"alert","aria-label":t},g.default.createElement("img",{alt:t,src:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/AAfgU2v.img"})),!i&&this.renderTitle(),g.default.createElement("div",{className:o},g.default.createElement("div",null,this.renderLocationSettings(),this.renderLocationAutoSuggest()),!i&&!n&&this.renderUnitSettings(),this.renderSaveOption()))}renderV2(){const{managedClasses:e,actionSave:t,className:a,isHalfCard:i,hideUnitSettings:n}=this.props,o=`${e.settingsControlsContainer} ${i?e.settingControlsMarginTopHalfCard:e.settingControlsMarginTopFullCard}`;return g.default.createElement("div",Object.assign({},this.props.editTelemetryTags,{className:`${this.generateClassNames(e.settingsContainer)} ${a}`}),g.default.createElement("div",{hidden:!this.state.showSavingSpinner,className:e.saveSpinner,role:"alert","aria-label":t},g.default.createElement("img",{alt:t,src:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/AAfgU2v.img"})),this.renderTitle(),g.default.createElement("div",{className:o},g.default.createElement("div",{className:e.specifyLocationContainer},!i&&g.default.createElement("span",{className:e.specifyLocationLabel},this.props.locationSpecify),this.renderLocationAutoSuggest()),!n&&this.renderUnitSettings(),this.renderSaveOption()))}renderTitle(){const e={children:this.props.heading};return g.default.createElement(s.a,Object.assign({size:l.a._8},e,{className:this.props.managedClasses.editTitle}))}renderLocationAutoSuggest(){const{managedClasses:e,locationSpecifyPlaceholder:t,suggestedLocations:a=[]}=this.props,{locationDetection:i,userInput:n}=this.state,o=this.getSelectedLocationSuggestionItemId();return g.default.createElement("div",Object.assign({ref:this.inputRef,className:e.autoSuggestForm},this.props.searchLocationTelemetryTags),g.default.createElement(k,Object.assign({},this.props.autoSuggestTelemetryTags,{beforeGlyph:A,autoComplete:"off",id:this.locationInputboxId,placeholder:t,onChange:e=>this.handleOnAutoSuggestChange(e.target.value),value:n,disabled:i===E.d.DetectCurrentLocation,onKeyDown:this.handleOnKeyDownEditBox,onFocus:this.tryRenderDetectionButton,jssStyleSheet:L.a,"aria-activedescendant":o,"aria-autocomplete":"both","aria-owns":this.locationSuggestionListboxId,"aria-controls":this.locationSuggestionListboxId})),this.renderSuggestions(a))}getSelectedLocationSuggestionItemId(){return this.state.activeSuggestion>=0?P.autoSuggestionItemIdPrefix+this.state.activeSuggestion:null}availableSuggestionCount(){return!this.props.suggestedLocations||!this.props.suggestedLocations.length||this.props.suggestedLocations.length>=this.maxSuggestions?this.maxSuggestions:this.props.suggestedLocations.length}static shouldButtonEnabled(e,t){const a=e.unit!==e.originalUnit,i=e.locationDetection!==e.originalLocationDetection,n=!!e.newLocation&&!!e.newLocation.locality;return a||i?!i||e.locationDetection!==E.d.SpecifyLocation||(t&&a||n):e.locationDetection===E.d.SpecifyLocation&&!!e.newLocation&&!!e.newLocation.locality}}P.autoSuggestionItemIdPrefix="locationSuggestions_";const R=Object(c.a)(L.b)(P)},"92X5":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("+viU"),n=a("YajO"),o=a("cSKQ"),r=a("yR4y");const s=Object(i.a)(n.a)(o.default);s.displayName=r.a+"NeutralButton"},A3Dr:function(e,t){},AY9D:function(e,t){},AuhI:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("3ZGc");function n(e,t){return{overflow:"hidden","box-sizing":"content-box","max-height":Object(i.a)(e*t),"white-space":1===e?"nowrap":null}}},BOd3:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var i=a("MF9s"),n=a("6u3Q"),o=a("6QMD");function r(e){return t=>{const a=Object(n.e)(t)?-1:1;return Object(n.d)(Object(n.a)(t)-e(t)*a,Object(i.W)(t))}}const s=Object(o.d)(r(i.D)),l=Object(o.d)(r(i.C)),c=Object(o.d)(r(i.A)),d=Object(o.d)(r(i.B)),h=Object(o.d)(r(i.E));Object(o.d)(e=>({rest:s(e),hover:l(e),active:c(e),focus:d(e),selected:h(e)}))},DCIk:function(e,t,a){"use strict";var i=a("rQrQ");t.a=function(e,t){return Object(i.a)(e,t)}},GjDW:function(e,t){},"I/jf":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("+viU"),n=a("1kXW"),o=a("aSuZ");const r=Object(i.a)(o.b)(n.a)},N7Pq:function(e,t,a){"use strict";a.r(t),a.d(t,"AutoSuggestState",(function(){return Ae})),a.d(t,"ToolingInfo",(function(){return _i})),a.d(t,"WeatherInfoCard",(function(){return Ii})),a.d(t,"WeatherInfoCardConnector",(function(){return ji})),a.d(t,"WeatherInfoCardRenderState",(function(){return J})),a.d(t,"WeatherInfoCardReducer",(function(){return Di})),a.d(t,"WeatherEditSettings",(function(){return Ni.a}));var i,n=a("D57K");!function(e){e.defaultTheme="default",e.prong2Theme="prong2"}(i||(i={}));var o,r=a("X9Vi"),s=a("/FrS");!function(e){e[e.None=0]="None",e[e.ForecastOnly=1]="ForecastOnly",e[e.NowcastOnly=2]="NowcastOnly",e[e.SevereWeatherMinimapOnly=3]="SevereWeatherMinimapOnly",e[e.ForecastWithDefaultMinimap=4]="ForecastWithDefaultMinimap",e[e.HurricaneMinimap=5]="HurricaneMinimap"}(o||(o={}));var l=a("I6Lx"),c=a("RIQ7");const d={rel:"noopener",target:"_blank"},h=500,p=1e3,u=2e3,g="WeatherCard",m="weather",f="seefullforecast",b="airQuality",y="weather_header",v="weather_forecast_container",x="forecast_",C="datacard_weather_weathercard_customization",w="datacard_weather_weathercard_customization_degreeSwitch",O="datacard_weather_weathercard_customization_moreSettings",T="datacard_weather_minimap_image",S="datacard_weather_weathercard_edit",j="datacard_weather_weathercard_customization_hide",M="datacard_weather_weathercard_customization_edit",k="weather_nowcast",F="wea_settings",D="degreeType",E="fahrenheit",L="celsius",N="save",I="cancel",_="detectLocation",A="specifyLocation",H="searchLocation",P="autosuggest",R="autosuggestresults",W="detectMyLocation",z="HurricaneWaring",U="TropStormWarning",B="TaskbarWarning",V="prg-1sw-dailytemp",$="prg-1sw-cdailytemp",G="DailyTempFlg",X="prg-1sw-fcasthalf",Z="prg-1sw-cfcasthalf",Q="ForecastHalfFlg",q=["SN","TL","IC","IM","FD","WI","FL","HW","TH","TS","TU","LW","CE","DU","AQ","AS","SM","VO","EV","SP"],Y=["119","315","1158","120","124","376"],K=["142","327","407","125"];var J,ee=a("Am8i");!function(e){e[e.ForecastCard=1]="ForecastCard",e[e.EditCard=2]="EditCard",e[e.Idle=3]="Idle"}(J||(J={}));const te=new Map([["Y","#f1c40e"],["O","#e67f22"],["R","#e74c3b"]]),ae=15,ie=10,ne="temperature",oe="precipitation",re="radar",se="wind",le="cloud",ce="winterstorm",de="wildfire",he="severeweather",pe="hurricane",ue="airqualitystation";var ge=a("8CFJ");const me=new Map([["SN","winterstorm"],["TL","winterstorm"],["IC","winterstorm"],["IM","winterstorm"],["FD","wildfire"],["AQ","airqualitystation"],["SM","airqualitystation"],["DU","airqualitystation"],["VO","airqualitystation"],["AS","airqualitystation"]]);function fe(e){const t=[];return e.forEach(e=>{t.push(e.join(","))}),t.join(" ")}function be(e){const t=e>=0,a=1e3*(Math.abs(e)+Number.EPSILON),i=(Math.round(a)/1e3).toFixed(3);return t?i:"-"+i}function ye(e,t){const a=me.get(e);return(null==t?void 0:t.includes(a))?a:(null==t?void 0:t.includes(he))?he:null}function ve(e){if(!(null==e?void 0:e.length))return null;let t,a,i,n;for(const[o,r]of e)t=null==t?o:Math.min(t,o),a=null==a?r:Math.min(a,r),i=null==i?o:Math.max(i,o),n=null==n?r:Math.max(n,r);return{x:t,y:a,width:i-t,height:n-a}}function xe(e,t,a,i=.5){if(!(null==e?void 0:e.length))return!1;const n=t/2,o=a/2;let r=1/0,s=1/0,l=0,c=0;for(const t of e){if(!t)continue;const{x:e,y:a,width:i,height:d}=t;e>n||e+i<n||a>o||a+d<o||(r=Math.min(r,e),s=Math.min(s,a),l=Math.max(l,e+i),c=Math.max(c,a+d))}return(r===1/0?0:(l-r)*(c-s))/(t*a)>i}var Ce,we;!function(e){e.TC="TC",e.TD="TD",e.TS="TS",e.H1="H1",e.H2="H2",e.H3="H3",e.H4="H4",e.H5="H5"}(Ce||(Ce={})),function(e){e.Observation="Observation",e.Current="Current",e.Forecast="Forecast"}(we||(we={}));new Map([[Ce.TS,-7],[Ce.TD,-7],[Ce.TC,-7],[Ce.H1,-7],[Ce.H2,-10],[Ce.H3,-13],[Ce.H4,-15],[Ce.H5,-18]]),new Map([[Ce.TS,28],[Ce.TD,28],[Ce.TC,28],[Ce.H1,28],[Ce.H2,32],[Ce.H3,36],[Ce.H4,40],[Ce.H5,44]]);const Oe={[he]:500,[de]:500,[ce]:500,[oe]:1e3,[ne]:1e3,[le]:1e3,[se]:1e3,[re]:1e3,[ue]:1e3,NormalWeather:2e3};var Te=a("YJhp"),Se=a("dMmp"),je=a("6UxA");function Me(e){var t;const{config:a,state:n,connectorArgs:o}=e,{forecastProps:r,requestContext:s}=o,c=n.weatherData.forecast;if(n.currentLocation&&n.weatherData.currentCondition&&r&&(n.weatherData.currentLocation=n.currentLocation,r.seeFullForecastTelemetryObject&&(r.seeFullForecastTelemetryObject.contract.content.headline=n.currentLocation.displayName,r.seeFullForecastTelemetryObject.contract.destinationUrl=n.weatherData.currentCondition.deepLink),r.seeAirQualityTelemetryObject&&(r.seeAirQualityTelemetryObject.contract.content.headline=n.currentLocation.displayName,r.seeAirQualityTelemetryObject.contract.destinationUrl=n.weatherData.currentCondition.deepLink),r.headerLinkTelemetryObject&&(r.headerLinkTelemetryObject.contract.content.headline=n.currentLocation.displayName,r.headerLinkTelemetryObject.contract.destinationUrl=n.weatherData.currentCondition.deepLink),r.nowcastChartClickTelemetryObject&&n.weatherData.nowcasting&&(r.nowcastChartClickTelemetryObject.contract.content.headline=n.weatherData.nowcasting.shortSummary,r.nowcastChartClickTelemetryObject.contract.destinationUrl=n.weatherData.currentCondition.deepLink),r.degreeSwitchTelemetryObject&&(r.degreeSwitchTelemetryObject.contract.content.headline=n.weatherData.currentCondition.alternateDegreeSetting,r.degreeSwitchTelemetryObject.contract.destinationUrl=""),r.multidayForecastTelemetryObject)){let e=1;c.forEach(t=>{t.telemetryTag||(t.telemetryTag=r.multidayForecastTelemetryObject.addOrUpdateChild({name:x+e,action:ee.a.Click,behavior:ee.b.Navigate,content:{headline:t.day.getDay()+t.highTemperature+t.lowTemperature,id:x+e,category:m,type:ee.c.StructuredData,vertical:m},destinationUrl:t.deepLink}).render()),++e})}a.weatherMapPageLink&&(r.minimapImageClickTelemetryObject.contract.destinationUrl=a.weatherMapPageLink);const h=!!a.autoRotateElements;return Object.assign(Object.assign({},r),{showPencilButton:a.locationEditPencil,switchUnitTooltip:a.localizedStrings.switchUnitTooltip,useLowerCases:a.disableUpperCase,forecastContentType:Ee(n.weatherData,a),nowcast:n.weatherData.nowcasting,menuOffsetX:a.menuOffsetX,menuOffsetY:a.menuOffsetY,menuPortalSelector:a.menuPortalSelector,menuScrollingSelector:a.menuScrollingSelector,currentCondition:n.weatherData.currentCondition,alertsInfo:n.weatherData.alertsInfo,dailyForecast:c,requestContext:s,linksInNewTabProps:d,rotateForecastElements:h,rotateToMap:a.rotateToMap,pauseRotateInHover:a.pauseRotateInHover,weatherMiniMapProps:Fe(a,n.weatherData,r.weatherMiniMapProps),forecastTitle:ke(n.currentLocation.displayName,l.b.Locale),source:n.weatherData.source,seeFullText:a.localizedStrings.seeMoreActionText,todayLabel:a.localizedStrings.todayLabel,settingsMenu:Ne(e),colorTheme:null!==(t=a.colorTheme)&&void 0!==t?t:i.defaultTheme,dailyForecastRight:a.enableHalfForecastRight,showDailyTemperature:a.enableDailyTemperature,dailyTempretureDataIndex:Le(n.weatherData.source,c)})}function ke(e,t){if(t&&"el-gr"===t&&e){const t={Ά:"Α",ά:"α",Έ:"Ε",έ:"ε",Ή:"Η",ή:"η",Ί:"Ι",ί:"ι",ΐ:"ϊ",Ό:"Ο",ό:"ο",Ύ:"Υ",ύ:"υ",ΰ:"ϋ",Ώ:"Ω",ώ:"ω",ς:"Σ"};return e.replace(/./g,(function(e){return e in t?t[e]:e}))}return e}function Fe(e,t,a){var i,n,o;if(!(e.staticMapUrl&&e.staticMapOfVectorUrl&&e.temperatureImageUrl&&e.weatherMapPageLink&&e.locationMarkerUrl))return null;if(!t.source||!t.source.coordinates||void 0===t.source.coordinates.lat||void 0===t.source.coordinates.lon)return null;const d=be(t.source.coordinates.lat),h=be(t.source.coordinates.lon),p=function(){const e=e=>e<10?"0"+e:e.toString(),t=new Date,a=t.getUTCMonth()+1,i=t.getUTCDate(),n=t.getUTCHours();return`${t.getUTCFullYear()}${e(a)}${e(i)}${e(n)}`}(),u={latitude:d,longitude:h,zoomlevel:(null===(i=e.severeBaseMapZoomLevel)||void 0===i?void 0:i.toString())||"7",mapWeight:(r.c.minimapProng1CardWidth+600).toString(),mapHeight:r.c.minimapProng1CardHeight.toString(),bingMapKey:"AnTcaqBi2ypp0xI-OZNi4W_ik2KhjgpqioTAtXLC8GzkMBQRMlyxvxyTnd5b73im",locale:l.b.Locale},g={src:Se.String.Format(e.staticMapUrl,{lat:d,lon:h,locale:l.b.Locale}),alt:"static map image"},m={src:Se.String.Format(e.temperatureImageUrl,{lat:d,lon:h,time:p}),alt:"temperature map image"},f=e.enableMiniMapVector&&{src:Se.String.Format(e.staticMapOfVectorUrl,u),alt:"static map image of vector map",originUrl:e.staticMapOfVectorUrl,originParams:u};let b=e.minimapSevereWeatherType;return b&&"us"!=(null===(o=null===(n=null==t?void 0:t.currentLocation)||void 0===n?void 0:n.isoCode)||void 0===o?void 0:o.toLocaleLowerCase())&&(b=null==b?void 0:b.filter(e=>e!=de)),Object.assign(Object.assign({},a),{localization:e.localizedStrings.weatherMiniMap,locationMarkerUrl:e.locationMarkerUrl,enableMiniMapVector:e.enableMiniMapVector,staticMap:g,staticMapOfVector:f,tempImage:m,showRadarButton:!1,regionDataItems:e.enableMultiPolygon||!t.regionData||t.regionData.length<1?t.regionData:[t.regionData[0]],geolocation:t.source.coordinates,mapUrlBuilder:()=>(e=>{const a=t.currentLocation,i={localeCode:l.b.Locale,lat:a.latitude,lon:a.longitude,weaext0:r.b.toDetailShortInfo(a),ocid:Object(c.b)()};return Se.String.Format(e.weatherMapPageLink,i)+(t.unit?`&${r.f.QueryParameterKeys_WeaDegreeType}=${t.unit===s.j.Fahrenheit?"F":"C"}`:"")})(e),weatherCardMode:!0,hurricaneContent:De(t),minimapSevereWeatherType:b})}function De(e){var t;if(!(null===(t=null==e?void 0:e.contentData)||void 0===t?void 0:t.length))return;let a=void 0;const i=function(e){let t=u;e.nowcasting&&(t=p);e.alertsInfo&&(t=h);return t}(e);return e.contentData.forEach(e=>{var t;if(!(null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.length))return;let n=!1;i>e.ranking&&(n||e.content.forEach(e=>{var t;if(null===(t=null==e?void 0:e.renderPlaces)||void 0===t?void 0:t.includes(s.b.CardMinimap))return n=!0,!1}),n&&(a=e))}),a}function Ee(e,t){if(!e)return o.None;if(De(e))return o.HurricaneMinimap;if(t.enableMiniMapVector&&e.alertsInfo&&e.regionData){if(ye(e.alertsInfo.class,t.minimapSevereWeatherType))return o.SevereWeatherMinimapOnly}return!e.alertsInfo&&e.nowcasting&&e.nowcasting.isRaining&&255!=e.nowcasting.weathertype&&e.nowcasting.shortSummary&&e.source?o.NowcastOnly:t.autoRotateElements?o.ForecastWithDefaultMinimap:o.ForecastOnly}function Le(e,t){const a=e&&e.location&&e.location.TimezoneName;if(!a||!t||t.length<1)return null;const i=new Intl.DateTimeFormat("en-us",{timeZone:a,hour:"numeric",hour12:!1}).format(new Date);return i&&Number(i)%24>20&&t.length>1?1:0}function Ne(e){const{config:t,state:a,connectorArgs:i}=e,n={key:"edit",text:t.localizedStrings.menuItemEdit,onSelect:e.connectorArgs.forecastProps.showEditCardHandler,icon:Te.b.Edit,telemetryTag:i.forecastProps.editLocationTelemetryTags},o={key:"hideCard",icon:Te.b.HideV2,text:t.localizedStrings.hideWeatherCard,onSelect:e.connectorArgs.forecastProps.hideWeatherCardHandler,telemetryTag:i.forecastProps.hideWeatherCardTelemetryTags},r={key:"more",text:t.localizedStrings.moreSettings,onSelect:e.connectorArgs.forecastProps.moreSettingsHandler,icon:Te.b.SettingsIcon,telemetryTag:i.forecastProps.moreSettingsTelemetryTags},s=[];return s.push(n),t.enableHideCard&&s.push(o),s.push(r),{menuItems:s,menuButtonLabel:t.localizedStrings.menuButtonLabel,displaySettingsMenu:a.showSettingsMenu}}function Ie(e){const{config:t,state:a}=e;return Object.assign(Object.assign(Object.assign({},e.connectorArgs.settingsProps),t.localizedStrings.settings),{locationEditV2:t.locationEditV2,detectedLocation:e.state.detectedLocation,suggestedLocations:a.autoSuggestions,detectionState:a.weatherData.locationDetectionSetting,unit:a.weatherData.unit,autoSuggestState:a.autoSuggestState,currentLocation:a.currentLocation,source:"wea_"})}const _e={inspect(e){const t=function(e){const{state:t}=e;return t&&t.weatherData&&t.currentLocation?{isHalfCard:e.connectorArgs.forecastProps.isHalfCard,renderState:t.cardRenderState,forecastProps:Me(e),settingsProps:Ie(e),renderEditSettings:!!t.shouldWeatherEditSettingsComponentMount,weatherInfoCardTelemetryTags:e.connectorArgs.weatherInfoCardTelemetryTags}:{renderState:J.Idle,weatherInfoCardTelemetryTags:e.connectorArgs.weatherInfoCardTelemetryTags}}(e);if(t.renderState!==J.Idle){const{connectorArgs:a}=e,i=Object(n.e)(a,[]);Object(je.a)(t,i)}else t.renderState=J.ForecastCard;return{props:t,missingChildren:[]}}};var Ae,He=a("AY9D"),Pe=a("+viU");!function(e){e[e.AutoSuggestSuccess=1]="AutoSuggestSuccess",e[e.AutoSuggestFailed=2]="AutoSuggestFailed",e[e.MoreSuggestFailed=3]="MoreSuggestFailed"}(Ae||(Ae={}));var Re=a("5mwN"),We=a("lWfA"),ze=a("Zn5T"),Ue=a("foc0"),Be=a("6u3Q"),Ve=a("SP+O"),$e=a("XI4f"),Ge=a("QhQn"),Xe=a("objN"),Ze=a("mDtb"),Qe=a("MZhw"),qe=a("LD6M"),Ye=a("rRWH"),Ke=a("iuMt"),Je=a("3ZGc"),et=a("aSuZ");var tt=e=>({default_theme:{"--main-text-color":"#FFFFFF","--sub-text-color":"rgba(255, 255, 255, 0.6)","--text-hint-color":"rgba(255, 255, 255, 0.54)","--text-hover-color":"#FFFFFF","--fill-hint-color":"rgba(255, 255, 255, 0.09)","--fill-hover-color":"rgba(255, 255, 255, 0.13)","--stroke1-color":"white","--stroke3-color":"rgba(255, 255, 255, 0.3)","--stroke5-color":"rgba(255, 255, 255, 0.5)","--rain-curve-fill":"rgba(255, 255, 255, 0.15)","--forecast-day-rest":"rgba(0, 0, 0, 0.09)","--forecast-day-hover":"rgba(255, 255, 255, 0.13)","--low-temp-color":"rgba(255, 255, 255, 0.8)"},prong2_theme:{"--main-text-color":Ve.c,"--sub-text-color":Object(Be.e)(e)?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.6)","--text-hint-color":$e.a,"--text-hover-color":Ve.b,"--fill-hint-color":Object(Be.e)(e)?"rgba(255, 255, 255, 0.09)":"rgba(0, 0, 0, 0.07)","--fill-hover-color":Object(Be.e)(e)?"rgba(255, 255, 255, 0.15)":"rgba(255, 255, 255, 0.6)","--stroke1-color":Ge.c,"--stroke3-color":Ge.c,"--stroke5-color":Ge.c,"--rain-curve-fill":Object(Be.e)(e)?"rgba(170, 227, 255, 0.05)":"rgba(170, 227, 255, 0.3)","--forecast-day-rest":Object(Be.e)(e)?"rgba(255, 255, 255, 0.03)":"rgba(255, 255, 255, 0.5)","--forecast-day-hover":Object(Be.e)(e)?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.8)","--low-temp-color":Object(Be.e)(e)?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)"},forecastContainer:{padding:"16px 16px 12px 16px",overflow:"hidden",display:"flex","flex-direction":"column","justify-content":"space-between","max-width":"300px",height:"100%",position:"relative",color:"var(--main-text-color)",[et.c]:{color:Xe.a.text}},highContrast:{[et.c]:{background:Xe.a.background+" !important"}},weatherHeader:{"letter-spacing":"0.7px",top:"16px",height:"16px",display:"flex","justify-content":"space-between","align-items":"center"},weatherTitle:{"max-width":"232px","white-space":"nowrap","letter-spacing":"0.7px","font-weight":"600",display:"flex"},weatherCityname:{overflow:"hidden","text-overflow":"ellipsis","font-size":"12px","line-height":"16px","letter-spacing":"0.7px",[Object(Ye.b)("margin-left","margin-right",e.direction)]:"0","min-width":"0","align-items":"flex-end",[Object(Ye.b)("left","right",e.direction)]:"16px","&&&&":Object.assign({color:"var(--main-text-color)","border-bottom":"none !important","&:hover":{"text-decoration":"underline"}},Object(Ke.a)({"text-decoration":"underline"}))},editPencilButton:Object.assign({background:"none",border:"0",height:"18px",width:"16px",padding:"0",cursor:"pointer","border-radius":"4px",[Object(Ye.b)("margin-left","margin-right",e.direction)]:"6px","&&&&":{"&:hover":{background:"var(--fill-hint-color)"}}},Object(Ke.a)(Object.assign({border:"1px solid var(--text-hint-color)"},Xe.v))),editPencilIcon:{fill:"var(--main-text-color)",[et.c]:{fill:Xe.a.buttonText,stroke:Xe.a.buttonText}},weatherEditButton:{background:"var(--fill-hint-color)",height:"24px",width:"24px","border-radius":"16px",cursor:"pointer","justify-content":Object(Ye.b)("flex-end","flex-start",e.direction),"&&&&":{"border-bottom":"none","&:hover, &:focus":{background:"var(--fill-hover-color)"}}},weatherCurrentCondition:{"text-decoration":"none",display:"flex","align-items":"flex-end",height:"46px","text-align":"left","&&&&":{border:"0 dotted transparent"}},weatherCurrentConditionMini:{"align-items":"normal",display:"inline-block",height:"54px"},weatherCurrentConditionMainInfo:{display:"flex","align-items":"flex-end"},weatherCurrentConditionMainInfoMini:{display:"flex",height:"36px"},weatherCurrentConditionImage:{height:"40px",width:"40px"},weatherCurrentConditionImageMini:{height:"36px",width:"36px"},weatherCurrentTemperature:Object.assign(Object.assign({},Object(Ze.a)()),{"font-style":"normal","font-size":"46px","line-height":"44px",height:"46px",margin:"0px 4px",display:"flex","align-items":"flex-start"}),weatherCurrentTemperatureMini:{"font-size":"32px","line-height":"36px",height:"36px",[Object(Ye.b)("margin-left","margin-right",e.direction)]:"1px"},weatherDegreeSwitch:{display:"flex","flex-flow":"column nowrap","align-items":"flex-end",height:"46px"},weatherDegreeSetting:Object.assign({position:"relative",top:"3px",color:"var(--main-text-color)","font-size":"16px","line-height":"24px",height:"23px"},Object(Ze.a)()),weatherDegreeSettingMini:{"font-size":"14px",top:"-2px"},weatherTextWithBorderTop:{"border-top":"1px var(--text-hint-color)"},weatherUnitAlternative:Object.assign(Object.assign({"align-items":"center","font-size":"12px","line-height":"16px",height:"20px","margin-top":"3px",outline:"none","text-decoration":"none",color:"var(--text-hint-color)","text-shadow":"0px 0.4px 0.9px rgba(0, 0, 0, 0.13)","border-bottom":"0","&&&&":{"border-top":Object(Je.a)(e.outlineWidth)+" solid var(--text-hint-color)","&:hover":{color:"var(--text-hover-color)"}}},Object(Ke.a)(Object.assign({border:Object(Je.a)(e.outlineWidth)+" solid var(--text-hint-color)",color:"var(--text-hover-color)"},Xe.v))),{background:"none",cursor:"pointer",padding:"0"}),weatherUnitAlternativeMini:{"margin-top":"-3px"},weatherInfo:{"text-align":Object(Ye.b)("right","left",e.direction),[Object(Ye.b)("margin-left","margin-right",e.direction)]:"auto","flex-flow":"column nowrap","max-width":"130px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},weatherInfoLeft:{"text-align":Object(Ye.b)("left","right",e.direction),[Object(Ye.b)("margin-left","margin-right",e.direction)]:"0px",height:"18px","max-width":"151px"},curvePath:{fill:"var(--rain-curve-fill)",stroke:"rgb(98, 178, 239)","stroke-width":"1"},nowcastCurve:{fill:"rgba(255, 255, 255, 0.15)",stroke:"rgb(98, 178, 239)","stroke-width":"1",[et.c]:{fill:Xe.a.text}},timelineContainer:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(60px)","border-radius":"6px",height:"136px",width:"268px",overflow:"hidden"},timelineLabels:{"font-size":"12px","line-height":"20px","text-shadow":"1px 1px 2px rgb(0 0 0 / 20%)",fill:"var(--main-text-color)","text-anchor":"middle",[et.c]:{fill:Xe.a.text}},stroke03:{stroke:"var(--stroke3-color)","stroke-width":"1",[et.c]:{stroke:Xe.a.text}},stroke05:{stroke:"var(--stroke5-color)","stroke-width":"1",[et.c]:{stroke:Xe.a.text}},stroke1:{stroke:"var(--stroke1-color)","stroke-width":"1",[et.c]:{stroke:Xe.a.text}},rainCurve:{fill:"var(--rain-curve-fill)",stroke:"rgb(98, 178, 239)","stroke-width":"1",[et.c]:{stroke:Xe.a.text,fill:Xe.a.text}},nowcastSummary:{height:"46px","text-align":Object(Ye.b)("right","left",e.direction),[Object(Ye.b)("margin-right","margin-left",e.direction)]:"2px",[Object(Ye.b)("margin-left","margin-right",e.direction)]:"auto",display:"flex","flex-flow":"column nowrap","max-width":"168px",overflow:"hidden","justify-content":"center"},nowcastSummaryText:Object.assign(Object.assign({[Object(Ye.b)("margin-left","margin-right",e.direction)]:"6px"},Object(Ze.a)()),{"line-height":"20px","font-size":"14px",color:"var(--main-text-color)",fill:"var(--main-text-color)"}),weatherCurrentConditionPrecipitation:Object.assign(Object.assign({},Object(Ze.a)()),{"line-height":"20px","font-size":"14px",color:"var(--main-text-color)","text-align":"left",[Object(Ye.b)("margin-left","margin-right",e.direction)]:"4px",[et.c]:{color:Xe.a.text}}),weatherCurrentConditionPrecipitationL:{"line-height":"16px","font-size":"12px"},weatherDailyConditionDetails:Object.assign(Object.assign({},Object(Ze.a)()),{"line-height":"20px","font-size":"14px",[et.c]:{color:Xe.a.text}}),weatherCurrentContainer:Object.assign(Object.assign({},Object(Ze.a)()),{display:"flex",margin:"0px",padding:"0px",float:"right","justify-content":"flex-end","& li":{display:"flex","align-items":"center","text-decoration":"none","border-bottom":"none",padding:"0 0 0 8px"},fill:"var(--main-text-color)",[et.c]:{"& path":{fill:Xe.a.text}}}),weatherCurrentContainerLeft:Object.assign(Object.assign({},Object(Ze.a)()),{"& li":{padding:"0 8px 0 0"},"align-items":"center","font-size":"12px","line-height":"16px",height:"18px"}),weatherCurrentConditionDetails:Object.assign(Object.assign({},Object(Ze.a)()),{"line-height":"20px","font-size":"14px",color:"var(--main-text-color)","text-align":"left","margin-top":"6px","margin-left":"auto"}),weatherCurrentConditionDetailsLeft:{"line-height":"16px","font-size":"12px","margin-top":"0px","max-width":"109px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"table-row"},weatherAlertContainer:{height:"46px","text-align":Object(Ye.b)("right","left",e.direction),[Object(Ye.b)("margin-right","margin-left",e.direction)]:"2px",[Object(Ye.b)("margin-left","margin-right",e.direction)]:"auto",display:"flex","flex-flow":"column nowrap","max-width":"168px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","justify-content":"center"},weatherAlertText:{"font-style":"Medium","line-height":"20px","font-size":"14px",display:"block","align-items":"center",color:"var(--main-text-color)"},weatherAlertIcon:{[Object(Ye.b)("margin-right","margin-left",e.direction)]:"2px","& svg":{"vertical-align":"middle"}},weather_forecast_container:{overflow:"hidden",position:"relative",height:"136px"},weather_forecast_container_rotate:{"&>*":{position:"absolute",left:"0",animation:"10s autoplay2 2.5 ease-in-out"},"&>*:nth-child(1)":{top:"0%",animation:"0.5s autoplay1 2.5s ease-in-out forwards, 10s autoplay2 7.5s 1.5 ease-in-out forwards"},"&>*:nth-child(2)":{top:"101%",animation:"10s autoplay2 2.5s 2 ease-in-out"}},weather_forecast_container_rotate2:{"&>*":{position:"absolute",left:"0",animation:"10s autoplay2 2.5 ease-in-out"},"&>*:nth-child(1)":{top:"0%",animation:"0.5s autoplay1 2.5s ease-in-out forwards, 10s autoplay2 7.5s 1.5 ease-in-out"},"&>*:nth-child(2)":{top:"101%",animation:"10s autoplay2 2.5s 2.5 ease-in-out forwards"}},"@keyframes autoplay1":{"0%":{top:"0%"},"100%":{top:"-101%"}},"@keyframes autoplay2":{"0%":{top:"101%"},"5%":{top:"0%"},"50%":{top:"0%"},"55%":{top:"-101%"},"100%":{top:"-101%"}},weather_forecast_container_on_forecast:{"&>*:nth-child(2)":{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}},weather_forecast_container_on_map:{"&>*:nth-child(1)":{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}},weather_forecast_right_container:{"text-align":Object(Ye.b)("right","left",e.direction),[Object(Ye.b)("margin-left","margin-right",e.direction)]:"auto",width:"108px"},forecastWithProvider:{height:"100%"},weatherDailyForecast:{height:"100%"},weatherMultiday:{"list-style":"none",display:"flex",width:"268px",margin:"0",padding:"0","justify-content":"space-between"},weatherForecastday:{display:"flex","text-align":"center","border-radius":"6px","&&&&":Object.assign({"border-bottom":"none","&:hover":{background:"var(--forecast-day-hover)"}},Object(Ke.a)(Object.assign({border:Object(Je.a)(e.outlineWidth)+" solid","border-color":"#FFFFFF"},Xe.v))),[et.c]:{border:Object(Je.a)(e.outlineWidth)+" solid","border-bottom":Object(Je.a)(e.outlineWidth)+" solid !important","&:focus":{outline:e.outlineWidth+"px solid highlight !important"}}},weatherForecastdayRight:Object.assign(Object.assign({},Object(Ze.a)()),{display:"flex",margin:"0px",padding:"0px",height:"18px","line-height":"16px","font-size":"12px","& li":{display:"flex","align-items":"center"},fill:"var(--main-text-color)",[et.c]:{"& path":{fill:Xe.a.text}}}),weatherForecastConditionDayRight:Object.assign(Object.assign({},Object(Ze.a)()),{width:"32px","text-align":Object(Ye.b)("left","right",e.direction),[Object(Ye.b)("margin-right","margin-left",e.direction)]:"4px"}),withoutProvider:{margin:"2px 0",padding:"10px 0",height:"132px"},forecastDayLarge:{background:"var(--forecast-day-rest)","flex-direction":"column","align-items":"center",width:"64px","justify-content":"space-between"},forecastDayLarge5Column:{background:"var(--forecast-day-rest)","flex-direction":"column","align-items":"center",width:"50px","justify-content":"space-between"},weatherForecastdaySep:{[Object(Ye.b)("border-left","border-right",e.direction)]:Object(Je.a)(e.outlineWidth)+" solid rgba(255, 255, 255, 0.44)"},upperCase:{"text-transform":"uppercase"},weatherForecastConditionDay:{"font-size":"12px","line-height":"16px",height:"23px","font-style":"normal","font-weight":"500",display:"flex","align-items":"center",cursor:"pointer",color:"var(--main-text-color)",[et.c]:{color:Xe.a.text}},weatherForecastConditionImage:{height:"24px",Width:"24px"},weatherForecastConditionImageRight:{height:"16px",width:"16px"},forecastTemp:Object.assign(Object.assign({},Object(Ze.a)()),{"font-size":"16px","line-height":"24px",height:"48px",display:"flex","flex-direction":"column"}),forecastTempRight:Object.assign(Object.assign({},Object(Ze.a)()),{width:"24px",[Object(Ye.b)("margin-left","margin-right",e.direction)]:"4px",color:"var(--main-text-color)"}),forecastTempRightLow:{color:"var(--low-temp-color)"},tempHigh:{height:"23px",color:"var(--main-text-color)",[et.c]:{color:Xe.a.text}},tempLow:{height:"23px",color:"var(--sub-text-color)",[et.c]:{color:Xe.a.text}},weatherFooter:{"text-decoration":"none",display:"flex","align-items":"flex-end",height:"24px",width:"268px","flex-direction":"row","justify-content":"center"},fullCardCover:{"&::after":{content:"''",position:"absolute",bottom:"0",left:"0",top:"0",right:"0"}},weatherActionButton:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden",height:"24px",padding:"0 24px","text-align":"center","border-radius":"20px",background:"var(--fill-hint-color)","font-size":"12px","line-height":"24px","&&&":Object.assign({"border-bottom":"0px",color:"var(--main-text-color)","&:hover":{color:"var(--main-text-color)",background:"var(--fill-hover-color)",[et.c]:{background:"rgba(255, 255, 255, 0.13)"}}},Object(Ke.a)(Object.assign({color:"var(--main-text-color)",border:Object(Je.a)(e.outlineWidth)+" solid","border-color":"var(--main-text-color)"},Xe.v))),[et.c]:{border:Object(Je.a)(e.outlineWidth)+" solid","border-bottom":Object(Je.a)(e.outlineWidth)+" solid !important","&:focus":{outline:e.outlineWidth+"px solid highlight !important"}}},weatherActionButtonLink:{"max-height":"16px","max-width":"30px","margin-left":"16px"},weatherZIndexIncreased:{"z-index":"6"}});const at=e=>({contextMenu:{padding:"4px 0",background:Qe.d,margin:"0",width:"268px",border:"none","border-radius":"4px","box-shadow":"0 2.4px 7.2px rgba(0, 0, 0, 0.18), 0 12.8px 28.8px rgba(0, 0, 0, 0.22)","border-color":Ge.b,[et.c]:{background:Xe.a.background,outline:"1px solid #E1DFDD"}},contextMenuItem:{border:"none",background:"none",outline:"none",padding:"0px 12px 0px","&:hover":{background:qe.b,[et.c]:{background:Xe.a.selectedBackground}},"& path":{fill:Ve.c,[et.c]:{fill:Xe.a.text}},[et.c]:{color:Xe.a.text,background:Xe.a.buttonBackground}},contextMenuItem_contentRegion:{"& span":{display:"inline-flex"}},contextMenuItem_image:{width:"23px !important"},menuContainer:{background:"none"},settingButton:Object.assign({width:"24px",height:"24px","border-radius":"16px"},Object(Ke.a)(Object.assign({"border-color":"var(--main-text-color)"},Xe.v))),settingButtonIcon:{fill:"var(--main-text-color)",width:"12.5px",height:"24px","stroke-width":"1px",stroke:"var(--main-text-color)","stroke-linecap":"round",[et.c]:{fill:Xe.a.text,stroke:Xe.a.text}}});var it,nt=a("wirn"),ot=a("rvYQ"),rt=a("0fst"),st=a("hqLi"),lt=a("CCsL");!function(e){e.Hour="Hour",e.HourMin="HourMin",e.HourTimezone="HourTimezone",e.HourMinTimezone="HourMinTimezone",e.HourTimezoneLong="HourTimezoneLong",e.HourMinTimezoneLong="HourMinTimezoneLong",e.DayWeek="DayWeek",e.MonthDayYear="MonthDayYear",e.MonthDay="MonthDay",e.Year="Year",e.Month="Month",e.Day="Day"}(it||(it={}));const ct=new Map([[it.DayWeek,{weekday:"short",day:"numeric"}],[it.MonthDayYear,{month:"short",day:"numeric",year:"numeric"}],[it.MonthDay,{month:"short",day:"numeric"}],[it.Year,{year:"numeric"}],[it.Month,{month:"numeric"}],[it.Day,{day:"numeric"}],[it.Hour,{hour:"numeric"}],[it.HourMin,{hour:"numeric",minute:"numeric"}],[it.HourTimezone,{hour:"numeric",timeZoneName:"short"}],[it.HourMinTimezone,{hour:"numeric",minute:"numeric",timeZoneName:"short"}],[it.HourTimezoneLong,{hour:"numeric",timeZoneName:"long"}],[it.HourMinTimezoneLong,{hour:"numeric",minute:"numeric",timeZoneName:"long"}]]),dt=["en-us","en-gb","el-gr"],ht=[it.DayWeek,it.HourTimezoneLong,it.HourMinTimezoneLong],pt=new Map([["default",{longPm:"pm",shortPm:"p",longAm:"am",shortAm:"a"}],["el-gr",{longPm:"μ.μ.",shortPm:"μ",longAm:"π.μ.",shortAm:"π"}]]),ut=new Map([["default",{hour:"numeric"}],["zh-cn",{hour:"numeric",hour12:!1}],["zh-tw",{hour:"numeric",hour12:!1}],["zh-hk",{hour:"numeric",hour12:!1}]]);class gt{constructor(e,t){this.locale=e||"en-us",this.timeZone=t||void 0,this.hour12=Intl.DateTimeFormat(this.locale,ut.get(this.locale)||ut.get("default")).resolvedOptions().hour12,this.localeOption=pt.get(this.locale)||pt.get("default"),this.timeFormats=new Map,this.timeFormatsEnGb=new Map,this.timeFormatsEnUs=new Map}formatHour(e,t){return this.formatDateTimeFormatText(e,it.Hour,Object.assign({},t))}formatYear(e,t){return this.formatDateTimeFormatText(e,it.Year,Object.assign({},t))}formatMonth(e,t){return this.formatDateTimeFormatText(e,it.Month,Object.assign({},t))}formatDay(e,t){return this.formatDateTimeFormatText(e,it.Day,Object.assign({},t))}formatHourLabel(e){return this.formatHour(e,{excludeSpace:!1})}formatHourMinute(e,t){return this.formatDateTimeFormatText(e,it.HourMin,Object.assign({},t))}formatHourTimezone(e,t,a=!1){let i=it.HourTimezone;return a&&(i=it.HourTimezoneLong),this.formatDateTimeFormatText(e,i,Object.assign({},t))}formatHourMinuteTimezone(e,t,a=!1){let i=it.HourMinTimezone;return a&&(i=it.HourMinTimezoneLong),this.formatDateTimeFormatText(e,i,Object.assign({},t))}formatDayWithWeek(e,t){let a=this.formatDateTimeFormatText(e,it.DayWeek,Object.assign({},t));if(t&&t.forceWeekdayAhead&&a.indexOf(",")<0&&a.indexOf(" ")>0){const e=a.split(" ");2!=e.length||isNaN(parseInt(e[0]))||(a=`${e[1]} ${e[0]}`)}return a}formatWeek(e,t){let a=this.formatDateTimeFormatText(e,it.DayWeek,Object.assign({},t));if(a.indexOf(",")<0&&a.indexOf(" ")>0){const e=a.split(" ");2!=e.length||isNaN(parseInt(e[0]))||(a=e[1])}return a}formatMonthDayYear(e,t){let a=this.formatDateTimeFormatText(e,it.MonthDayYear,Object.assign({},t));if(t&&t.useComma){const i=this.formatDateTimeFormatText(e,it.MonthDay,Object.assign({},t));a=a.replace(i+" ",i+", ")}return a}getFormatObj(e){let t=e;return this.hour12||(e===it.Hour&&(t=it.HourMin),e===it.HourTimezone&&(t=it.HourMinTimezone),e===it.HourTimezoneLong&&(t=it.HourMinTimezoneLong)),dt.indexOf(this.locale)<0&&ht.indexOf(t)<0?this.hour12?(this.timeFormatsEnUs.has(t)||this.timeFormatsEnUs.set(t,new Intl.DateTimeFormat("en-us",Object.assign({timeZone:this.timeZone},ct.get(t)))),this.timeFormatsEnUs.get(t)):(this.timeFormatsEnGb.has(t)||this.timeFormatsEnGb.set(t,new Intl.DateTimeFormat("en-gb",Object.assign({timeZone:this.timeZone},ct.get(t)))),this.timeFormatsEnGb.get(t)):(this.timeFormats.has(t)||this.timeFormats.set(t,new Intl.DateTimeFormat(this.locale,Object.assign({timeZone:this.timeZone},ct.get(t)))),this.timeFormats.get(t))}formatDateTimeFormatText(e,t,a){const i=this.getFormatObj(t).format(e);return this.postProcess(i,a)}postProcess(e,t){let a=e;return t&&t.excludeComma&&(a=a.replace(/,/g,"")),t&&t.excludeSpace&&(a=a.replace(/\s/g,"")),a}}const mt=.2,ft=2.5,bt=7.5,yt=50,vt="raining",xt="noRain",Ct=["rain","snow","precipitation"];function wt(e){let t=e;return t<ft?(t*=20/ft,t=.75*t+5):t=t<bt?20+20/(bt-ft)*(t-ft):40+20/(yt-bt)*(t-bt),t}function Ot(e,t,a,i){if(Object(st.a)(e))return null;const n=[],o=e.precipitation||[];let r=!1;const s=new Date(e.timestamp);let c=0;if(i){const t=o.findIndex((t,a)=>s.getTime()+a*e.minutesBetweenHorrizons*60*1e3>i.getTime());c=Math.max(t-1,0),r=(e.horrizonCount-c)*e.minutesBetweenHorrizons<120}a||(a=1);const d=t.location&&t.location.TimezoneName,h={excludeSpace:!1,excludeComma:!0},p=new gt(l.b.Locale,d);let u=0;return[...o.slice(c),Object(lt.a)(o)].forEach((t,i)=>{const o=new Date(s.getTime()+(c+i)*e.minutesBetweenHorrizons*60*1e3);u=function(e){let t=Math.pow(Math.pow(10,e/10)/200,5/8);return t=Math.min(t,yt),t}(t),n.push({debug:""+i,offsetSliceCount:i,time:o,text:i%a==0?p.formatHourMinute(o,h):"",rainfall:wt(u),summary:u>=mt||!e.enableRainSignal?vt:xt,normalizedCode:""})}),{horrizonCount:e.horrizonCount-c,minutesBetweenHorrizons:e.minutesBetweenHorrizons,summary:e.summary,shortSummary:e.shortSummary,timestamp:e.timestamp,timeline:n,showTimeline:e.isRaining,showInValidData:r,weatherType:Ct[e.weathertype]||"rain"}}function Tt(e){return e[0]}function St(e){return e[1]}var jt=function(e){return function(){return e}};function Mt(e){this._context=e}Mt.prototype.areaStart=function(){this._line=0},Mt.prototype.areaEnd=function(){this._line=NaN},Mt.prototype.lineStart=function(){this._point=0},Mt.prototype.lineEnd=function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},Mt.prototype.point=function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}};var kt=function(e){return new Mt(e)};function Ft(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Dt(){return new Ft}Ft.prototype=Dt.prototype={constructor:Ft},Ft.prototype.moveTo=function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},Ft.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},Ft.prototype.lineTo=function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},Ft.prototype.bezierCurveTo=function(e,t,a,i,n,o){this._+="C"+ +e+","+ +t+","+ +a+","+ +i+","+(this._x1=+n)+","+(this._y1=+o)},Ft.prototype.toString=function(){return this._};var Et=Dt,Lt=function(e,t,a){var i=null,n=jt(!0),o=kt,r=null;function s(s){var l,c,d,h,p,u,g=(u=s,s="object"==typeof u&&"length"in u?u:Array.from(u)).length,m=!1,f=new Array(g),b=new Array(g);for(r=o(p=Et()),l=0;l<=g;++l){if(!(l<g&&n(h=s[l],l,s))===m)if(m=!m)c=l,r.areaStart(),r.lineStart();else{for(r.lineEnd(),r.lineStart(),d=l-1;d>=c;--d)r.point(f[d],b[d]);r.lineEnd(),r.areaEnd()}m&&(f[l]=+e(h,l,s),b[l]=+t(h,l,s),r.point(i?+i(h,l,s):f[l],a?+a(h,l,s):b[l]))}if(p)return r=null,p+""||null}return e="function"==typeof e?e:void 0===e?Tt:jt(+e),t="function"==typeof t?t:jt(void 0===t?0:+t),a="function"==typeof a?a:void 0===a?St:jt(+a),s.x=function(t){return arguments.length?(e="function"==typeof t?t:jt(+t),i=null,s):e},s.y0=function(e){return arguments.length?(t="function"==typeof e?e:jt(+e),s):t},s.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:jt(+e),s):a},s.curve=function(e){return arguments.length?(o=e,s):o},s};function Nt(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function It(e){this._context=e}It.prototype.areaStart=function(){this._line=0},It.prototype.areaEnd=function(){this._line=NaN},It.prototype.lineStart=function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},It.prototype.lineEnd=function(){switch(this._point){case 3:Nt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},It.prototype.point=function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nt(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t};function _t(e,t){this._basis=new It(e),this._beta=t}var At=function e(t){function a(e){return 1===t?new It(e):new _t(e,t)}return a.beta=function(t){return e(+t)},a}(.85),Ht=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Pt=function(e){let t=e,a=e;function i(e,t,i,n){for(null==i&&(i=0),null==n&&(n=e.length);i<n;){const o=i+n>>>1;a(e[o],t)<0?i=o+1:n=o}return i}return 1===e.length&&(t=(t,a)=>e(t)-a,a=function(e){return(t,a)=>Ht(e(t),a)}(e)),{left:i,center:function(e,a,n,o){null==n&&(n=0),null==o&&(o=e.length);const r=i(e,a,n,o-1);return r>n&&t(e[r-1],a)>-t(e[r],a)?r-1:r},right:function(e,t,i,n){for(null==i&&(i=0),null==n&&(n=e.length);i<n;){const o=i+n>>>1;a(e[o],t)>0?n=o:i=o+1}return i}}};const Rt=Pt(Ht),Wt=Rt.right;Rt.left,Pt((function(e){return null===e?NaN:+e})).center;var zt=Wt;function Ut(e){return function(){return e}}var Bt=function(e,t){t||(t=[]);var a,i=e?Math.min(t.length,e.length):0,n=t.slice();return function(o){for(a=0;a<i;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}};function Vt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var $t="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zt=/^#([0-9a-f]{3,8})$/,Qt=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),qt=new RegExp("^rgb\\("+[Xt,Xt,Xt]+"\\)$"),Yt=new RegExp("^rgba\\("+[$t,$t,$t,Gt]+"\\)$"),Kt=new RegExp("^rgba\\("+[Xt,Xt,Xt,Gt]+"\\)$"),Jt=new RegExp("^hsl\\("+[Gt,Xt,Xt]+"\\)$"),ea=new RegExp("^hsla\\("+[Gt,Xt,Xt,Gt]+"\\)$");function ta(e){return new ra(e>>16&255,e>>8&255,255&e,1)}function aa(e,t,a,i){return i<=0&&(e=t=a=NaN),new ra(e,t,a,i)}function ia(e,t,a,i){return i<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new sa(e,t,a,i)}function na(e){return e instanceof Color||(e=function(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=Zt.exec(e))?(a=t[1].length,t=parseInt(t[1],16),6===a?ta(t):3===a?new ra(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===a?new ra(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===a?new ra(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Qt.exec(e))?new ra(t[1],t[2],t[3],1):(t=qt.exec(e))?new ra(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Yt.exec(e))?aa(t[1],t[2],t[3],t[4]):(t=Kt.exec(e))?aa(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Jt.exec(e))?ia(t[1],t[2]/100,t[3]/100,1):(t=ea.exec(e))?ia(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?ta(named[e]):"transparent"===e?new ra(NaN,NaN,NaN,0):null}(e)),e?new ra((e=e.rgb()).r,e.g,e.b,e.opacity):new ra}function oa(e,t,a,i){return 1===arguments.length?na(e):new ra(e,t,a,null==i?1:i)}function ra(e,t,a,i){this.r=+e,this.g=+t,this.b=+a,this.opacity=+i}function sa(e,t,a,i){this.h=+e,this.s=+t,this.l=+a,this.opacity=+i}var la=function(e,t){var a=new Date;return e=+e,t=+t,function(i){return a.setTime(e*(1-i)+t*i),a}};function ca(e,t){var a,i=t?t.length:0,n=e?Math.min(i,e.length):0,o=new Array(n),r=new Array(i);for(a=0;a<n;++a)o[a]=ba(e[a],t[a]);for(;a<i;++a)r[a]=t[a];return function(e){for(a=0;a<n;++a)r[a]=o[a](e);return r}}var da=function(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}},ha=function(e,t){var a,i={},n={};for(a in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)a in e?i[a]=ba(e[a],t[a]):n[a]=t[a];return function(e){for(a in i)n[a]=i[a](e);return n}};function pa(e,t){var a=t-e;return a?linear(e,a):Ut(isNaN(e)?t:e)}var ua=function e(t){var a=function(e){return 1==(e=+e)?pa:function(t,a){return a-t?exponential(t,a,e):Ut(isNaN(t)?a:t)}}(t);function i(e,t){var i=a((e=oa(e)).r,(t=oa(t)).r),n=a(e.g,t.g),o=a(e.b,t.b),r=pa(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=n(t),e.b=o(t),e.opacity=r(t),e+""}}return i.gamma=e,i}(1),ga=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ma=new RegExp(ga.source,"g");var fa=function(e,t){var a,i,n,o=ga.lastIndex=ma.lastIndex=0,r=-1,s=[],l=[];for(e+="",t+="";(a=ga.exec(e))&&(i=ma.exec(t));)(n=i.index)>o&&(n=t.slice(o,n),s[r]?s[r]+=n:s[++r]=n),(a=a[0])===(i=i[0])?s[r]?s[r]+=i:s[++r]=i:(s[++r]=null,l.push({i:r,x:da(a,i)})),o=ma.lastIndex;return o<t.length&&(n=t.slice(o),s[r]?s[r]+=n:s[++r]=n),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var a,i=0;i<t;++i)s[(a=l[i]).i]=a.x(e);return s.join("")})},ba=function(e,t){var a,i,n=typeof t;return null==t||"boolean"===n?(i=t,()=>i):("number"===n?da:"string"===n?(a=(void 0)(t))?(t=a,ua):fa:t instanceof void 0?ua:t instanceof Date?la:Vt(t)?Bt:Array.isArray(t)?ca:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ha:da)(e,t)};function ya(e){return+e}var va=[0,1];function xa(e){return e}function Ca(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:Ut(isNaN(t)?NaN:.5)}function wa(e,t,a){var i=e[0],n=e[1],o=t[0],r=t[1];return n<i?(i=Ca(n,i),o=a(r,o)):(i=Ca(i,n),o=a(o,r)),function(e){return o(i(e))}}function Oa(e,t,a){var i=Math.min(e.length,t.length)-1,n=new Array(i),o=new Array(i),r=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<i;)n[r]=Ca(e[r],e[r+1]),o[r]=a(t[r],t[r+1]);return function(t){var a=zt(e,t,1,i)-1;return o[a](n[a](t))}}function Ta(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sa(){var e,t,a,i=va,n=va,o=ba,r=xa;function s(){var e,o,s,c=Math.min(i.length,n.length);return r!==xa&&(e=i[0],o=i[c-1],e>o&&(s=e,e=o,o=s),r=function(t){return Math.max(e,Math.min(o,t))}),t=c>2?Oa:wa,a=null,l}function l(s){return isNaN(s=+s)?void 0:(a||(a=t(i.map(e),n,o)))(e(r(s)))}return l.domain=function(e){return arguments.length?(i=Array.from(e,ya),s()):i.slice()},l.range=function(e){return arguments.length?(n=Array.from(e),s()):n.slice()},function(t,a){return e=t,a,s()}}function ja(){return Sa()(xa,xa)}function Ma(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ka(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}ka.prototype,ka.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function Fa(e){var t=e.domain;return e.ticks=function(e){var a=t();return(void 0)(a[0],a[a.length-1],null==e?10:e)},e.tickFormat=function(e,a){var i=t();return function(e,t,a,i){var n,o=(void 0)(e,t,a);switch((i=(void 0)(null==i?",f":i)).type){case"s":var r=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(n=(void 0)(o,r))||(i.precision=n),(void 0)(i,r);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(n=(void 0)(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=n-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(n=(void 0)(o))||(i.precision=n-2*("%"===i.type))}return(void 0)(i)}(i[0],i[i.length-1],null==e?10:e,a)},e.nice=function(a){null==a&&(a=10);var i,n,o=t(),r=0,s=o.length-1,l=o[r],c=o[s],d=10;for(c<l&&(n=l,l=c,c=n,n=r,r=s,s=n);d-- >0;){if((n=(void 0)(l,c,a))===i)return o[r]=l,o[s]=c,t(o);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n}i=n}return e},e}var Da=a("48GI");class Ea{constructor(e,t){const a=t.paddingLeft;e&&t.isRTL?this.xScale=i=>a+("number"==typeof i?i:e.horrizonCount-i.offsetSliceCount+1)*t.sliceWidth:this.xScale=e=>a+("number"==typeof e?e:e.offsetSliceCount)*t.sliceWidth,this.yScale=this.computeYScale({minRain:0,maxRain:60},{min:t.offsetTopTimelineLabel,max:t.height-t.offsetBottomTimelineLabel-t.timelineChannelHeight}),this.height=t.height,this.nowcastData=e,this.canvasConfig=t}computeCurve(){const e=this.nowcastData.timeline,t=[{offsetSliceCount:0,rainfall:e[0].rainfall}];Array.prototype.push.apply(t,e);return Lt(t[0],t[1],t[2]).curve(At.beta(1)).x(e=>this.xScale(e)).y1(e=>this.yScale(e.rainfall+this.canvasConfig.randomFactor*Math.random())).y0(this.yScale(this.yScale.domain()[0]))(t)}computeClip(){let e={start:0,stop:-1};const t=this.nowcastData.timeline,a=[];for(;e.start>-1;)e=La(t,e),e.start>-1&&(a.push(this.xScale(t[e.start])),a.push(this.canvasConfig.offsetTopTimelineLabel),a.push(this.xScale(t[e.stop])-this.xScale(t[e.start])),a.push(this.height-this.canvasConfig.offsetBottomTimelineLabel-this.canvasConfig.timelineChannelHeight));return a}computeTimestamps(){const e=[];return this.nowcastData.timeline.forEach(t=>{t.text&&e.push(t.text)}),e}computeDashlineXIndexes(){let e={start:0,stop:-1};const t=[],a=this.nowcastData.timeline;for(;e.start>-1;)e=La(a,e),e.start>0&&(t.push(this.xScale(a[e.start])-1),t.push(this.xScale(a[e.start]))),e.stop<a.length-1&&(t.push(this.xScale(a[e.stop])-1),t.push(this.xScale(a[e.stop])));return t}computeYScale(e,t){const a=e.maxRain,i=e.minRain,n=a-i;return function e(){var t=ja();return t.copy=function(){return Ta(t,e())},Ma.apply(t,arguments),Fa(t)}().domain([i,a+.1*n]).range([t.max,t.min])}}function La(e,t){let{start:a,stop:i}=t;return a=Object(Da.a)(e,e=>e.summary===vt,i+1),i=Object(Da.a)(e,e=>e.summary===xt,a),i=i>-1?i:e.length-1,a>0&&i-a>1&&a++,{start:a,stop:i}}var Na=a("u5KZ"),Ia=a("qGiF"),_a=a("qBHm"),Aa=a("OnwC"),Ha=a("83R0"),Pa=a("Xjb4"),Ra=a("F+I8"),Wa=a("HDSB");const za={23:Te.a.RainShowersDayV2,26:Te.a.SnowShowersDayV2,6:Te.a.BlowingHailV2,5:Te.a.CloudyV3,20:Te.a.LightSnowV2,91:Te.a.WindyV2,27:Te.a.ThunderstormsV2,10:Te.a.FreezingRainV2,77:Te.a.RainSnowV2,12:Te.a.HazySmokeV2,39:Te.a.HazeSmokeNightV2_106,24:Te.a.RainSnowV2,78:Te.a.RainSnowShowersNightV2,9:Te.a.FogV2,3:Te.a.PartlyCloudyDayV3,43:Te.a.HailNightV2,16:Te.a.HailDayV2,8:Te.a.LightRainV2,15:Te.a.HeavySnowV2,28:Te.a.ClearNightV3,30:Te.a.PartlyCloudyNightV2,14:Te.a.ModerateRainV2,1:Te.a.SunnyDayV3,7:Te.a.BlowingSnowV2,50:Te.a.RainShowersNightV2,82:Te.a.SnowShowersNightV2,2:Te.a.MostlySunnyDay,29:Te.a.MostlyClearNight,4:Te.a.MostlyCloudyDayV2,31:Te.a.MostlyCloudyNightV2,17:Te.a.LightRainV3};class Ua{static getWeatherGlyph(e,t,i){const n=Object.prototype.hasOwnProperty.call(Ra.b,e)?Ra.b[e]:e;let o=za[n]||"";return(!Object(Wa.a)()||i)&&a.p&&a.p.indexOf("assets")>-1&&o.indexOf("assets")<0&&(o=a.p+o.substr(o.lastIndexOf("/")+1)),o}}class Ba extends Aa.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,selectedGroup:void 0,groups:void 0,onSelectedGroupChange:void 0,className:void 0,focusHandler:void 0,mouseEnterHandler:void 0},this.onToolTipOpen=e=>{this.props.mouseEnterHandler&&this.props.mouseEnterHandler(e),e&&Na.a.sendActionEvent(e.currentTarget,ee.a.Hover)}}render(){const{selectedGroup:e,groups:t,managedClasses:a,className:i}=this.props;return Pa.default.createElement("div",{className:i},Pa.default.createElement("div",{className:a.groupContainer},t&&t.map((t,i)=>!t.disabled&&Pa.default.createElement("div",{key:"layer-group-"+i,className:"layerGroupTooltip"},Pa.default.createElement("button",Object.assign({},t.telemetryTags,{hidden:t.disabled,id:"layer-group-"+t.type,onClick:e=>this.props.onSelectedGroupChange(t.type,e),onMouseEnter:this.onToolTipOpen,onFocus:this.props.focusHandler,"aria-label":t.displayText,className:`${a.groupButton} ${e==t.type?a.groupChecked:""}`}),t.icon&&Pa.default.createElement(nt.a,{tabIndex:-1,glyphType:t.icon})),Pa.default.createElement("span",{className:"layerGroupTooltiptext"},t.displayText)))))}}const Va=Object(Pe.a)(e=>({"@global":{".layerGroupTooltip":{position:"relative",display:"inline-block","border-radius":"6px",border:"0px"},".layerGroupTooltip .layerGroupTooltiptext":{visibility:"hidden","background-color":"#FFD02C",color:"#666666","font-size":"14px","text-align":"center","border-radius":"6px",padding:"5px 18px",position:"absolute","z-index":rt.a.Overlay+"px",top:"6px","white-space":"nowrap",left:"120%"},".layerGroupTooltip .layerGroupTooltiptext::before":{content:'""',position:"absolute",top:"0px",right:"100%","margin-top":"9px","border-width":"5px","border-style":"solid","border-color":"transparent #FFD02C transparent transparent"},".layerGroupTooltip:hover .layerGroupTooltiptext":{visibility:"visible"}},groupContainer:{width:"36px","border-radius":"6px",padding:"2px","padding-top":"0px","padding-bottom":"0px","background-color":"#FFFFFF","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.15)"},groupButton:Object.assign(Object.assign({width:"36px",height:"39px",padding:"0px",overflow:"visible !important","margin-top":"3px","margin-bottom":"3px",border:"0px","background-color":"#FFFFFF","border-radius":"6px",outline:"none"},Object(Ke.a)({border:"1px solid","border-color":"rgb(16, 16, 16)","background-color":"#FFD02C !important","&+ span":{visibility:"visible"}})),{"&> span:nth-child(1)":{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",width:"100%",height:"100%",outline:"none"},"&:hover":{"background-color":"#FFD02C !important"},"& svg":{fill:"#666666 !important",[Xe.A]:{opacity:"1",fill:Xe.a.buttonText+" !important"}},cursor:"pointer"}),groupChecked:{"background-color":"#FFD02C"}}))(Ba),$a=Object(Pe.a)(e=>({"@global":{".layerGroupTooltip":{position:"relative",display:"inline-block","border-radius":"1px",border:"0px"},".layerGroupTooltip .layerGroupTooltiptext":{visibility:"hidden","background-color":"#FFD02C",color:"#666666","font-size":"12px","text-align":"center","border-radius":"1px",padding:"3px 2px",position:"absolute","white-space":"nowrap","z-index":""+rt.a.Overlay,top:"6px",left:"120%"},".layerGroupTooltip .layerGroupTooltiptext::before":{content:'""',position:"absolute",top:"0px",right:"100%","margin-top":"6px","border-width":"5px","border-style":"solid","border-color":"transparent #FFD02C transparent transparent"},".layerGroupTooltip:hover .layerGroupTooltiptext":{visibility:"visible"}},groupContainer:{width:"24px","border-radius":"3px",padding:"1px","background-color":"#FFFFFF","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.15)",animation:"delayFadeIn ease 0.8s"},groupButton:Object.assign(Object.assign({width:"22px",height:"26px",padding:"0px",overflow:"visible !important","margin-top":"1px","margin-bottom":"1px",border:"0px","background-color":"#FFFFFF","border-radius":"6px",outline:"none"},Object(Ke.a)({border:"1px solid","border-color":"rgb(16, 16, 16)","background-color":"#FFD02C !important","&+ span":{visibility:"visible"}})),{"&> span:nth-child(1)":{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",width:"100%",height:"100%",outline:"none"},"&:hover":{"background-color":"#FFD02C !important"},"& svg":{fill:"#666666 !important",[Xe.A]:{opacity:"1",fill:Xe.a.buttonText+" !important"}},cursor:"pointer","align-items":"center",display:"flex","justify-content":"center"}),groupChecked:{"background-color":"#FFD02C"},"@keyframes delayFadeIn":{"0%":{opacity:"0"},"66%":{opacity:"0"},"100%":{opacity:"1"}}}))(Ba);var Ga=a("pCrc"),Xa=a("3KaK");const Za=e=>({miniMapSVGView:{cursor:"pointer",height:"100%",width:"100%"},miniMapRadarSVGView:{cursor:"pointer",height:"100%",width:"100%",opacity:"0.7","border-radius":"4px"},miniMapSVGToolTip:{display:"none","background-color":Object(Be.e)(e)?Xa.a:"#FFFFFF",color:Object(Be.e)(e)?"#FFFFFF":"#444444",position:"absolute",cursor:"pointer",overflow:"hidden","border-radius":"6px","font-size":"13px","pointer-events":"none","white-space":"nowrap","box-shadow":"0 1px 3px rgba(0,0,0,0.4)",padding:"6px"},miniMapSVGToolTipCardMode:{left:"50%",top:"50%",transform:"translate(0%, -100%)"},miniMapMarker:{position:"absolute",cursor:"pointer",top:"50%",left:"50%",transform:"translate(-50%, -50%)","pointer-events":"none","object-fit":"cover","box-sizing":"border-box",width:"12px",height:"12px","border-radius":"50%",overflow:"visible",background:"#ffd02e",border:"3px solid #FFF","box-shadow":"0px 0px 10px rgb(0 0 0 / 40%)",display:"flex !important","align-items":"center","justify-content":"center","&:before":{content:"' '",display:"block",width:"12px",height:"12px","min-width":"12px","border-radius":"50%","box-shadow":"0px 0px 0px 0px rgb(255 255 255 / 0%)",animation:"locationPinBorder 2s ease-out","animation-iteration-count":"infinite"}},"@keyframes locationPinBorder":{"0%":{"box-shadow":"0px 0px 3px 3px rgb(255 255 255 / 0%)"},"50%":{"box-shadow":"0px 0px 3px 3px rgb(255 255 255/ 80%)"},"100%":{"box-shadow":"0px 0px 3px 3px rgb(255 255 255 / 0%)"}},miniMapLayerCoverImg:{position:"absolute",top:"50%",left:"50%",height:"100%",width:"100%","object-fit":"cover",transform:"translate(-50%, -50%)"},"@keyframes rotationMarker":{from:{transform:"rotate(360deg)"},to:{transform:"rotate(0deg)"}},miniMapHurricaneTitleContainer:{position:"absolute",left:"0",bottom:"-1px",padding:"6px 14px",margin:"0",width:"100%","box-sizing":"border-box","z-index":"1",background:"rgba(0,0,0, 0.5)",display:"flex","flex-direction":"row","justify-content":"start","align-items":"center","& > img":{[Object(Ye.b)("padding-right","padding-left",e.direction)]:"8px"}},miniMapHurricaneTitle:{position:"relative",width:"100%",margin:"0","word-break":"break-word",color:"#FFFFFF","font-family":"Segoe UI","text-align":Object(Ye.b)("left","right",e.direction),"font-size":"12px","line-height":"20px"}});var Qa=a("DCIk");const qa=["comp_w","comp_h"];class Ya extends Aa.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,className:void 0,locationMarkerUrl:void 0,weatherCardMode:void 0,geolocation:void 0,weatherMapTelemetryTags:void 0,maximizeHeightOfMiniMap:void 0,widthView:void 0,heightView:void 0,staticMap:void 0,hurricaneContent:void 0,zoomLevel:void 0}}shouldComponentUpdate(e){var t,a,i,n;return!Object(Qa.a)(this.props.hurricaneContent,e.hurricaneContent)||(null===(t=this.props.geolocation)||void 0===t?void 0:t.lat)!==(null===(a=e.geolocation)||void 0===a?void 0:a.lat)||(null===(i=this.props.geolocation)||void 0===i?void 0:i.lon)!==(null===(n=e.geolocation)||void 0===n?void 0:n.lon)}render(){var e;const{managedClasses:t,className:a,weatherCardMode:i,widthView:n,heightView:o}=this.props,r=this.props.hurricaneContent.contenttype===s.c.Hurricane,l=null===(e=this.props.hurricaneContent)||void 0===e?void 0:e.content,c=this.getCoverImages(l)[0];if(c){const e=function(e,t={[qa[0]]:300,[qa[1]]:300}){const a=e||"";return qa.forEach(e=>{a.replace(`{${e}}`,""+t[e])}),a}(c.imgUrl,{[qa[0]]:n,[qa[1]]:o});return Pa.default.createElement(Pa.Fragment,null,Pa.default.createElement("div",Object.assign({className:a,style:{position:"relative",overflow:"hidden"}},this.props.weatherMapTelemetryTags),Pa.default.createElement("img",{src:e,className:t.miniMapLayerCoverImg,alt:c.title}),i&&c.title&&Pa.default.createElement("div",{className:t.miniMapHurricaneTitleContainer,"data-mode":i&&"weather-card"},r&&Pa.default.createElement(nt.a,{height:"16px",glyphType:Te.a.HurricaneMiniMap}),Pa.default.createElement("p",{className:t.miniMapHurricaneTitle},c.title)),Pa.default.createElement("div",{id:"tooltipSevere",className:`${t.miniMapSVGToolTip} ${i?t.miniMapSVGToolTipCardMode:""}`})))}return null}getCoverImages(e){const t=[];return null==e||e.forEach(e=>{e.displayType===s.a.ImageContent&&e.imgUrl&&t.push({imgUrl:e.imgUrl,title:e.title||""})}),t}}const Ka=Object(Pe.a)(Za)(Ya);class Ja extends Aa.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,className:void 0,onClickPolygon:void 0,locationMarkerUrl:void 0,showRegionData:void 0,weatherCardMode:void 0,showRadarMiniMap:void 0,geolocation:void 0,animationRadar:void 0,weatherMapTelemetryTags:void 0,curveDatas:void 0,polygonPropsGroup:void 0,maximizeHeightOfMiniMap:void 0,widthView:void 0,heightView:void 0,svgPatternID:void 0},this.loading=!1,this.onToolTipShow=(e,t,a)=>{if(e.preventDefault(),e.stopPropagation(),this.tooltip||(this.tooltip=document.getElementById("tooltipSevere")),null!=t&&""!==t.trim()&&(this.tooltip.innerHTML=t),a){const a=6*t.length+12,i=26,n=this.svgContainerRef.current.getBoundingClientRect(),o=n.right-n.left-a,r=e.clientX-n.left,s=e.clientY-n.top-5;this.tooltip.style.left=Math.min(Math.max(0,r),o)+"px",this.tooltip.style.top=Math.max(i,s)+"px"}else this.tooltip.style.left=e.clientX-this.svgContainerRef.current.getBoundingClientRect().left+ae+"px",this.tooltip.style.top=e.clientY-this.svgContainerRef.current.getBoundingClientRect().top+ie+"px";this.tooltip.style.display="block"},this.hideTooltip=()=>{this.tooltip||(this.tooltip=document.getElementById("tooltipSevere")),this.tooltip.style.display="none"},this.svgContainerRef=Pa.default.createRef(),this.curveRef=Pa.default.createRef(),this.radarSVGRef=Pa.default.createRef(),this.loading=!1}shouldComponentUpdate(e){var t,a,i,n,o,r,s;return(null===(t=e.polygonPropsGroup)||void 0===t?void 0:t.length)>0&&(null===(a=e.polygonPropsGroup)||void 0===a?void 0:a.length)===(null===(i=this.props.polygonPropsGroup)||void 0===i?void 0:i.length)&&this.props.polygonPropsGroup[0]===e.polygonPropsGroup[0]||this.props.showRadarMiniMap!==e.showRadarMiniMap||!Object(Qa.a)(this.props.curveDatas,e.curveDatas)||(null===(n=this.props.geolocation)||void 0===n?void 0:n.lat)!==(null===(o=e.geolocation)||void 0===o?void 0:o.lat)||(null===(r=this.props.geolocation)||void 0===r?void 0:r.lon)!==(null===(s=e.geolocation)||void 0===s?void 0:s.lon)}componentDidMount(){this.renderAnimationRadar()}componentDidUpdate(){this.renderAnimationRadar()}renderAnimationRadar(){var e,t;if(this.props.animationRadar&&this.loading&&this.curveRef){const a=null===(t=null===(e=this.curveRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.children;if(a){const e=document.getElementById(this.svgPatternID);for(let t=0;t<a.length;++t){const i=a[t],n=i.getAttribute("stroke"),o=i.getAttribute("fill");if((null==o?void 0:o.length)>7)continue;r.c.createPattern(e,n,o,this.svgPatternID);const s=n+o+this.svgPatternID;i.setAttribute("fill","url(#"+s+")")}}}this.loading&&(this.loading=!1)}render(){var e,t,a;const{locationMarkerUrl:i,showRegionData:n,managedClasses:o,className:s,weatherMapTelemetryTags:l,weatherCardMode:c,maximizeHeightOfMiniMap:d,svgPatternID:h}=this.props,[p,u]=r.c.getSizeOfMiniMap(c,d,this.props.widthView,this.props.heightView);this.svgPatternID=h||"miniMapAnimationPattern";const g=this.props.showRadarMiniMap&&(null===(e=this.props.curveDatas)||void 0===e?void 0:e.length)>0&&!n;return g&&(this.loading=!0),Pa.default.createElement("div",{ref:this.svgContainerRef,className:s},n&&!g&&Pa.default.createElement("svg",{className:o.miniMapSVGView,preserveAspectRatio:"xMidYMid slice",viewBox:`0 0 ${p} ${u}`},Pa.default.createElement("g",Object.assign({},l),null===(t=this.props.polygonPropsGroup)||void 0===t?void 0:t.map((e,t)=>Pa.default.createElement("polygon",{key:"severeMiniMap-"+t,points:e.pixelCoordinatesArray,fill:te.get(e.significance||"Y")||"#f1c40e",stroke:te.get(e.significance||"Y")||"#f1c40e",strokeWidth:"1",strokeOpacity:"1",fillOpacity:"0.6",onMouseMove:t=>this.onToolTipShow(t,e.localizedTitle||`${e.categoryAlert} ${e.levelAlert}`,c),onMouseOut:()=>this.hideTooltip(),onClick:e=>this.props.onClickPolygon(e)})))),g&&Pa.default.createElement("svg",{ref:this.radarSVGRef,className:o.miniMapRadarSVGView,preserveAspectRatio:"xMidYMid slice",viewBox:`0 0 ${p} ${u}`},Pa.default.createElement("g",{ref:this.curveRef},null===(a=this.props.curveDatas)||void 0===a?void 0:a.map((e,t)=>Pa.default.createElement("path",{key:"radarMiniMap-"+t,d:null==e?void 0:e.path,stroke:null==e?void 0:e.fill,strokeWidth:0,fill:null==e?void 0:e.color,fillRule:"evenodd"}))),Pa.default.createElement("defs",{id:this.svgPatternID})),Pa.default.createElement("div",{className:o.miniMapMarker}),Pa.default.createElement("div",{id:"tooltipSevere",className:`${o.miniMapSVGToolTip} ${c?o.miniMapSVGToolTipCardMode:""}`}))}}const ei=Object(Pe.a)(Za)(Ja);class ti extends Aa.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,staticMap:void 0,staticMapOfVector:void 0,tempImage:void 0,showRadarButton:void 0,maximizeHeightOfMiniMap:void 0,locationMarkerUrl:void 0,mapUrl:void 0,mapUrlBuilder:void 0,localization:void 0,enableMiniMapVector:void 0,animationRadar:void 0,showRadarMiniMap:void 0,geolocation:void 0,regionDataItems:void 0,enableMovePrecipitationLayers:void 0,weatherMapTelemetryTags:void 0,weatherMapTemperatueTags:void 0,weatherMapWindTags:void 0,weatherMapPrecipitationTags:void 0,weatherMapExpandTags:void 0,weatherMapRadarTags:void 0,weatherCardMode:void 0,weatherMapCloudTags:void 0,weatherMapWinterstormTags:void 0,focusHandler:void 0,mouseEnterHandler:void 0,weatherMapSevereweatherTags:void 0,weatherMapEditorialTags:void 0,weatherMapHurricaneTags:void 0,weatherMapWildfireTags:void 0,showButtonIcon:void 0,curveDatas:void 0,enableNewL1Feature:void 0,fixedHeight:void 0,setWidth:void 0,svgPatternID:void 0,minimapSevereWeatherType:void 0,weatherMapAirQualityTags:void 0,hurricaneContent:void 0,responsiveWidth:void 0,disableCloudButton:void 0},this.defaultMapType=ne,this.defaultZoomLevel="8",this.getMiniMapLink=(e,t)=>{let a=this.props.mapUrl;this.props.mapUrlBuilder&&(a=this.props.mapUrlBuilder());let i=e?a+"&type="+e:a;return i=t?i+"&zoom="+t:i,e===pe&&(i=this.getHurricaneLink(i)),i},this.onClickOpenNewWindow=(e,t,a)=>{a.preventDefault(),a.stopPropagation();const i=this.getMiniMapLink(e,t);Na.a.sendActionEvent(a.currentTarget,ee.a.Click,ee.b.Navigate,i),window.open(i)}}shouldComponentUpdate(e){var t,a,i,n,o,r;return!(this.props.showButtonIcon===e.showButtonIcon&&Object(Qa.a)(this.props.managedClasses,e.managedClasses)&&(null===(a=null===(t=this.props)||void 0===t?void 0:t.geolocation)||void 0===a?void 0:a.lon)===(null===(i=null==e?void 0:e.geolocation)||void 0===i?void 0:i.lon)&&(null===(o=null===(n=this.props)||void 0===n?void 0:n.geolocation)||void 0===o?void 0:o.lat)===(null===(r=null==e?void 0:e.geolocation)||void 0===r?void 0:r.lat)&&this.props.mapUrl===e.mapUrl&&this.props.showRadarButton===e.showRadarButton&&Object(Qa.a)(this.props.curveDatas,e.curveDatas)&&Object(Qa.a)(this.props.hurricaneContent,e.hurricaneContent)&&Object(Qa.a)(this.props.regionDataItems,e.regionDataItems))}render(){var e;const{managedClasses:t,staticMap:a,staticMapOfVector:i,localization:n,tempImage:o,showRadarMiniMap:r,setWidth:l,fixedHeight:c,responsiveWidth:d}=this.props;if(!n||!a)return null;const h=this.getHurricaneData(),p=!!h,{showRegionData:u,alertMapType:g,miniMapSVGProps:m,zoomLevel:f}=this.parseVectorData(),b={src:i.src,alt:i.alt};!p&&u&&!r&&i.originUrl&&i.originParams&&(b.src=Se.String.Format(i.originUrl,Object.assign(Object.assign({},i.originParams),{zoomLevel:f,zoomlevel:f})));const y=p?this.getHurricanesLayerProps(m):void 0,v=r||u,x=this.props.weatherCardMode?$a:Va,C=[{type:ne,displayText:n.temperature,icon:Te.b.WeatherTemperature,telemetryTags:this.props.weatherMapTemperatueTags},{type:oe,disabled:!1,displayText:this.props.enableMovePrecipitationLayers?n.precipitation24h:n.precipitation,icon:Te.b.WeatherPrecipitation,telemetryTags:this.props.weatherMapPrecipitationTags},{type:re,disabled:!this.props.showRadarButton,displayText:this.props.enableMovePrecipitationLayers?n.precipitation4h:n.radar,icon:Te.b.Radar,telemetryTags:this.props.weatherMapRadarTags},{type:se,disabled:u&&this.props.showRadarButton,displayText:n.wind,icon:Te.b.WeatherWind,telemetryTags:this.props.weatherMapWindTags},{type:le,disabled:this.props.disableCloudButton||this.props.showRadarButton||u,displayText:n.cloud,icon:Te.b.WeatherCloud,telemetryTags:this.props.weatherMapCloudTags},{type:ce,disabled:g!==ce,displayText:n.winterstorm,icon:Te.b.Winterstorm,telemetryTags:this.props.weatherMapWinterstormTags},{type:de,disabled:g!==de,displayText:n.wildfire,icon:Te.b.WeatherWildfire,telemetryTags:this.props.weatherMapWildfireTags},{type:he,disabled:g!==he,displayText:n.severeweather,icon:Te.b.SevereWeather,telemetryTags:this.props.weatherMapSevereweatherTags},{type:pe,disabled:!p,displayText:n.hurricane,icon:Te.b.Hurricane,telemetryTags:this.props.weatherMapHurricaneTags},{type:ue,disabled:g!==ue,displayText:n.airquality,icon:Te.b.AirQuality,telemetryTags:this.props.weatherMapAirQualityTags}],w=this.filterButtonGroupData(C,p);this.selectedMap=this.getMiniMapType(r,u,g,w);const O=this.getMiniMapLink(this.selectedMap,this.defaultZoomLevel);let T={};!d&&l&&(T=Object.assign(Object.assign({},T),{width:Object(Je.a)(l)})),c&&(T=Object.assign(Object.assign({},T),{height:Object(Je.a)(c)}));const S=this.props.weatherCardMode?t.miniMapStaticMap:`${t.miniMapStaticMap} ${t.miniMapStaticMapVector}`,j=this.props.weatherMapTelemetryTags,M=this.props.weatherCardMode&&p,k=M?{"aria-label":n.hurricane}:{tabIndex:-1};let F=j;if(p){const t=(null==h?void 0:h.contenttype)===s.c.Hurricane,a=(null===(e=null==h?void 0:h.content[0])||void 0===e?void 0:e.displayType)===s.a.ImageContent;F=t&&!a?this.props.weatherMapHurricaneTags:this.props.weatherMapEditorialTags}return Pa.default.createElement("div",Object.assign({},this.unhandledProps(),F,{style:T,className:this.props.maximizeHeightOfMiniMap?t.miniMapMaximizedContainer:t.miniMapContainer,onClick:e=>this.onClickOpenNewWindow(this.selectedMap,this.defaultZoomLevel,e)}),Pa.default.createElement("a",Object.assign({href:O,target:"_blank"},k,{className:t.miniMapContainerLink}),p?Pa.default.createElement(Pa.Fragment,null,Pa.default.createElement(Ka,Object.assign({className:S,staticMap:b,onClickPolygon:e=>this.onClickOpenNewWindow(g,null,e)},y,{weatherMapTelemetryTags:F}))):Pa.default.createElement(Pa.Fragment,null,Pa.default.createElement(Ga.a,Object.assign({className:S+" hideImageAltTagInFF"},b)),!v&&Pa.default.createElement(Ga.a,Object.assign({className:t.miniMapTempLayer+" hideImageAltTagInFF"},o)),Pa.default.createElement(ei,Object.assign({className:S,onClickPolygon:e=>this.onClickOpenNewWindow(g,null,e)},m,{weatherMapTelemetryTags:j})))),this.props.showButtonIcon&&!M&&Pa.default.createElement(x,{className:t.miniMapButtonGroupContainer,selectedGroup:this.selectedMap,onSelectedGroupChange:(e,t)=>this.onClickOpenNewWindow(e,null,t),focusHandler:this.props.focusHandler,mouseEnterHandler:this.props.mouseEnterHandler,groups:w}),this.props.showButtonIcon&&!M&&Pa.default.createElement("a",Object.assign({href:"#",role:"link",target:"_blank"},this.props.weatherMapExpandTags,{className:t.miniMapExpandContainer,onClick:e=>this.onClickOpenNewWindow(this.selectedMap,this.defaultZoomLevel,e),tabIndex:0,onFocus:this.props.focusHandler,onMouseEnter:this.props.mouseEnterHandler}),Pa.default.createElement("span",{tabIndex:-1},Pa.default.createElement("span",{className:t.miniMapExpandButton},n.expand),Pa.default.createElement("span",{role:"presentation","aria-hidden":"true"},Pa.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"#767676"},Pa.default.createElement("path",{d:"M15.0059 6C15.0059 6.55228 14.5581 7 14.0059 7C13.4536 7 13.0059 6.55228 13.0059 6V4.414L4.41986 13H6.00586C6.55814 13 7.00586 13.4477 7.00586 14C7.00586 14.5523 6.55814 15 6.00586 15H1.75586C1.34165 15 1.00586 14.6642 1.00586 14.25V10C1.00586 9.44771 1.45357 9 2.00586 9C2.55814 9 3.00586 9.44771 3.00586 10V11.586L11.5919 3H10.0059C9.45357 3 9.00586 2.55228 9.00586 2C9.00586 1.44772 9.45357 1 10.0059 1H14.2559C14.6701 1 15.0059 1.33579 15.0059 1.75V6Z"}))))))}filterButtonGroupData(e,t){if(!t)return e;let a=[],i=null;null==e||e.forEach(e=>{e.type!==pe?e.disabled||a.push(e):i=e});const n=this.getHurricaneRanking(this.getHurricaneData()),o=!n||a.slice(3).some(e=>(Oe[e.type]||Oe.NormalWeather)<=n);return a=o?a.slice(0,4):[...a.slice(0,3),i],a}parseVectorData(){const{weatherCardMode:e,setWidth:t,fixedHeight:a,maximizeHeightOfMiniMap:i,svgPatternID:n,locationMarkerUrl:o,showRadarMiniMap:s,geolocation:l,animationRadar:c,curveDatas:d,regionDataItems:h,enableMiniMapVector:p,staticMapOfVector:u}=this.props;let g=void 0,m=void 0,f=!1;const{originParams:b={}}=u||{};let y=+(b.zoomLevel||b.zoomlevel)||7;const[v,x]=r.c.getSizeOfMiniMap(e,i,t,a);let C={showRegionData:f,locationMarkerUrl:o,weatherCardMode:e,showRadarMiniMap:s,geolocation:l,animationRadar:c,width:ge.a.widthMap,height:ge.a.heightMap,curveDatas:d,maximizeHeightOfMiniMap:i,widthView:v,heightView:x,svgPatternID:n};if(l&&!s){const{lat:e,lon:t}=l;let a=[];if(p&&(null==h?void 0:h.length)>0){const{minimapSevereWeatherType:i}=this.props;for(;y>=6;){a=[];const n=[];if(m=ye(null==h?void 0:h[0].eventclass,i),m)for(const o of h)if((null==o?void 0:o.area)&&"Polygon"===o.area.type){if(ye(o.eventclass||"",i)){const i=o.area.coordinates||[],r=o.eventname||"";g||(g=r);const s=ge.a.latLonsToPixelLandingPage(i[0]||[],e,t,v,x,y);n.push(ve(s));const l=fe(s);a.push({pixelCoordinatesArray:l,categoryAlert:r,levelAlert:o.level||"",significance:o.significance,localizedTitle:o.localizedTitle})}}if(!(xe(n,v,x)&&y>6&&u.originUrl&&u.originParams))break;--y}}f=(null==a?void 0:a.length)>0,C=Object.assign(Object.assign({},C),{showRegionData:f,polygonPropsGroup:a})}return{alertMapType:m,showRegionData:f,categoryAlert:g,miniMapSVGProps:C,zoomLevel:y}}getHurricaneData(){var e;const t=this.props.weatherCardMode,a=Object.assign({},this.props.hurricaneContent),i=[];if(null===(e=a.content)||void 0===e||e.forEach(e=>{var a,n;t&&(null===(a=e.renderPlaces)||void 0===a?void 0:a.includes(s.b.CardMinimap))&&i.push(e),!t&&(null===(n=e.renderPlaces)||void 0===n?void 0:n.includes(s.b.L1Minimap))&&i.push(e)}),i.length)return a.content=i,a}getHurricaneRanking(e){return null==e?void 0:e.ranking}getHurricanesLayerProps(e){return{locationMarkerUrl:e.locationMarkerUrl,weatherCardMode:this.props.weatherCardMode,geolocation:this.props.geolocation,width:ge.a.widthMap,height:ge.a.heightMap,maximizeHeightOfMiniMap:e.maximizeHeightOfMiniMap,widthView:e.widthView,heightView:e.heightView,hurricaneContent:this.getHurricaneData(),zoomLevel:0}}getHurricaneLink(e){var t;let a="";const i=/\{(.+?)\}/g,n=/^\//,o={unit:"weadegreetype"};try{const r=this.getHurricaneData(),s=null===(t=null==r?void 0:r.content[0])||void 0===t?void 0:t.destUrl,l=s.match(i),c=function(e){let t=void 0;try{const a=new URL(e);t=new URLSearchParams(a.search)}catch(e){t=void 0}return t}(e);if(a=s,l){const t=(e.startsWith("/")?e:new URL(e).pathname).replace(n,"").split("/")[0];a=t?a.replace("{market}",t):e,l.forEach(e=>{const t=e.slice(1,e.length-1),i=o[t]||t,n=c.get(i);a=n?a.replace(e,n):a.replace(`&${i}=${e}`,"")})}const d=c.get("ocid");d&&(a=a.indexOf("?")>-1?`${a}&ocid=${d}`:`${a}?ocid=${d}`)}catch(t){a=e}return a}getMiniMapType(e,t,a,i){let n=this.defaultMapType;e?n=this.props.enableMovePrecipitationLayers?re:this.props.animationRadar?oe:re:t&&(n=a);const o=i.find(e=>e.type===pe);if((null==o?void 0:o.type)===pe){this.getHurricaneRanking(this.getHurricaneData())<(Oe[n]||Oe.NormalWeather)&&(n=pe)}return n}}Object(Pe.a)(e=>({"@global":{".hideImageAltTagInFF:-moz-loading":{visibility:"hidden"}},miniMapContainer:{position:"relative",width:"100%",height:Object(Je.a)(ge.a.heightMap),border:"0px solid #003fee",cursor:"pointer","& svg":{[Xe.A]:{opacity:"1",fill:Xe.a.buttonText+" !important"}}},miniMapMaximizedContainer:{position:"relative",width:"100%",height:Object(Je.a)(ge.a.maxHeightMap),border:"0px solid #003fee",cursor:"pointer","& svg":{[Xe.A]:{opacity:"1",fill:Xe.a.buttonText+" !important"}}},miniMapButtonGroupContainer:{position:"absolute",width:"40px",height:"180px",border:"0px solid #003fee",top:"15px",left:"18px"},miniMapStaticMap:{position:"absolute",top:"50%",left:"50%",height:"100%",width:"100%","object-fit":"cover",transform:"translate(-50%, -50%)",overflow:"hidden","border-radius":"12px"},miniMapStaticMapVector:{overflow:"hidden","object-fit":"none !important"},miniMapTempLayer:{position:"absolute",top:"50%",left:"50%",height:"100%",width:"100%","object-fit":"cover",transform:"translate(-50%, -50%)",opacity:"0.55","border-radius":"12px"},miniMapExpandContainer:Object.assign(Object.assign({position:"absolute",display:"inline-flex",width:"-webkit-fit-content",height:"32px",right:"16px",bottom:"18px","border-radius":"4px",background:"#FFFFFF",cursor:"pointer","text-decoration":"none"},Object(Ke.a)({border:"1px solid","border-color":"rgb(16, 16, 16)"})),{"&> span:first-child":{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",width:"100%",height:"100%",outline:"none","&> span":{"& > svg":{margin:"8px"}}}}),miniMapExpandButton:{"font-style":"normal","font-weight":"500","font-size":"14px","line-height":"32px","text-align":"center",width:"-webkit-fit-content",color:"#666666","z-index":"1","border-right":"1px solid #ECECEC","padding-left":"10px","padding-right":"10px","&:hover":{color:"#444444"}},miniMapMarker:{position:"absolute",cursor:"pointer","pointer-events":"none",width:"100%",height:"100%","object-fit":"none"}}))(ti);const ai=Object(Pe.a)(e=>({"@global":{".hideImageAltTagInFF:-moz-loading":{visibility:"hidden"}},miniMapContainer:{position:"relative",width:"100%",height:"136px",border:"0px solid #003fee",cursor:"pointer","& svg":{[Xe.A]:{opacity:"1",fill:Xe.a.buttonText+" !important"}}},miniMapContainerLink:Object.assign(Object.assign({"border-bottom":"0px",display:"block",height:"136px"},Object(Ke.a)(Object.assign({border:"1px solid","border-color":"#FFFFFF"},Xe.v))),{[Xe.A]:{border:"1px solid","border-bottom":"1px solid !important","&:focus":{outline:"1px solid highlight !important"}}}),miniMapButtonGroupContainer:{position:"absolute",width:"40px",border:"0px solid #003fee",top:"12px",left:"6px"},miniMapStaticMap:{position:"absolute",top:"50%",left:"50%",height:"100% !important",width:"100%","object-fit":"cover",transform:"translate(-50%, -50%)",overflow:"hidden","border-radius":"4px"},miniMapStaticMapVector:{position:"absolute",top:"50%",left:"50%",height:"100% !important",width:"100%","object-fit":"none",transform:"translate(-50%, -50%)",overflow:"hidden","border-radius":"4px"},miniMapTempLayer:{position:"absolute",top:"50%",left:"50%",height:"100% !important",width:"100%","object-fit":"cover",transform:"translate(-50%, -50%)",opacity:"0.55","border-radius":"4px"},miniMapExpandContainer:Object.assign(Object.assign({position:"absolute",display:"inline-flex",width:"-webkit-fit-content",right:"6px",bottom:"12px","border-radius":"4px",background:"#FFFFFF",cursor:"pointer","& > svg":{padding:"0 8px"},animation:"delayFadeIn ease 0.8s","text-decoration":"none"},Object(Ke.a)({border:"1px solid","border-color":"rgb(16, 16, 16)"})),{"&> span:first-child":{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",width:"100%",height:"100%",outline:"none"}}),miniMapExpandButton:{"font-style":"normal","font-weight":"500","font-size":"12px","line-height":"24px","text-align":"center",width:"-webkit-fit-content",color:"#666666","z-index":"1","border-right":"1px solid #ECECEC","padding-left":"10px","padding-right":"10px","&:hover":{color:"#444444"},"&+ span> svg":{"margin-right":"4px","margin-left":"4px",width:"16px",height:"14px"}},miniMapMarker:{position:"absolute",cursor:"pointer","pointer-events":"none",width:"100%",height:"100%","object-fit":"none"},"@keyframes delayFadeIn":{"0%":{opacity:"0"},"66%":{opacity:"0"},"100%":{opacity:"1"}}}))(ti);var ii,ni=a("o1qX");!function(e){e[e.Init=0]="Init",e[e.StopOnForecast=1]="StopOnForecast",e[e.StopOnMinimap=2]="StopOnMinimap"}(ii||(ii={}));const oi="https://assets.msn.com/weathermapdata/1/static/timeline/rainfall_blue.svg",ri="https://assets.msn.com/weathermapdata/1/static/timeline/snowfall_blue.svg";class si extends Aa.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},Re.b),{forecastContentType:void 0,managedClasses:void 0,currentCondition:void 0,dailyForecast:void 0,alertsInfo:void 0,linksInNewTabProps:void 0,forecastTitle:void 0,requestContext:void 0,isHalfCard:void 0,todayLabel:void 0,className:void 0,seeFullText:void 0,showEditCardHandler:void 0,moreSettingsHandler:void 0,hideWeatherCardHandler:void 0,alterUnitHandler:void 0,settingsMenu:void 0,showOptionsTelemetryTag:void 0,seeFullForecastTelemetryObject:void 0,seeAirQualityTelemetryObject:void 0,multidayForecastTelemetryObject:void 0,headerLinkTelemetryObject:void 0,degreeSwitchTelemetryObject:void 0,editLocationTelemetryTags:void 0,hideWeatherCardTelemetryTags:void 0,moreSettingsTelemetryTags:void 0,minimapImageClickTelemetryObject:void 0,nowcastChartClickTelemetryObject:void 0,editLocationPencilButtonTelemetryTags:void 0,colorTheme:void 0,menuPortalSelector:void 0,menuScrollingSelector:void 0,menuOffsetX:void 0,menuOffsetY:void 0,nowcast:void 0,rotateForecastElements:void 0,rotateToMap:void 0,pauseRotateInHover:void 0,weatherMiniMapProps:void 0,isCardVisible:void 0,isVisualReady:void 0,source:void 0,enableAQI:void 0,useLowerCases:void 0,switchUnitTooltip:void 0,showPencilButton:void 0,dailyForecastRight:void 0,showDailyTemperature:void 0,dailyTempretureDataIndex:void 0}),this.renderForecastRight=()=>{const e=this.props.dailyForecast;return Pa.default.createElement("div",{className:this.props.managedClasses.weather_forecast_right_container},e.slice(0,3).map(this.renderForecastRow))},this.renderForecastContainer=()=>{const{managedClasses:e,forecastContentType:t}=this.props;return Pa.default.createElement("div",{className:Object(ni.a)(e.weather_forecast_container,this.getRotateClassName(t),e.weatherZIndexIncreased)},(t===o.ForecastOnly||t===o.ForecastWithDefaultMinimap)&&this.renderForeCast(5),(t===o.SevereWeatherMinimapOnly||t===o.ForecastWithDefaultMinimap||t===o.HurricaneMinimap)&&this.renderMinimap(),t===o.NowcastOnly&&this.renderNowcast())},this.renderMinimap=()=>{if(this.props.weatherMiniMapProps)return Pa.default.createElement(ai,Object.assign({},this.props.weatherMiniMapProps,{focusHandler:e=>this.onForecastContainerFocus(ii.StopOnMinimap,e),mouseEnterHandler:e=>this.onForecastContainerMouseEnter(ii.StopOnMinimap,e)}))},this.renderForecastRow=(e,t)=>{const a=this.props.managedClasses,i=0===t?this.props.todayLabel:e.dayofWeek,n=`${a.forecastTempRight} ${a.forecastTempRightLow}`;return Pa.default.createElement("ul",{className:a.weatherForecastdayRight},Pa.default.createElement("li",null,Pa.default.createElement("span",{className:a.weatherForecastConditionDayRight,title:i},i)),Pa.default.createElement("li",null,Pa.default.createElement(nt.a,{className:this.props.managedClasses.weatherForecastConditionImageRight,glyphType:Ua.getWeatherGlyph(e.pvdrIcon,!1)})),Pa.default.createElement("li",null,Pa.default.createElement("span",{className:a.forecastTempRight,title:e.highTemperature},e.highTemperature)),Pa.default.createElement("li",null,Pa.default.createElement("span",{className:n,title:e.lowTemperature},e.lowTemperature)))},this.renderForecastColumn=(e,t)=>{const a=0===t?this.props.todayLabel:e.dayofWeek,i=this.props.dailyForecast.length>4?this.props.managedClasses.forecastDayLarge5Column:this.props.managedClasses.forecastDayLarge;return Pa.default.createElement("li",{key:e.id},Pa.default.createElement(Ha.a,Object.assign({},this.props.linksInNewTabProps,{className:Object(ni.a)(this.props.managedClasses.weatherForecastday,i,this.props.managedClasses.withoutProvider),href:e.deepLink,"aria-label":e.ariaText,onFocus:e=>this.onForecastContainerFocus(ii.StopOnForecast,e),onMouseEnter:e=>this.onForecastContainerMouseEnter(ii.StopOnForecast,e)},e.telemetryTag),Pa.default.createElement("div",{className:Object(ni.a)(this.props.managedClasses.weatherForecastConditionDay,[this.props.managedClasses.upperCase,!this.props.useLowerCases])},a),Pa.default.createElement(nt.a,{className:this.props.managedClasses.weatherForecastConditionImage,glyphType:Ua.getWeatherGlyph(e.pvdrIcon,!1)}),Pa.default.createElement("div",{className:this.props.managedClasses.forecastTemp},Pa.default.createElement("div",{className:this.props.managedClasses.tempHigh},e.highTemperature),Pa.default.createElement("div",{className:this.props.managedClasses.tempLow},e.lowTemperature))))},this.onAlternateDegreeSettingClick=e=>{e.preventDefault(),e.stopPropagation();const t="°C"===this.state.unit?s.j.Fahrenheit:s.j.Celsius;this.props.alterUnitHandler(t),Na.a.sendActionEvent(e.target,ee.a.Click,ee.b.Customize)},this.onForecastContainerFocus=(e,t)=>{t.preventDefault(),t.stopPropagation(),this.setState({cardRotationStatus:e,focusOnCity:!1})},this.onForecastContainerMouseEnter=(e,t)=>{this.props.pauseRotateInHover&&(t.preventDefault(),t.stopPropagation(),this.setState({cardRotationStatus:e,focusOnCity:!1}))},this.state={unit:e.currentCondition&&e.currentCondition.degreeSetting,isCardVisible:e.isCardVisible,cardRotationStatus:ii.StopOnForecast,firstRender:!0,focusOnCity:!1},this.cityNameRef=Pa.default.createRef()}componentDidUpdate(){if(this.state.focusOnCity&&this.cityNameRef.current){Object(Pa.findDOMNode)(this.cityNameRef.current).focus()}if(ot.b.ClarityEnabled&&this.cityNameRef.current){const e=Object(Pa.findDOMNode)(this.cityNameRef.current);e&&e.setAttribute("data-clarity-mask","true")}}static getDerivedStateFromProps(e,t){const a=e.isCardVisible&&!t.isCardVisible;return e.isVisualReady&&t.firstRender?{unit:e.currentCondition&&e.currentCondition.degreeSetting,isCardVisible:e.isCardVisible,firstRender:!1,cardRotationStatus:ii.Init,focusOnCity:a||t.focusOnCity}:{unit:e.currentCondition&&e.currentCondition.degreeSetting,isCardVisible:e.isCardVisible,focusOnCity:a||t.focusOnCity}}render(){const{currentCondition:e,managedClasses:t,colorTheme:a,forecastContentType:n}=this.props,r=this.props.alertsInfo&&this.props.alertsInfo.abbreviation&&this.props.alertsInfo.abbreviation.length>=1,s=n===o.ForecastOnly||n===o.ForecastWithDefaultMinimap,l=this.props.isHalfCard&&this.props.dailyForecastRight&&s&&this.props.dailyForecast&&this.props.dailyForecast.length>=3,c=a===i.prong2Theme;return Pa.default.createElement(Ia.a,null,n=>{const o=Object(Be.e)(n),s={background:this.getBackgroundColor(a,o,e.pvdrIcon)},d=this.getAdditionalBackgroundString(o,e),h=d&&a===i.defaultTheme?{background:d}:null;return Pa.default.createElement("div",Object.assign({},this.unhandledProps(),{style:s,className:Object(ni.a)(c?t.prong2_theme:t.default_theme,this.props.className,t.highContrast)}),Pa.default.createElement("div",{style:h,className:t.forecastContainer},e&&Pa.default.createElement(Pa.default.Fragment,null,this.renderTitle(),this.renderCurrentCondition(e,r,l),!this.props.isHalfCard&&this.renderForecastContainer(),this.renderFooter())))})}renderTitle(){const{managedClasses:e,settingsMenu:{menuButtonLabel:t,menuItems:a}}=this.props,i={x:this.props.menuOffsetX?this.props.menuOffsetX:0,y:this.props.menuOffsetY?this.props.menuOffsetY:0};return Pa.default.createElement("div",{className:e.weatherHeader},Pa.default.createElement("div",{className:Object(ni.a)(e.weatherTitle,e.weatherZIndexIncreased,[e.upperCase,!this.props.useLowerCases])},Pa.default.createElement(Ha.a,Object.assign({},this.props.linksInNewTabProps,this.props.headerLinkTelemetryObject?this.props.headerLinkTelemetryObject.render():null,{href:this.props.currentCondition.deepLink,title:this.props.forecastTitle,className:e.weatherCityname,ref:this.cityNameRef}),this.props.forecastTitle),this.renderPencilButton()),Pa.default.createElement("div",{className:Object(ni.a)(e.weatherEditButton,e.weatherZIndexIncreased)},Pa.default.createElement(_a.a,Object.assign({},this.props.showOptionsTelemetryTag,{positionOffset:i,requestContext:this.props.requestContext,zIndex:rt.a.Above+5,jssStyleSheet:at,buttonLabel:t,buttonTitle:t,enabled:!0,menuItems:a,enableVerticalPlacement:!!this.props.menuPortalSelector,portalElementSelector:this.props.menuPortalSelector,scrollingElementSelector:this.props.menuScrollingSelector}))))}renderPencilButton(){if(!this.props.showPencilButton)return null;const e=this.props.settingsMenu.menuItems[0];return Pa.default.createElement("button",Object.assign({"aria-label":e.text,title:e.text},this.props.editLocationPencilButtonTelemetryTags,{onClick:this.props.showEditCardHandler,className:this.props.managedClasses.editPencilButton}),Pa.default.createElement(nt.a,{className:this.props.managedClasses.editPencilIcon,glyphType:e.icon,title:e.text}))}renderCurrentCondition(e,t,a=!1){const{forecastContentType:i,managedClasses:n,switchUnitTooltip:r}=this.props,s=`${n.weatherUnitAlternative} ${a?n.weatherUnitAlternativeMini:""} ${n.weatherZIndexIncreased}`,l=Ua.getWeatherGlyph(e.pvdrIcon,!1),c=!t&&i===o.NowcastOnly,d=Object(ni.a)(n.weatherCurrentCondition,a?n.weatherCurrentConditionMini:""),h=a?n.weatherCurrentConditionMainInfoMini:n.weatherCurrentConditionMainInfo,p=a?n.weatherCurrentConditionImageMini:n.weatherCurrentConditionImage,u=Object(ni.a)(n.weatherCurrentTemperature,a?n.weatherCurrentTemperatureMini:""),g=Object(ni.a)(n.weatherDegreeSetting,a?n.weatherDegreeSettingMini:"");return Pa.default.createElement("div",{style:a?{display:"inline-flex",margin:"12px 0px 10px"}:null},Pa.default.createElement("div",{className:d},Pa.default.createElement("div",{className:h},Pa.default.createElement(nt.a,{className:p,glyphType:l}),Pa.default.createElement("div",{className:u},e.currentTemperature),Pa.default.createElement("div",{className:n.weatherDegreeSwitch},Pa.default.createElement("span",{className:g},e.degreeSetting),Pa.default.createElement("a",Object.assign({role:"button",href:"#","aria-label":r,title:r},this.props.degreeSwitchTelemetryObject?this.props.degreeSwitchTelemetryObject.render():null,{tabIndex:0,className:s,"data-customhandled":"1",onClick:this.onAlternateDegreeSettingClick}),Pa.default.createElement("span",{className:n.weatherTextWithBorderTop},e.alternateDegreeSetting)))),a&&this.renderWeatherInfo(e,!0),!a&&!t&&!c&&this.renderWeatherInfo(e),!a&&!t&&c&&this.renderNowcastSummary(this.props.nowcast.shortSummary),!a&&t&&this.renderAlert(this.props.alertsInfo)),a&&this.renderForecastRight())}renderWeatherInfo(e,t=!1){var a;const i=this.props.managedClasses;if(t||e.aqi||e.precipitation&&e.precipitation.children){const n=`${i.weatherInfo} ${t?i.weatherInfoLeft:""}`,o=`${i.weatherCurrentConditionDetails} ${t?i.weatherCurrentConditionDetailsLeft:""}`;return Pa.default.createElement("div",{className:n},!t&&e.skycode&&e.skycode.children&&Pa.default.createElement("span",{className:o,title:e.skycode.children.toString()},null!==(a=e.shortCap)&&void 0!==a?a:e.skycode.children),this.createCurrentConditionDiv(e,t))}}createCurrentConditionDiv(e,t){var a;const i=this.props.managedClasses,n=this.props.seeAirQualityTelemetryObject?this.props.seeAirQualityTelemetryObject.render():{},o=this.props.isHalfCard&&this.props.showDailyTemperature&&null!=this.props.dailyTempretureDataIndex,s=o&&this.props.dailyForecast[0],l=o&&`H:${s.highTemperature} L:${s.lowTemperature}`,c=`${i.weatherCurrentContainer} ${t?i.weatherCurrentContainerLeft:""}`,d=`${i.weatherCurrentConditionDetails} ${i.weatherCurrentConditionDetailsLeft}`,h=`${i.weatherCurrentConditionPrecipitation} ${t?i.weatherCurrentConditionPrecipitationL:""}`;return Pa.default.createElement("div",{style:{display:t?"flex":"block"}},Pa.default.createElement("ul",{className:c},o&&Pa.default.createElement("li",null,Pa.default.createElement("span",{className:i.weatherDailyConditionDetails,title:l},l)),t&&e.skycode&&e.skycode.children&&Pa.default.createElement("li",null,Pa.default.createElement("span",{className:d,title:e.skycode.children.toString()},null!==(a=e.shortCap)&&void 0!==a?a:e.skycode.children)),(!o&&!t||t&&!(this.props.enableAQI&&r.a.isValidAqi(e.aqi)))&&e.precipitation&&e.precipitation.children&&Pa.default.createElement("li",null," ",Pa.default.createElement(nt.a,{glyphType:Te.b.WaterDrop,height:t?"11px":null}),Pa.default.createElement("span",{className:h,title:e.precipitation.children.toString()},e.precipitation.children)),this.props.enableAQI&&r.a.isValidAqi(e.aqi)&&Pa.default.createElement("li",{className:i.weatherZIndexIncreased},Pa.default.createElement(Ha.a,Object.assign({style:{"border-bottom":"none"}},n,this.props.linksInNewTabProps,{href:this.props.currentCondition.deepLink,tabindex:"-1"}),Pa.default.createElement(nt.a,{glyphType:Te.b.WeatherAQI,width:t?"10px":"12px",height:t?"10px":"12px"}),Pa.default.createElement("span",{className:h},e.aqi)))))}renderNowcastSummary(e){const t=this.props.managedClasses;return Pa.default.createElement("div",{className:t.nowcastSummary},Pa.default.createElement("span",{className:t.nowcastSummaryText},Pa.default.createElement(nt.a,{glyphType:Te.b.WaterDrop})," "+e))}renderAlert(e){const t=this.props.managedClasses;return Pa.default.createElement("div",{className:t.weatherAlertContainer,title:e.title},Pa.default.createElement("span",{className:Object(ni.a)(this.props.managedClasses.weatherAlertText,[this.props.managedClasses.upperCase,!this.props.useLowerCases])},this.renderAlertIcon(e),e.abbreviation[0]),e.abbreviation[1]&&Pa.default.createElement("span",{className:Object(ni.a)(this.props.managedClasses.weatherAlertText,[this.props.managedClasses.upperCase,!this.props.useLowerCases])},e.abbreviation[1]))}renderAlertIcon(e){const t=Ue.a.getAlertIconSvgFillColors(e.significance);return Pa.default.createElement("span",{className:this.props.managedClasses.weatherAlertIcon,role:"img","aria-hidden":"false","aria-label":this.props.alertsInfo.title,title:this.props.alertsInfo.title},Pa.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Pa.default.createElement("path",{d:"M6.77446 3.44842C7.16811 2.79728 8.11588 2.80686 8.49628 3.46584L13.1341 11.5001C13.519 12.1667 13.0379 13 12.2681 13H2.7731C1.99431 13 1.51441 12.1491 1.91733 11.4826L6.77446 3.44842Z",fill:t[0]}),Pa.default.createElement("rect",{x:"7.01489",y:"6",width:"1",height:"4",rx:"0.5",fill:t[1]}),Pa.default.createElement("rect",{x:"7.01489",y:"11",width:"1",height:"1",rx:"0.5",fill:t[1]})))}getRotateClassName(e){if(e!==o.ForecastWithDefaultMinimap)return"";const t=this.props.managedClasses;let a="";switch(this.state.cardRotationStatus){case ii.Init:a=this.props.rotateToMap?t.weather_forecast_container_rotate2:t.weather_forecast_container_rotate;break;case ii.StopOnForecast:a=t.weather_forecast_container_on_forecast;break;case ii.StopOnMinimap:a=t.weather_forecast_container_on_map}return""}renderNowcast(){const e=this.props.nowcast;if(!e)return null;const t={height:136,sliceWidth:192/e.horrizonCount,paddingLeft:49,isRTL:!1,offsetTopTimelineLabel:25,offsetBottomTimelineLabel:36,timelineChannelHeight:0,randomFactor:1},a=Ot(e,this.props.source,e.horrizonCount/2),i=new Ea(a,t),n=i.computeTimestamps();return Pa.default.createElement(Ha.a,Object.assign({},this.props.linksInNewTabProps,this.props.nowcastChartClickTelemetryObject?this.props.nowcastChartClickTelemetryObject.render():{},{href:this.props.currentCondition.deepLink}),Pa.default.createElement("div",{className:this.props.managedClasses.timelineContainer},Pa.default.createElement("svg",{role:"img",viewBox:"0 0 268 136",width:"268",height:"136"},Pa.default.createElement("defs",null,Pa.default.createElement("clipPath",{id:"clip-rect"},this.renderNowcastClipRects(i.computeClip()))),Pa.default.createElement("g",{className:this.props.managedClasses.startStopLines},this.renderNowcastRainStartStopLines(i.computeDashlineXIndexes())),Pa.default.createElement("g",{className:this.props.managedClasses.timelineChannel},Pa.default.createElement("line",{x1:"49",y1:"25",x2:"241",y2:"25",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"49",y1:"50",x2:"241",y2:"50",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"49",y1:"75",x2:"241",y2:"75",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"49",y1:"100",x2:"241",y2:"100",className:this.props.managedClasses.stroke1}),Pa.default.createElement("line",{x1:"49",y1:"103",x2:"49",y2:"109",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"81",y1:"103",x2:"81",y2:"107",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"113",y1:"103",x2:"113",y2:"107",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"145",y1:"103",x2:"145",y2:"109",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"177",y1:"103",x2:"177",y2:"107",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"209",y1:"103",x2:"209",y2:"107",className:this.props.managedClasses.stroke03}),Pa.default.createElement("line",{x1:"242",y1:"103",x2:"242",y2:"109",className:this.props.managedClasses.stroke03})),Pa.default.createElement("g",{className:this.props.managedClasses.timelineLabels},Pa.default.createElement("text",{x:"48",y:"125"},n[0]),Pa.default.createElement("text",{x:"144",y:"125"},n[1]),Pa.default.createElement("text",{x:"241",y:"125"},n[2])),Pa.default.createElement("g",{className:this.props.managedClasses.labels},Pa.default.createElement("image",{x:"23.5",y:"84.5",width:"11",height:"11",href:1!==e.weathertype?oi:ri}),Pa.default.createElement("image",{x:"19.5",y:"57.5",width:"11",height:"11",href:1!==e.weathertype?oi:ri}),Pa.default.createElement("image",{x:"27.5",y:"57.5",width:"11",height:"11",href:0===e.weathertype?oi:ri}),Pa.default.createElement("image",{x:"15.5",y:"32.5",width:"11",height:"11",href:1!==e.weathertype?oi:ri}),Pa.default.createElement("image",{x:"23.5",y:"32.5",width:"11",height:"11",href:0===e.weathertype?oi:ri}),Pa.default.createElement("image",{x:"31.5",y:"32.5",width:"11",height:"11",href:1!==e.weathertype?oi:ri})),Pa.default.createElement("g",{className:this.props.managedClasses.rainCurve},Pa.default.createElement("path",{id:"rain-curve",className:this.props.managedClasses.curvePath,d:i.computeCurve(),"clip-path":"url(#clip-rect)"})))))}renderNowcastClipRects(e){const t=[];for(let a=0;a<e.length;a+=4)t.push(Pa.default.createElement("rect",{x:e[a],y:"25",width:e[a+2],height:"75"}));return t}renderNowcastRainStartStopLines(e){const t=[];for(let a=0;a<e.length;a+=2)t.push(Pa.default.createElement("line",{x1:e[a],x2:e[a+1],y1:"25",y2:"100",className:this.props.managedClasses.stroke05,"stroke-dasharray":"3 3"}));return t}renderForeCast(e){const t=this.props.dailyForecast;return Array.isArray(t)&&0!==t.length?Pa.default.createElement("div",{className:this.props.managedClasses.weatherZIndexIncreased},Pa.default.createElement("ul",Object.assign({},this.props.multidayForecastTelemetryObject?this.props.multidayForecastTelemetryObject.render():{},{className:this.props.managedClasses.weatherMultiday}),t.slice(0,e).map(this.renderForecastColumn))):null}renderFooter(){const e=this.props.seeFullForecastTelemetryObject?this.props.seeFullForecastTelemetryObject.render():{};return Pa.default.createElement("div",{className:this.props.managedClasses.weatherFooter},Pa.default.createElement(Ha.a,Object.assign({},e,this.props.linksInNewTabProps,{className:Object(ni.a)(this.props.managedClasses.weatherActionButton,this.props.managedClasses.fullCardCover),href:this.props.currentCondition.deepLink}),this.props.seeFullText))}getBackgroundColor(e,t,a){let n=null;switch(e){case i.prong2Theme:n=t?Ue.a.getSkyCodeDarkBackgroundGradientColors(a):Ue.a.getSkyCodeLightBackgroundGradientColors(a);break;default:n=Ue.a.getSkyCodeBackgroundGradientColors(a)}return n?n[1]:"linear-gradient(154.81deg, #7cafeb 0%, #1c54a7 100%)"}getAdditionalBackgroundString(e,t){let a=0;return e&&(a+=.1),t.isNight&&(a+=.1),a?`rgba(36, 36, 36, ${a})`:""}}const li=Object(Pe.a)(tt)(si);var ci=a("1kXW");class di extends Re.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},Re.b),{weatherInfoCardTelemetryTags:void 0,managedClasses:void 0,renderState:void 0,forecastProps:void 0,settingsProps:void 0,isHalfCard:void 0,renderEditSettings:void 0}),this.onTransitionEnd=e=>{e.target===this.forecastContainerRef.current&&this.setState({isAnimating:!1})},this.forecastContainerRef=Pa.default.createRef(),this.state={isAnimating:!1,renderState:e.renderState}}render(){const{renderState:e,forecastProps:t,settingsProps:a,managedClasses:i,isHalfCard:n,weatherInfoCardTelemetryTags:o}=this.props,{isAnimating:r}=this.state;if(e===J.Idle)return Pa.default.createElement(We.a,{height:"100%",width:"100%"});const s=t=>e===t||r?"":i.hidden,l=n?i.halfCard:i.fullCard,c=e===J.EditCard?i.edit:"";let d=i.weatherContainer;e!==J.EditCard||r||this.props.settingsProps&&this.props.settingsProps.suggestedLocations&&this.props.settingsProps.suggestedLocations.length&&(d=i.weatherContainerOverflow);const h=s(J.ForecastCard);return Pa.default.createElement(We.a,Object.assign({},o,{className:this.generateClassNames(`${d} ${l}`),width:"100%"}),Pa.default.createElement(Pa.default.Fragment,null,Pa.default.createElement("div",{ref:this.forecastContainerRef,className:`${i.forecast} ${l} ${c}`,onTransitionEnd:this.onTransitionEnd},Pa.default.createElement(li,Object.assign({className:h},t,{isCardVisible:""===h})),this.props.renderEditSettings&&Pa.default.createElement(ci.b,Object.assign({className:s(J.EditCard),show:!!c},a)),!this.props.renderEditSettings&&Pa.default.createElement("div",{className:s(J.EditCard)}))))}static getDerivedStateFromProps(e,t){const a=[J.ForecastCard,J.EditCard],i=e.renderState,n=t.renderState;return{isAnimating:i!==n&&a.includes(i)&&a.includes(n),renderState:i}}}di.defaultProps={experienceName:ze.a.weatherInfoCard};var hi=a("A3Dr"),pi=a("7oW3"),ui=a("k112"),gi=a("KUTD"),mi=a("HxRh"),fi=a("XlyT"),bi=a("KaPL"),yi=a("WfnD"),vi=a("s9+9"),xi=a("LJMo"),Ci=a("hnBi"),wi=a("G82u");class Oi{}Oi.fetchWeatherAutoSuggestSuccess=new wi.a("FetchWeatherAutoSuggestSuccess"),Oi.launchEditCard=new wi.a("LaunchEditCard"),Oi.showSettingsMenu=new wi.a("ShowSettingsMenu"),Oi.switchToForecast=new wi.a("SwitchToForecast"),Oi.updateWeatherDataState=new wi.a("UpdateWeatherDataState"),Oi.updateCurrentLocationState=new wi.a("UpdateCurrentLocationState"),Oi.aboveTheFoldVisualReady=new wi.a("FlodVisuallyReady"),Oi.currentLocationDetected=new wi.a("CurrentLocationDetected");var Ti=a("b3T/"),Si=a("Z3LZ");class ji extends yi.a{constructor(e,t,a,i,o,r,s){super(e,t,a,i,o,r,s),this.addOrUpdateTelemetryObject=(e,t)=>e.addOrUpdateChild({name:t,action:ee.a.Click,behavior:ee.b.Navigate,content:{id:t,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:""}),this.switchToEditCard=e=>{Oi.launchEditCard.getActionSender(this).send()},this.hideWeatherCardHandler=()=>Object(n.b)(this,void 0,void 0,(function*(){const e=yield this.weatherDataConnector.pdpserviceClient.enableDisableWeatherCard(!1);return e&&Ti.b.requestContentAndWebViewRefresh.getActionSender(this).send(),e})),this.moreSettingsHandler=()=>{let e;this.config.moreSettingUrl?(e=this.config.moreSettingUrl.replace("{localeCode}",ot.b.CurrentMarket),e=`${e}?ocid=${Object(c.b)()}`):e="/personalize/settings",window.open(e,"_blank")},this.switchtoForecast=()=>{Oi.switchToForecast.getActionSender(this).send()},this.saveSettingsAndLaunch=(e,t,a)=>Object(n.b)(this,void 0,void 0,(function*(){Object(ui.a)(gi.a.WeatherChange),this.weatherDataConnector.updateSettings(e,t,a,!0,!0).then(()=>{Ti.b.requestContentAndWebViewRefresh.getActionSender(this).send()})})),this.detectMyLocationHandler=()=>Object(n.b)(this,void 0,void 0,(function*(){this.weatherDataConnector.getLocalizedDetectedLocation().then(e=>{Oi.currentLocationDetected.getActionSender(this).send(e)})})),this.alterWeatherUnit=e=>Object(n.b)(this,void 0,void 0,(function*(){Object(ui.a)(gi.a.WeatherChange),this.weatherDataConnector.updateSettings(this.getCurrentState().weatherData.locationDetectionSetting,this.getCurrentState().currentLocation,e,!0,!0).then(()=>{Ti.b.requestContentAndWebViewRefresh.getActionSender(this).send()})})),this.triggerAutoSuggest=e=>{this.getWeatherAutoSuggestData(e)};const l=r.localizedStrings.days;this.localizedWeekdays=[l.sun,l.mon,l.tue,l.wed,l.thu,l.fri,l.sat]}mapStateToProps(e){const t=!e.cardSize||e.cardSize!==bi.a.Size1Wx6H,a={forecastProps:{isHalfCard:t,requestContext:this.requestContext,showEditCardHandler:this.switchToEditCard,alterUnitHandler:this.alterWeatherUnit,moreSettingsHandler:this.moreSettingsHandler,hideWeatherCardHandler:this.hideWeatherCardHandler,showOptionsTelemetryTag:this.showOptionsTelemetryTag,degreeSwitchTelemetryObject:this.degreeSwitchTelemetryObject,seeFullForecastTelemetryObject:this.seeFullForecastTelemetryObject,seeAirQualityTelemetryObject:this.seeAirQualityTelemetryObject,multidayForecastTelemetryObject:this.multidayForecastTelemetryObject,headerLinkTelemetryObject:this.headerLinkTelemetryObject,nowcastChartClickTelemetryObject:this.nowcastChartClickTelemetryObject,editLocationTelemetryTags:this.editLocationTelemetryTags,editLocationPencilButtonTelemetryTags:this.editLocationPencilButtonTelemetryTags,moreSettingsTelemetryTags:this.moreSettingsTelemetryTags,hideWeatherCardTelemetryTags:this.hideWeatherCardTelemetryTags,minimapImageClickTelemetryObject:this.minimapImageClickTelemetryObject,isVisualReady:e.isVisualReady,enableAQI:this.config.enableAQI,weatherMiniMapProps:Object.assign(Object.assign({},this.miniMapTelemetryTags),{showButtonIcon:e.isVisualReady&&!this.config.hideMiniMapButton})},settingsProps:{isHalfCard:t,saveSettingsHandler:this.saveSettingsAndLaunch,cancelSettingsHandler:this.switchtoForecast,autoSuggestHandler:this.triggerAutoSuggest,detectMyLocationHandler:this.detectMyLocationHandler,editTelemetryObject:this.editTelemetryObject,editTelemetryTags:this.editTelemetryTags,autoSuggestTelemetryTags:this.autoSuggestTelemetryTags,detectMyLocationTelemetryTags:this.detectMyLocationTelemetryTags,searchLocationTelemetryTags:this.searchLocationTelemetryTags,editSaveTelemetryObject:this.editSaveTelemetryObject,editCancelTelemetryTags:this.editCancelTelemetryTags,detectLocationTelemetryTags:this.detectLocationTelemetryTags,specifyLocationTelemetryTags:this.specifyLocationTelemetryTags,autoSuggestResultTelemetryTags:this.autoSuggestResultTelemetryTags,degreeTypeTelemetryTags:this.degreeTypeTelemetryTags,fahrenheitTelemetryTags:this.fahrenheitTelemetryTags,celsiusTelemetryTags:this.celsiusTelemetryTags},requestContext:this.requestContext,weatherInfoCardTelemetryTags:this.weatherTelemetryTags},i=_e.inspect({config:this.config,state:e,connectorArgs:a});this.postProcessOnPros(i.props);const n=i.props.forecastProps;return n&&n.isHalfCard&&(this.hasDailyTempFlightChecked||n.alertsInfo&&n.alertsInfo.abbreviation&&n.alertsInfo.abbreviation.length>=1||n.forecastContentType==o.NowcastOnly||(this.setTmplFlightTelemetry(V,$,G),this.hasDailyTempFlightChecked=!0),this.hasFcastHalfFlightChecked||n.forecastContentType!==o.ForecastOnly&&n.forecastContentType!==o.ForecastWithDefaultMinimap||(this.setTmplFlightTelemetry(X,Z,Q),this.hasFcastHalfFlightChecked=!0)),Object.assign(Object.assign({},this.telemetryTags),i.props)}onComponentConnect(e){var t,a;return Object(n.b)(this,void 0,void 0,(function*(){yi.a.prototype.onComponentConnect.call(this,e);const i=e.serviceContextMetadata;if(!i)return this.supportedRiverCardSizes=bi.a.None,void Na.a.sendAppErrorEvent(Object.assign(Object.assign({},mi.wd),{message:"InitialProps must have serviceContextMetadata"}));const o=i.type;if(!o||o!==xi.a.WeatherSummary&&o!==xi.a.WeatherSummary_spotlight)return this.supportedRiverCardSizes=bi.a.None,void Na.a.sendAppErrorEvent(Object.assign(Object.assign({},mi.wd),{message:"InitialProps must have type WeatherSummary or WeatherSummary_spotlight",pb:Object.assign(Object.assign({},mi.wd.pb),{customMessage:"Expecting type WeatherSummary, but got "+o})}));const l=i.data;try{this.weatherReponse=JSON.parse(l)}catch(e){return this.supportedRiverCardSizes=bi.a.None,void Object(fi.c)(e,mi.wd,"Data from IDX is not a proper json document",l)}if(!this.weatherReponse.userProfile||!this.weatherReponse.userProfile.location)return this.supportedRiverCardSizes=bi.a.None,void Na.a.sendAppErrorEvent(Object.assign(Object.assign({},mi.wd),{message:"weatherReponse does not have location info properly defined"}));const c=this.weatherReponse.userProfile.location,d=r.a.parseWeatherLocation(c);Oi.updateCurrentLocationState.getActionSender(this).send(d);let h=s.d.DetectCurrentLocation,p=null;try{if(this.weatherReponse.userProfile.locationSettingMode&&(h=Number(this.weatherReponse.userProfile.locationSettingMode)),p=Object.assign(Object.assign({},r.a.parseWeatherData(this.weatherReponse,d)),{locationDetectionSetting:h}),this.supportedRiverCardSizes=bi.a.Size1Wx6H|bi.a.Size1Wx3H,Oi.updateWeatherDataState.getActionSender(this).send(p),(null===(t=p.contentData)||void 0===t?void 0:t.length)>0){const e=(null===(a=p.contentData[0].content)||void 0===a?void 0:a.length)||0;Na.a.addOrUpdateTmplProperty(s.c.Hurricane,e.toString())}this.isValidAlert(p.alertsInfo)&&this.isWarningSeverity(p.alertsInfo.significance)&&(q.includes(p.alertsInfo.class)&&Na.a.addOrUpdateTmplProperty(B,p.alertsInfo.class),Y.includes(p.alertsInfo.id)?Na.a.addOrUpdateTmplProperty(z,p.alertsInfo.class):K.includes(p.alertsInfo.id)&&Na.a.addOrUpdateTmplProperty(U,p.alertsInfo.class))}catch(e){return this.supportedRiverCardSizes=bi.a.None,void Object(fi.c)(e,mi.wd,"Data from IDX cannot be parsed as WeatherSummary",l)}this.generateTelemetryTags(),Object(Si.j)().then(()=>{Ci.a.getInstance().rootReducer.getDataConnector(vi.a.WeatherData).then(e=>Object(n.b)(this,void 0,void 0,(function*(){e&&(this.weatherDataConnector=e,pi.a.updateLocationDetectionState.getActionSender(e).send(h,d))}))),Oi.aboveTheFoldVisualReady.getActionSender(this).send()})}))}setTmplFlightTelemetry(e,t,a){if(l.b.CurrentFlights&&l.b.CurrentFlights.indexOf(e)>-1||l.b.CurrentFlights.indexOf(t)>-1){const i=l.b.CurrentFlights.split(",").find(a=>a.startsWith(e,0)||a.startsWith(t,0));i&&Na.a.addOrUpdateTmplProperty(a,i)}}isValidAlert(e){return e&&e.class&&e.significance}isWarningSeverity(e){return"P"==e||"R"==e}generateTelemetryTags(){if(!this.telemetryObject||this.weatherTelemetryTags)return;const e=this.telemetryObject.addOrUpdateChild({name:g,type:ee.d.Module});this.weatherTelemetryTags=e.render(),this.seeFullForecastTelemetryObject=e.addOrUpdateChild({name:f,action:ee.a.Click,behavior:ee.b.Navigate,content:{id:f,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:""}),this.seeAirQualityTelemetryObject=this.addOrUpdateTelemetryObject(e,b),this.headerLinkTelemetryObject=e.addOrUpdateChild({name:y,action:ee.a.Click,behavior:ee.b.Navigate,content:{id:y,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:""}),this.nowcastChartClickTelemetryObject=e.addOrUpdateChild({name:k,action:ee.a.Click,behavior:ee.b.Navigate,content:{id:k,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:""}),this.multidayForecastTelemetryObject=e.addOrUpdateChild({name:v,content:{category:m,type:ee.d.Module,vertical:m}}),this.showOptionsTelemetryTag=e.addOrUpdateChild({name:C,action:ee.a.Click,behavior:ee.b.More,content:{id:C,category:m,headline:C,type:ee.c.StructuredData,vertical:m},destinationUrl:""}).render(),this.degreeSwitchTelemetryObject=e.addOrUpdateChild({name:w,action:ee.a.Click,behavior:ee.b.Customize,content:{id:w,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:""}),this.editLocationTelemetryTags=e.addOrUpdateChild({name:M,action:ee.a.Click,behavior:ee.b.More,content:{id:M,category:m,headline:"Edit Location",type:ee.c.StructuredData,vertical:m},destinationUrl:"",type:ee.d.ActionButton}).render(),this.editLocationPencilButtonTelemetryTags=e.addOrUpdateChild({name:S,action:ee.a.Click,behavior:ee.b.Customize,content:{id:S,category:m,headline:"Edit Location",type:ee.c.StructuredData,vertical:m},destinationUrl:"",type:ee.d.ActionButton}).render(),this.hideWeatherCardTelemetryTags=e.addOrUpdateChild({name:j,action:ee.a.Click,behavior:ee.b.More,content:{id:j,category:m,headline:"Hide weather card",type:ee.c.StructuredData,vertical:m},destinationUrl:"",type:ee.d.ActionButton}).render(),this.moreSettingsTelemetryTags=e.addOrUpdateChild({name:O,action:ee.a.Click,behavior:ee.b.More,content:{id:O,category:m,headline:O,vertical:m},destinationUrl:"",type:ee.d.ActionButton}).render(),this.minimapImageClickTelemetryObject=e.addOrUpdateChild({name:T,action:ee.a.Click,content:{id:T,category:m,headline:T,vertical:m},destinationUrl:""});const t=e.addOrUpdateChild({name:F,content:{id:F,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:""});this.editTelemetryObject=t,this.editTelemetryTags=t.render(),this.degreeTypeTelemetryTags=t.addOrUpdateChild({name:D,action:ee.a.Click,behavior:ee.b.Customize,content:{id:D,category:m,headline:"",vertical:m},destinationUrl:"",type:ee.d.Interaction}).render(),this.fahrenheitTelemetryTags=e.addOrUpdateChild({name:E,action:ee.a.Click,behavior:ee.b.Customize,content:{id:E,category:m,headline:"F",vertical:m},type:ee.d.ActionButton}).render(),this.celsiusTelemetryTags=e.addOrUpdateChild({name:L,action:ee.a.Click,behavior:ee.b.Customize,content:{id:L,category:m,headline:"C",vertical:m},type:ee.d.ActionButton}).render(),this.editSaveTelemetryObject=t.addOrUpdateChild({name:N,action:ee.a.Click,behavior:ee.b.Save,content:{id:N,category:m,headline:"save",type:ee.c.StructuredData,vertical:m},destinationUrl:""}),this.editCancelTelemetryTags=t.addOrUpdateChild({name:I,action:ee.a.Click,behavior:ee.b.Cancel,content:{id:I,category:m,headline:"cancel",type:ee.c.StructuredData,vertical:m},destinationUrl:""}).render(),this.detectLocationTelemetryTags=t.addOrUpdateChild({name:_,action:ee.a.Click,behavior:ee.b.Customize,content:{id:_,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:"",type:ee.d.ActionButton}).render(),this.specifyLocationTelemetryTags=t.addOrUpdateChild({name:A,action:ee.a.Click,behavior:ee.b.Customize,content:{id:A,category:m,headline:"",type:ee.c.StructuredData,vertical:m},destinationUrl:"",type:ee.d.ActionButton}).render(),this.searchLocationTelemetryTags=t.addOrUpdateChild({name:H,content:{id:H,category:m,headline:"",vertical:m},destinationUrl:"",type:ee.d.Module}).render(),this.autoSuggestTelemetryTags=t.addOrUpdateChild({name:P,content:{id:P,headline:"",category:m,vertical:m},destinationUrl:"",type:ee.d.InputBox}).render(),this.detectMyLocationTelemetryTags=t.addOrUpdateChild({name:W,action:ee.a.Click,behavior:ee.b.Customize,content:{id:W,category:m,headline:"",vertical:m},destinationUrl:"",type:ee.d.DropDown}).render(),this.autoSuggestResultTelemetryTags=t.addOrUpdateChild({name:R,action:ee.a.Click,behavior:ee.b.Customize,content:{id:R,category:m,headline:"",vertical:m},destinationUrl:"",type:ee.d.DropDown}).render();const a=e.addOrUpdateChild({name:"Minimap",content:{id:"Minimap",type:ee.c.StructuredData,category:m,vertical:m}});this.miniMapTelemetryTags={weatherMapTelemetryTags:a.render(),weatherMapTemperatueTags:this.buildChild(a,"Temperatue",ee.b.Navigate,ee.a.Click,"Temperatue"),weatherMapWindTags:this.buildChild(a,"Wind",ee.b.Navigate,ee.a.Click,"Wind"),weatherMapPrecipitationTags:this.buildChild(a,"Precipitation",ee.b.Navigate,ee.a.Click,"Precipitation"),weatherMapExpandTags:this.buildChild(a,"Expand",ee.b.Navigate,ee.a.Click,"Expand"),weatherMapRadarTags:this.buildChild(a,"Radar",ee.b.Navigate,ee.a.Click,"Radar"),weatherMapCloudTags:this.buildChild(a,"Cloud",ee.b.Navigate,ee.a.Click,"Cloud"),weatherMapHurricaneTags:this.buildChild(a,"Hurricane",ee.b.Navigate,ee.a.Click,"Hurricane"),weatherMapEditorialTags:this.buildChild(a,"Editorial",ee.b.Navigate,ee.a.Click,"Editorial"),weatherMapWinterstormTags:this.buildChild(a,"Winterstorm",ee.b.Navigate,ee.a.Click,"Winterstorm"),weatherMapWildfireTags:this.buildChild(a,"Wildfire",ee.b.Navigate,ee.a.Click,"Wildfire"),weatherMapAirQualityTags:this.buildChild(a,"AirQuality",ee.b.Navigate,ee.a.Click,"AirQuality")}}postProcessOnPros(e){e.forecastProps&&e.forecastProps.dailyForecast&&e.forecastProps.dailyForecast.forEach(e=>{e.dayofWeek=this.localizedWeekdays[e.day.getDay()]})}getWeatherAutoSuggestData(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=yield this.weatherDataConnector.getAutoSuggestResponse(e);return null!==t&&(Oi.fetchWeatherAutoSuggestSuccess.getActionSender(this).send(t),!0)}))}buildChild(e,t,a,i,n){const o={name:t,behavior:a||ee.b.Undefined,action:i||ee.a.Click};return n&&(o.content={headline:n}),(e||this.telemetryObject).addOrUpdateChild(o).render()}}var Mi=a("5p4t"),ki=a("05Au"),Fi=a("ujfH");class Di{constructor(){this.initialState={cardRenderState:J.Idle,autoSuggestState:Fi.a.AutoSuggestSuccess,isVisualReady:!1,weatherData:null,error:!1}}reduce(e,t){if(!e)return this.initialState;if(!t)return e;let a=null;return ki.a.handleAction(t,Oi.updateCurrentLocationState,t=>{a=Object.assign({},e),a.currentLocation=t,a.subRegion=""}),ki.a.handleAction(t,Oi.updateWeatherDataState,t=>{a=Object.assign({},e);const i=Object.assign({},t);i.currentLocation&&(i.currentLocation.subRegion=""),a.weatherData=i,i.currentLocation&&(a.currentLocation=i.currentLocation)}),ki.a.handleAction(t,Oi.launchEditCard,()=>{a=Object.assign({},e),a.error=!1,a.cardRenderState=J.EditCard,a.switchCardRenderState=!0,e.shouldWeatherEditSettingsComponentMount||(a.shouldWeatherEditSettingsComponentMount=!0)}),ki.a.handleAction(t,Oi.showSettingsMenu,t=>{a=Object.assign({},e),a.error=!1,a.showSettingsMenu=t}),ki.a.handleAction(t,Oi.switchToForecast,()=>{a=Object.assign({},e),a.error=!1,a.cardRenderState=J.ForecastCard,a.autoSuggestions&&a.autoSuggestions.length>0&&(a.autoSuggestions=[])}),ki.a.handleAction(t,Oi.aboveTheFoldVisualReady,()=>{a=Object.assign({},e),a.isVisualReady=!0}),ki.a.handleAction(t,Oi.fetchWeatherAutoSuggestSuccess,t=>{a=Object.assign({},e),a.autoSuggestions=t,t&&t.length>0?a.autoSuggestState=Fi.a.AutoSuggestSuccess:a.autoSuggestState=Fi.a.AutoSuggestFailed}),ki.a.handleAction(t,Oi.currentLocationDetected,t=>{a=Object.assign({},e),a.detectedLocation=t}),ki.a.handleAction(t,Mi.a.changeCardSize,(t,i,n,o)=>{e.cardSize!==t&&(a=Object.assign(Object.assign({},e),{cardSize:t}))}),a||e}}var Ei=a("GjDW"),Li=a("klPS"),Ni=a("I/jf");const Ii=Object(Pe.a)(e=>({forecast:{transform:"translateX(0)",transition:"transform 0.5s ease-in-out",display:"grid","grid-template-columns":"1fr 1fr",width:"200%"},edit:{transform:Object(Ye.c)("translateX(-50%)","translateX(50%)")},hidden:{visibility:"hidden"},fullCard:{height:"304px"},halfCard:{height:"146px"},weatherContainer:{overflow:"hidden","&, & *, & ::after, &::before":{"box-sizing":"border-box"}},weatherContainerOverflow:{overflow:"visible","&, & *, & ::after, &::before":{"box-sizing":"border-box"}}}))(di),_i={defaultMockState:He.baseState,experienceConfigSchema:hi.WeatherInfoCardConfigSchema,inspector:_e.inspect,mockConfig:Ei.mockConfig,mockState:He.mockStates,mockConnectorArgs:Li.mockConnectorArgs,reactComponent:Ii}},NZin:function(e,t,a){"use strict";a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return x})),a.d(t,"a",(function(){return C}));var i=a("fz//"),n=a("3ZGc"),o=a("mIHV"),r=a("PfRV"),s=a("BOd3"),l=a("QhQn"),c=a("SP+O"),d=a("7b0X"),h=a("XI4f"),p=a("X9F+"),u=a("zP2P"),g=a("GaXA"),m=a("8yfO"),f=a("mDtb"),b=a("MF9s"),y=a("objN");function v(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(m.a)("t7")),Object(f.a)()),{background:s.c,border:Object(i.a)("{0} solid {1}",Object(n.a)(b.X),l.c),color:c.c,"font-family":"inherit","box-sizing":"border-box",padding:Object(i.a)("0 {0}",Object(u.f)(b.X))}),Object(r.a)()),{margin:"0",transition:"all 0.2s ease-in-out","&:hover:enabled":{background:s.b,"border-color":l.b,[y.A]:{background:y.a.buttonBackground,border:Object(i.a)("{0} solid {1}",Object(n.a)(b.X),()=>y.a.selectedBackground)}},"&:active:enabled":{background:s.a,"border-color":l.a},"&:focus:enabled":Object.assign({"box-shadow":Object(i.a)("0 0 0 1px {0} inset",d.a),"border-color":d.a,outline:"none"},y.v),"&:disabled":Object.assign(Object.assign({},Object(g.a)()),y.i),"&::placeholder":{color:Object(h.a)(s.c),[y.A]:{color:y.a.disabledText}},[y.A]:Object.assign(Object.assign({},y.t),{background:y.a.buttonBackground,"border-color":y.a.buttonText,color:y.a.buttonText})})}function x(){return Object.assign(Object.assign({},v()),{background:p.c,border:Object(i.a)("{0} solid transparent",Object(n.a)(b.X)),"&:hover:enabled":{background:p.b,"border-color":"transparent",[y.A]:{background:y.a.buttonBackground,border:Object(i.a)("{0} solid {1}",Object(n.a)(b.X),()=>y.a.selectedBackground)}},"&:active:enabled":{"border-color":"transparent"},"&:focus:enabled":{"border-color":d.a},"&::placeholder":{color:Object(h.a)(p.c),[y.A]:{color:y.a.disabledText}},[y.A]:Object.assign(Object.assign({},y.t),{background:y.a.buttonBackground,"border-color":y.a.buttonText})})}const C={"box-shadow":Object(i.a)("0 0 0 2px {0}, 0 0 0 {2} {1}",b.k,d.a,Object(n.a)(Object(o.a)(b.s,2)))}},PS8o:function(e,t,a){"use strict";a.d(t,"b",(function(){return y}));var i=a("fz//"),n=a("3ZGc"),o=a("mIHV"),r=a("rRWH"),s=a("iuMt"),l=a("PfRV"),c=a("SP+O"),d=a("QhQn"),h=a("BOd3"),p=a("X9F+"),u=a("7b0X"),g=a("zP2P"),m=a("MF9s"),f=a("GaXA"),b=a("objN");const y={textField:Object.assign({height:"calc(100% - 4px)",margin:"2px 1px",border:"none",flex:"1 0 0px",background:"transparent","min-width":"inherit","&:hover, &:hover:enabled, &:disabled, &:active, &:active:enabled, &:focus, &:focus:enabled":Object.assign({background:"none",border:"none","box-shadow":"none"},b.f)},b.m)},v=Object.assign({width:g.b,height:g.b,margin:"auto",fill:c.c},b.m),x={textAction:Object.assign(Object.assign(Object.assign({"box-sizing":"border-box",position:"relative",height:Object(g.d)(),margin:"0","min-width":"92px",border:Object(i.a)("{0} solid {1}",Object(n.a)(m.X),d.c),background:h.c},Object(l.a)()),{display:"flex","flex-direction":"row",transition:"all 0.2s ease-in-out","&:hover":{background:h.b,"border-color":d.b,[b.A]:{background:"transparent","border-color":b.a.selectedBackground}},"&:active":{background:h.a,"border-color":d.a}}),b.u),textAction__filled:{background:p.c,border:Object(i.a)("{0} solid transparent",Object(n.a)(m.X)),"&:hover":{background:p.b,"border-color":"transparent",[b.A]:{background:b.a.buttonBackground,"border-color":b.a.selectedBackground}},"&:active":{background:p.a,"border-color":"transparent"},[b.A]:{background:b.a.buttonBackground,border:Object(i.a)("{0} solid {1}",Object(n.a)(m.X),()=>b.a.buttonText)}},textAction__outline:{},textAction__focus:{"&, &:hover":{"box-shadow":Object(i.a)("0 0 0 {0} {1} inset",Object(n.a)(Object(o.d)(m.s,m.X)),u.a),border:Object(i.a)("{0} solid {1}",Object(n.a)(m.X),u.a)},[b.A]:{"&, &:hover":{"box-shadow":Object(i.a)("0 0 0 {0} {1} inset",Object(n.a)(Object(o.d)(m.s,m.X)),()=>b.a.buttonText),border:Object(i.a)("{0} solid {1}",Object(n.a)(m.X),()=>b.a.buttonText)}}},textAction__disabled:Object.assign(Object.assign(Object.assign({},Object(f.a)()),b.i),{"&:hover":{background:h.c,"border-color":d.c},"&:active":{background:h.c,"border-color":d.c},"& $textAction_beforeGlyph, & $textAction_afterGlyph":Object.assign({},b.j)}),textAction_button:Object.assign({"border-color":"transparent",color:c.c,fill:c.c,height:Object(i.a)("calc({0} - 6px)",Object(g.d)()),"min-width":"fit-content",margin:"2px",padding:"0 5px",left:Object(r.c)("0",""),right:Object(r.c)("","0"),top:"0",transition:"color .1s, background-color .1s, border-color 0.2s ease-in-out",flex:"0 0 auto",cursor:"pointer",[b.A]:{background:b.a.buttonBackground,fill:b.a.buttonText},"&:hover":Object.assign({},b.w),"&:active":Object.assign({},b.w),"&:disabled":{}},Object(s.a)({[b.A]:{background:b.a.selectedBackground,fill:b.a.selectedText,"border-color":Object(i.b)(b.a.buttonText),"box-shadow":Object(i.a)("0 0 0 {0} inset {1}",Object(n.a)(m.s),()=>b.a.buttonBackground)}})),textAction_beforeGlyph:Object.assign(Object.assign({},v),{"margin-left":Object(r.c)(Object(g.f)(1),""),"margin-right":Object(r.c)("",Object(g.f)(1))}),textAction_afterGlyph:Object.assign(Object.assign({},v),{"margin-left":Object(r.c)("",Object(g.f)(1)),"margin-right":Object(r.c)(Object(g.f)(1),"")})};t.a=x},YajO:function(e,t,a){"use strict";var i=a("iuMt"),n=a("s6ks"),o=a("SP+O"),r=a("X9F+"),s=a("7b0X"),l=a("objN");const c=Object.assign(Object.assign({},n.a),{button:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(n.b)()),{color:o.c,fill:o.c,background:r.c,"&:hover:enabled, a&:not($button__disabled):hover":Object.assign({background:r.b},l.w),"&:active:enabled, a&:not($button__disabled):active":{background:r.a}}),Object(i.a)(Object.assign({"border-color":s.a},l.v))),{"&:disabled":Object.assign({},l.i),"&::-moz-focus-inner":{border:"0"}}),l.u),{"a&:not($button__disabled)":Object.assign(Object.assign({},l.r),{"&:not($button__disabled):hover":Object.assign({},l.p),"&$button__disabled":Object.assign({},l.i)})})});t.a=c},aSuZ:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return m}));var i=a("mDtb"),n=a("QhQn"),o=a("SP+O"),r=a("8yfO"),s=a("X9F+"),l=a("objN"),c=a("XI4f"),d=a("rRWH"),h=a("AuhI"),p=a("3ZGc"),u=a("0fst");const g="@media (-ms-high-contrast:active)";t.b=e=>({actionButtonContainer:{display:"grid","grid-template":"32px / 1fr 1fr","grid-column-gap":"10px",width:"60%",height:"32px"},settingsControlsContainer:{display:"flex","flex-direction":"column","justify-content":"space-between","flex-grow":"0.8"},specifyLocationContainer:{display:"flex","flex-direction":"column"},settingControlsMarginTopFullCard:{"margin-top":"0px"},settingControlsMarginTopHalfCard:{"margin-top":"0px"},setDegree:{display:"flex"},editFieldset:{border:"none",margin:"0",padding:"0"},editTitle:Object.assign(Object.assign({},Object(i.b)()),{"border-color":n.c,"letter-spacing":"0.7px","text-transform":"uppercase","&&&":{color:o.c,"padding-bottom":"8px"}}),locationChoice:{display:"flex","max-width":"272px"},locationChoiceMarginBottomFullCard:{"margin-bottom":"12px"},locationChoiceMarginBottomHalfCard:{"margin-bottom":"6px"},settingsContainer:Object.assign(Object.assign({},Object(r.b)("t7")),{padding:"12px 16px",display:"flex","justify-content":"space-between","flex-direction":"column",color:o.c,position:"relative","max-width":"300px"}),unitsTextvis:Object.assign(Object.assign(Object.assign({},Object(i.b)()),Object(r.b)("t8")),{"letter-spacing":"0.7px","text-transform":"uppercase","font-weight":"600"}),unitTextMargin:{"&&&":{"margin-bottom":"12px"}},unitTextMarginV2:{"&&&":{"margin-bottom":"20px"}},radioInput:{[Object(d.b)("margin-left","margin-right",e.direction)]:"0px"},radioLabel:Object.assign(Object.assign({},Object(h.a)(1,Object(r.d)("t7"))),{"text-overflow":"ellipsis",[Object(d.b)("margin-left","margin-right",e.direction)]:"3px"}),specifyLocationLabel:Object.assign(Object.assign({},Object(h.a)(1,Object(r.d)("t7"))),{"text-overflow":"ellipsis","margin-bottom":"16px"}),unitChoice:{"max-width":"130px","&+&":{[Object(d.b)("margin-left","margin-right",e.direction)]:"12px"}},saveSpinner:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0","justify-content":"center","align-items":"center","z-index":""+u.a.Over,"user-select":"none","&:not([hidden])":{display:"flex"}},autoSuggestForm:{position:"relative"},autoSuggestTextSelected:{background:s.a,[g]:{background:l.a.selectedBackground}},autoSuggestPopup:Object.assign(Object.assign({},Object(h.a)(1,Object(r.d)("t7")+10)),{"text-overflow":"ellipsis","word-wrap":"break-word",padding:"5px"}),autoSuggestText:{"&:hover, &:focus":{cursor:"pointer",color:o.b,background:s.a}},detectMyLocationPopup:{display:"flex","align-items":"center",color:"#0078D4",[g]:{color:l.a.text},"&:hover, &:focus":{cursor:"pointer",background:s.a}},autoSuggestContainer:{"list-style":"none",background:e.backgroundColor,border:e.outlineWidth+"px solid","border-color":n.c,"border-radius":Object(p.a)(e.cornerRadius),position:"absolute",margin:"0",padding:"0",width:"100%","z-index":""+u.a.Above,outline:"none"},weatherSave:{width:"104px",height:"32px","border-radius":"20px",[g]:{"&:focus":{outline:e.outlineWidth+"px solid highlight"}}},weatherCancel:{width:"104px",height:"32px","border-radius":"20px",[g]:{"&:focus":{outline:e.outlineWidth+"px solid highlight"}}},locationDetectionButton:{fill:"#0078D4",[Object(d.b)("margin-right","margin-left",e.direction)]:"5px",[g]:{fill:l.a.text}}});const m={textAction:{"& input::-ms-clear":{display:"none"},"& input::-webkit-search-cancel-button":{display:"none"},"& input::placeholder":{color:c.a},"& input::-ms-input-placeholder":{color:c.a}}}},klPS:function(e,t){},qYO7:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("+viU"),n=a("vXlU"),o=a("cSKQ"),r=a("yR4y");const s=Object(i.a)(n.a)(o.default);s.displayName=r.a+"AccentButton"},ujfH:function(e,t,a){"use strict";var i;a.d(t,"a",(function(){return i})),function(e){e[e.AutoSuggestSuccess=1]="AutoSuggestSuccess",e[e.AutoSuggestFailed=2]="AutoSuggestFailed"}(i||(i={}))},vXlU:function(e,t,a){"use strict";var i=a("iuMt"),n=a("fz//"),o=a("s6ks"),r=a("9CwC"),s=a("aP31"),l=a("7b0X"),c=a("objN");const d=Object.assign(Object.assign({},o.a),{button:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(o.b)()),{color:r.a,fill:r.a,background:s.c,"&:hover:enabled, a&:not($button__disabled):hover":Object.assign(Object.assign({background:s.b},c.z),{"& $button_beforeContent, & $button_afterContent":Object.assign({},c.o)}),"&:active:enabled, a&:not($button__disabled):active":{background:s.a}}),Object(i.a)(Object.assign({"border-color":l.a,"box-shadow":Object(n.a)("0 0 0 2px inset {0}",Object(l.b)(s.c))},c.k))),{"&:disabled":Object.assign(Object.assign({},c.i),{"& $button_beforeContent, & $button_afterContent":Object.assign({},c.j)}),"& $button_beforeContent, & $button_afterContent":Object.assign({fill:r.a},c.y)}),c.b),{"a&:not($button__disabled)":Object.assign(Object.assign({},c.r),{"& $button_beforeContent, & $button_afterContent":Object.assign({},c.q),"&:not($button__disabled):hover":Object.assign(Object.assign({},c.p),{"& $button_beforeContent, & $button_afterContent":Object.assign({},c.q)}),"&$button__disabled":Object.assign(Object.assign({},c.i),{"& $button_beforeContent, & $button_afterContent":Object.assign({},c.j),"&:hover":{[c.A]:{"box-shadow":"none !important"},"& $button_beforeContent, & $button_afterContent":Object.assign({},c.j)}})})})});t.a=d}}]);