(window.webpackJsonp=window.webpackJsonp||[]).push([["money-info-card"],{AMBy:function(e,t,i){"use strict";function s(e,t){return"function"==typeof IntersectionObserver?new IntersectionObserver(e,t):null}i.d(t,"a",(function(){return s}))},C8Ey:function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var s=i("MF9s"),n=i("6QMD"),a=i("LCcN");const o=Object(n.d)(Object(a.a)(s.W,4.5,0,s.O,s.M,s.N)),r=Object(n.j)(n.a.rest,o),l=Object(n.j)(n.a.hover,o),c=Object(n.j)(n.a.active,o);Object(n.j)(n.a.focus,o)},SlaX:function(e,t){},"W/JY":function(e,t){},apM7:function(e,t,i){"use strict";i.r(t),i.d(t,"MoneyInfoCard",(function(){return pt})),i.d(t,"MoneyInfoCardActions",(function(){return we})),i.d(t,"MoneyInfoCardConnector",(function(){return dt})),i.d(t,"SecurityType",(function(){return I})),i.d(t,"MoneyCardType",(function(){return j})),i.d(t,"QuoteSummaryDataType",(function(){return k})),i.d(t,"MoneyInfoCardReducer",(function(){return mt})),i.d(t,"ToolingInfo",(function(){return bt}));var s=i("+viU"),n=i("W/JY"),a=i("SlaX"),o=i("p+1C"),r=i("D57K"),l=i("5mwN"),c=i("AMBy"),d=i("qBHm"),u=i("Xjb4");const h=u.default.createElement("svg",{width:"6",height:"8",viewBox:"0 0 6 8",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M0.619978 4.43538C0.324388 4.23734 0.324388 3.80266 0.619978 3.60461L5.22169 0.521466C5.55389 0.298892 6 0.536982 6 0.936851V7.10314C6 7.50301 5.55389 7.7411 5.22169 7.51853L0.619978 4.43538Z"})),g=u.default.createElement("svg",{width:"6",height:"8",viewBox:"0 0 6 8",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M5.38002 3.60466C5.67561 3.8027 5.67561 4.23738 5.38002 4.43543L0.778311 7.51857C0.446111 7.74115 3.3848e-06 7.50306 3.41976e-06 7.10319L3.95884e-06 0.936895C3.99379e-06 0.537025 0.446112 0.298936 0.778311 0.52151L5.38002 3.60466Z"})),m=u.default.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M10.0013 1.6665C14.6036 1.6665 18.3346 5.39746 18.3346 9.99984C18.3346 14.6022 14.6036 18.3332 10.0013 18.3332C5.39893 18.3332 1.66797 14.6022 1.66797 9.99984C1.66797 5.39746 5.39893 1.6665 10.0013 1.6665ZM12.6844 7.47456L8.95964 11.1993L7.31824 9.55792C7.07417 9.31384 6.67844 9.31384 6.43436 9.55792C6.19029 9.802 6.19029 10.1977 6.43436 10.4418L8.51772 12.5251C8.7618 12.7692 9.15747 12.7692 9.40155 12.5251L13.5682 8.35842C13.8123 8.11437 13.8123 7.71864 13.5682 7.47456C13.3241 7.23049 12.9285 7.23049 12.6844 7.47456Z"})),p=u.default.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M6 10C6 9.72386 6.22386 9.5 6.5 9.5H9.5V6.5C9.5 6.22386 9.72386 6 10 6C10.2761 6 10.5 6.22386 10.5 6.5V9.5H13.5C13.7761 9.5 14 9.72386 14 10C14 10.2761 13.7761 10.5 13.5 10.5H10.5V13.5C10.5 13.7761 10.2761 14 10 14C9.72386 14 9.5 13.7761 9.5 13.5V10.5H6.5C6.22386 10.5 6 10.2761 6 10Z"}),u.default.createElement("path",{d:"M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z"})),b=u.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M10.5 0C11.0052 0 11.4922 0.0651042 11.9609 0.195312C12.4297 0.325521 12.8672 0.510417 13.2734 0.75C13.6797 0.989583 14.0495 1.27865 14.3828 1.61719C14.7214 1.95052 15.0104 2.32031 15.25 2.72656C15.4896 3.13281 15.6745 3.57031 15.8047 4.03906C15.9349 4.50781 16 4.99479 16 5.5C16 6.00521 15.9349 6.49219 15.8047 6.96094C15.6745 7.42969 15.4896 7.86719 15.25 8.27344C15.0104 8.67969 14.7214 9.05208 14.3828 9.39062C14.0495 9.72396 13.6797 10.0104 13.2734 10.25C12.8672 10.4896 12.4297 10.6745 11.9609 10.8047C11.4922 10.9349 11.0052 11 10.5 11C9.84896 11 9.22396 10.8906 8.625 10.6719C8.03125 10.4531 7.48438 10.138 6.98438 9.72656L0.851562 15.8516C0.752604 15.9505 0.635417 16 0.5 16C0.364583 16 0.247396 15.9505 0.148438 15.8516C0.0494792 15.7526 0 15.6354 0 15.5C0 15.3646 0.0494792 15.2474 0.148438 15.1484L6.27344 9.01562C5.86198 8.51562 5.54688 7.96875 5.32812 7.375C5.10938 6.77604 5 6.15104 5 5.5C5 4.99479 5.0651 4.50781 5.19531 4.03906C5.32552 3.57031 5.51042 3.13281 5.75 2.72656C5.98958 2.32031 6.27604 1.95052 6.60938 1.61719C6.94792 1.27865 7.32031 0.989583 7.72656 0.75C8.13281 0.510417 8.57031 0.325521 9.03906 0.195312C9.50781 0.0651042 9.99479 0 10.5 0ZM10.5 10C11.1198 10 11.7031 9.88281 12.25 9.64844C12.7969 9.40885 13.2734 9.08594 13.6797 8.67969C14.0859 8.27344 14.4062 7.79688 14.6406 7.25C14.8802 6.70312 15 6.11979 15 5.5C15 4.88021 14.8802 4.29688 14.6406 3.75C14.4062 3.20312 14.0859 2.72656 13.6797 2.32031C13.2734 1.91406 12.7969 1.59375 12.25 1.35938C11.7031 1.11979 11.1198 1 10.5 1C9.88021 1 9.29688 1.11979 8.75 1.35938C8.20312 1.59375 7.72656 1.91406 7.32031 2.32031C6.91406 2.72656 6.59115 3.20312 6.35156 3.75C6.11719 4.29688 6 4.88021 6 5.5C6 6.11979 6.11719 6.70312 6.35156 7.25C6.59115 7.79688 6.91406 8.27344 7.32031 8.67969C7.72656 9.08594 8.20312 9.40885 8.75 9.64844C9.29688 9.88281 9.88021 10 10.5 10Z"})),f=u.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{margin:"0 3px"}},u.default.createElement("path",{d:"M4.7998 7.9998C4.7998 7.77889 4.97889 7.5998 5.1998 7.5998H7.5998V5.1998C7.5998 4.97889 7.77889 4.7998 7.9998 4.7998C8.22068 4.7998 8.3998 4.97889 8.3998 5.1998V7.5998H10.7998C11.0207 7.5998 11.1998 7.77889 11.1998 7.9998C11.1998 8.22068 11.0207 8.3998 10.7998 8.3998H8.3998V10.7998C8.3998 11.0207 8.22068 11.1998 7.9998 11.1998C7.77889 11.1998 7.5998 11.0207 7.5998 10.7998V8.3998H5.1998C4.97889 8.3998 4.7998 8.22068 4.7998 7.9998Z"}),u.default.createElement("path",{d:"M7.99961 14.4001C11.5342 14.4001 14.3996 11.5347 14.3996 8.0001C14.3996 4.46547 11.5342 1.6001 7.99961 1.6001C4.46499 1.6001 1.59961 4.46547 1.59961 8.0001C1.59961 11.5347 4.46499 14.4001 7.99961 14.4001ZM7.99961 13.6001C4.90682 13.6001 2.39961 11.0929 2.39961 8.0001C2.39961 4.90731 4.90682 2.4001 7.99961 2.4001C11.0924 2.4001 13.5996 4.90731 13.5996 8.0001C13.5996 11.0929 11.0924 13.6001 7.99961 13.6001Z"})),C=u.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",style:{float:"left"}},u.default.createElement("path",{d:"M7.59962 0.222652C8.24805 0.398433 8.8418 0.672847 9.38086 1.0459C9.91992 1.41894 10.3838 1.86035 10.7725 2.37011C11.1611 2.87988 11.4629 3.44433 11.6777 4.06347C11.8926 4.68261 12 5.32812 12 6C12 6.55078 11.9287 7.08203 11.7861 7.59375C11.6436 8.10547 11.4424 8.58398 11.1826 9.02929C10.9229 9.4746 10.6104 9.87988 10.2451 10.2451C9.87988 10.6103 9.47461 10.9228 9.0293 11.1826C8.58399 11.4424 8.10547 11.6435 7.59375 11.7861C7.08203 11.9287 6.55078 12 6 12C5.44922 12 4.91797 11.9287 4.40625 11.7861C3.89453 11.6435 3.41601 11.4424 2.9707 11.1826C2.52539 10.9228 2.12012 10.6103 1.75488 10.2451C1.38965 9.87988 1.07715 9.4746 0.817383 9.02929C0.557617 8.58398 0.356447 8.10644 0.213867 7.59668C0.0712892 7.08691 0 6.55469 0 6C0 5.45312 0.0722656 4.92188 0.216797 4.40625C0.361328 3.89063 0.567383 3.40527 0.83496 2.95019C1.10254 2.49512 1.42773 2.08105 1.81054 1.70801C2.19336 1.33496 2.625 1.01562 3.10546 0.75H1.5V0H4.49999V3H3.74999V1.25976C3.29296 1.47851 2.87988 1.75293 2.51074 2.08301C2.1416 2.41308 1.82617 2.78418 1.56445 3.19629C1.30273 3.60839 1.10156 4.05273 0.960936 4.52929C0.820311 5.00586 0.749999 5.49609 0.749999 6C0.749999 6.48046 0.812499 6.94433 0.937499 7.39159C1.0625 7.83886 1.23926 8.25683 1.46777 8.6455C1.69629 9.03417 1.9707 9.38867 2.29101 9.70898C2.61133 10.0293 2.96582 10.3037 3.35449 10.5322C3.74316 10.7607 4.16015 10.9375 4.60546 11.0625C5.05078 11.1875 5.51562 11.25 6 11.25C6.48046 11.25 6.94433 11.1875 7.39159 11.0625C7.83886 10.9375 8.25683 10.7607 8.6455 10.5322C9.03417 10.3037 9.38867 10.0293 9.70898 9.70898C10.0293 9.38867 10.3037 9.03417 10.5322 8.6455C10.7607 8.25683 10.9375 7.83984 11.0625 7.39453C11.1875 6.94922 11.25 6.48437 11.25 6C11.25 5.41406 11.1553 4.8496 10.9658 4.30664C10.7764 3.76367 10.5117 3.26953 10.1719 2.82422C9.83203 2.37891 9.42675 1.99316 8.95605 1.66699C8.48535 1.34082 7.96679 1.09961 7.40039 0.943359L7.59962 0.222652Z"})),v=u.default.createElement("svg",{width:"3",height:"5",viewBox:"0 0 3 3",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("circle",{cx:"1.5",cy:"1.5",r:"1.5"})),y=u.default.createElement("svg",{width:"4",height:"4",viewBox:"0 0 4 4",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("circle",{cx:"2",cy:"2",r:"2"})),x=u.default.createElement("svg",{width:"5",height:"5",viewBox:"0 0 5 5",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("circle",{cx:"2.5",cy:"2.5",r:"2.5"})),w=u.default.createElement("svg",{width:"12",height:"4",viewBox:"0 0 12 4",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("rect",{width:"12",height:"4",rx:"2"})),S=u.default.createElement("svg",{width:"16",height:"11",viewBox:"0 0 16 11",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M15.9431 0.462912C15.9068 0.375106 15.853 0.2928 15.7819 0.221263L15.7803 0.21967L15.7787 0.218082C15.6431 0.0832921 15.4563 0 15.25 0H9.75C9.33579 0 9 0.335786 9 0.75C9 1.16421 9.33579 1.5 9.75 1.5H13.4393L8.5 6.43934L6.53033 4.46967C6.23744 4.17678 5.76256 4.17678 5.46967 4.46967L0.21967 9.71967C-0.0732233 10.0126 -0.0732233 10.4874 0.21967 10.7803C0.512563 11.0732 0.987437 11.0732 1.28033 10.7803L6 6.06066L7.96967 8.03033C8.26256 8.32322 8.73744 8.32322 9.03033 8.03033L14.5 2.56066V6.25C14.5 6.66421 14.8358 7 15.25 7C15.6642 7 16 6.66421 16 6.25V0.75C16 0.648308 15.9798 0.551342 15.9431 0.462912Z"})),T=u.default.createElement("svg",{width:"16",height:"11",viewBox:"0 0 16 11",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M15.9431 10.5371C15.9068 10.6249 15.853 10.7072 15.7819 10.7787L15.7803 10.7803L15.7787 10.7819C15.6431 10.9167 15.4563 11 15.25 11H9.75C9.33579 11 9 10.6642 9 10.25C9 9.83579 9.33579 9.5 9.75 9.5H13.4393L8.5 4.56066L6.53033 6.53033C6.23744 6.82322 5.76256 6.82322 5.46967 6.53033L0.21967 1.28033C-0.0732233 0.987437 -0.0732233 0.512563 0.21967 0.21967C0.512563 -0.0732231 0.987437 -0.0732231 1.28033 0.21967L6 4.93934L7.96967 2.96967C8.26256 2.67678 8.73744 2.67678 9.03033 2.96967L14.5 8.43934V4.75C14.5 4.33579 14.8358 4 15.25 4C15.6642 4 16 4.33579 16 4.75V10.25C16 10.3517 15.9798 10.4487 15.9431 10.5371Z"})),O=u.default.createElement("svg",{width:"6",height:"10",viewBox:"0 0 6 10",xmlns:"http://www.w3.org/2000/svg"},u.default.createElement("path",{d:"M0.739665 0.200408C0.436132 0.48226 0.418556 0.956809 0.700408 1.26034L4.22652 5L0.700408 8.73967C0.418556 9.0432 0.436132 9.51775 0.739665 9.7996C1.0432 10.0815 1.51775 10.0639 1.7996 9.76034L5.7996 5.51034C6.0668 5.22258 6.0668 4.77743 5.7996 4.48966L1.7996 0.239665C1.51775 -0.0638681 1.0432 -0.081444 0.739665 0.200408Z"}));var I,j,k,R,N=i("0fst"),A=i("rvYQ");!function(e){e.Currency="currencyPair",e.Commodity="future",e.ETF="etf",e.Funds="fund",e.Indices="index",e.Stocks="stock"}(I||(I={})),function(e){e.ShowData="showData",e.AddWatchlist="addWatchlist"}(j||(j={})),function(e){e.Watchlist="watchlist",e.Market="market"}(k||(k={})),function(e){e.SecondSingle="secondSingle",e.SecondPlural="secondPlural",e.MinuteSingle="minuteSingle",e.MinutePlural="minutePlural",e.HourSingle="hourSingle",e.HourPlural="hourPlural",e.DaySingle="daySingle",e.DayPlural="dayPlural"}(R||(R={}));const Q=Object.assign(Object.assign({},l.b),{managedClasses:void 0,config:void 0,localizedStrings:void 0,telemetry:void 0,requestContext:void 0,cardSize:void 0,userSignedIn:void 0,dataFrom:void 0,quoteItems:void 0,cardType:void 0,showChangeValue:void 0,searchSuggestions:void 0,showSuggestions:void 0,showReminder:void 0,noSuggestion:void 0,hideCardAction:void 0,dataProviderAction:void 0,moreSettingAction:void 0,handleTextInput:void 0,hideQuoteSuggestions:void 0,addToWatchlist:void 0,goBackCardType:void 0,watchlistQuoteIds:void 0,watchlistQuoteIdSet:void 0,activeTab:void 0,multiTabQuoteItems:void 0,tabList:void 0,recommendQuoteItems:void 0,addedQuoteSymbol:void 0,cardVisible:void 0,userEngaged:void 0,updateState:void 0,updateUserEngagedStatus:void 0,refreshMoneyCardData:void 0,dataTimestamp:void 0,initFinanceServices:void 0,updateTabListByCardSize:void 0,metadataType:void 0,isNotificationFromTaskbar:void 0});var L,M;!function(e){e.Watchlist="watchlist",e.Recent="recent",e.Market="market",e.Currencies="currencies",e.Movers="movers",e.Gainers="gainers",e.Losers="losers",e.Recommendation="recommendation"}(L||(L={})),function(e){e.Stocks="stock",e.Funds="fund",e.Commodity="future",e.Indices="index",e.ETF="etf",e.Currency="currencyPair"}(M||(M={}));var E=i("u5KZ"),D=i("Am8i"),F=i("6u3Q"),B=i("SP+O"),H=i("zeXT"),P=i("QhQn"),W=i("XI4f"),_=i("7b0X"),q=i("objN"),z=i("odxL"),U=i("X9F+"),$=i("MZhw"),V=i("LD6M"),G=i("aP31"),K=i("C8Ey"),Z=i("rRWH"),Y=i("iuMt");const X="@media (-ms-high-contrast:active)";let J=!1;const ee=e=>{J="right"===Object(Z.b)("left","right",e.direction);const t={overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},i=Object(F.e)(e)?"linear-gradient(160deg, rgba(13,29,53,0), rgba(13,29,53,1)), #1D3C6B;":"linear-gradient(160deg, rgba(183,205,237,0), rgba(183,205,237,1)), #F4F7FC",s=Object(F.e)(e)?"radial-gradient(182.77% 177.99% at 100% 100%, rgba(0, 69, 172, 0.2) 0%, rgba(0, 69, 172, 0) 100%), #1C1C1C !important":"radial-gradient(182.77% 177.99% at 100% 100%, rgba(0, 69, 172, 0.2) 0%, rgba(0, 69, 172, 0) 100%), #FFFFFF !important",n={position:"relative",display:"grid",padding:"12px 0",width:"300px","border-radius":"6px"},a=Object.assign(Object.assign({},n),{background:i}),o=Object.assign(Object.assign({},n),{height:"122px","grid-template-rows":"20px 86px","grid-row-gap":"16px"}),r=Object.assign(Object.assign({},o),{background:i}),l={background:s},c=Object.assign(Object.assign({},o),{"grid-template-rows":"20px 68px","grid-row-gap":"10px"}),d=Object.assign(Object.assign({},r),c),u=Object.assign(Object.assign({},o),{"grid-template-rows":"20px 52px","grid-row-gap":"14px"}),h=Object.assign(Object.assign({},r),u),g=Object.assign(Object.assign({},n),{height:"280px","grid-template-rows":"20px 244px 16px","grid-row-gap":"0px"}),m=Object.assign(Object.assign({},g),{background:i}),p={position:"relative",overflow:"hidden",width:"300px","border-radius":"6px"},b=Object.assign(Object.assign({},p),{background:i}),f={padding:"0 0 12px 0"},C=Object.assign(Object.assign({},f),{float:"left",margin:"0"}),v=Object.assign(Object.assign({},f),{margin:"10px 0 0"}),y=Object.assign(Object.assign({},f),{margin:"14px 0 0"}),x=Object.assign({},y),w=Object.assign(Object.assign({},f),{margin:"8px 0 0"}),S={width:"268px",height:"18px",padding:"6px 0",margin:"0px 15px 4px 17px",color:B.c,border:"1px solid","border-color":H.a,cursor:"default","font-size":"12px","font-weight":"400","line-height":"16px","text-align":"center","vertical-align":"middle"},T=Object.assign(Object.assign({},S),{"border-color":P.c}),O=Object.assign(Object.assign({},t),{display:"flex","justify-content":"center","& path":{opacity:"0.3",fill:B.c}}),I={display:"flex",margin:"19px 16px 20px",height:"1px","text-align":"center","& span":Object.assign({width:"fit-content",height:"16px",padding:"0 12px",position:"relative",top:"-8px","font-family":"inherit","font-size":"12px","line-height":"16px",color:W.a},t)},j={flex:"1",cursor:"default","border-top":"1px solid","border-color":P.c},k=Object.assign(Object.assign({},{height:"24px",display:"grid","grid-template-columns":"244px 24px","align-items":"center"}),{margin:"0px 16px 6px",padding:"0px 0px 6px"}),R=Object.assign(Object.assign({},k),{margin:"0px 16px 4px"}),N={height:"16px",padding:"4px 0px",color:W.a,"font-weight":"600","font-size":"12px","line-height":"16px","justify-content":"flex-start"},A={"& svg":{"padding-left":"7.5px",transform:Object(Z.b)("","rotate(180deg)",e.direction),fill:W.a}},Q=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},N),{cursor:"pointer","letter-spacing":"0.7px","text-decoration":"none","&:hover":{"text-decoration":"underline"}}),Object(Y.a)(Object.assign({outline:"2px solid","outline-color":Object(_.a)(e)},q.v))),{"text-transform":"uppercase"}),t),A),L=Object.assign(Object.assign(Object.assign({},Q),{color:B.c}),A),M={color:W.a},E={color:B.c},D={margin:"0 22px 0 24px",height:"16px",display:"grid"},ee=Object.assign(Object.assign({},D),{"grid-template-columns":"170px 76px","grid-column-gap":"8px","align-items":"center"}),te=Object.assign(Object.assign({float:Object(Z.b)("left","right",e.direction),height:"16px",cursor:"pointer",color:z.c,"text-decoration":"none","font-family":"inherit","font-size":"12px","line-height":"16px","vertical-align":"middle","justify-content":"center","align-items":"center","font-weight":"400"},t),{"&:hover":{"text-decoration":"underline",color:z.b},"&:active":{color:z.a}}),ie={float:Object(Z.b)("right","left",e.direction),height:"8px",padding:"4px"},se=Object.assign(Object.assign({},ie),{margin:"0 auto"}),ne={height:"8px",padding:"0 4px",position:"absolute",bottom:"0",[Object(Z.b)("right","left",e.direction)]:"0"},ae={display:"inline-block",height:"8px",width:"8px",float:"left","& svg":{float:"left",padding:"2px",fill:P.a},"&:hover":{"& svg":{fill:z.c}}},oe=Object.assign(Object.assign({},ae),{"& svg":Object.assign(Object.assign({},ae["& svg"]),{opacity:Object(F.e)(e)?1:.3,fill:Object(F.e)(e)?P.a:"black"})}),re=Object.assign(Object.assign({},ae),{width:"10px","& svg":{float:"left",padding:"1.5px 3.5px",opacity:Object(F.e)(e)?1:.3,fill:Object(F.e)(e)?P.a:"black"}}),le=Object.assign(Object.assign({},ae),{width:"16px","& svg":Object.assign(Object.assign({},ae["& svg"]),{fill:z.c}),"&:hover":{}}),ce=Object.assign(Object.assign({},le),{"& svg":{float:"left",padding:"1.5px 5.5px",fill:Object(F.e)(e)?"#FFFFFF":"#2B2B2B"}}),de=Object.assign(Object.assign({},le),{"& svg":Object.assign(Object.assign({},ae["& svg"]),{fill:Object(F.e)(e)?"#FFFFFF":"#2B2B2B"})}),ue={display:"flex",height:"16px",margin:"0 auto",padding:"4px 24px",border:"none","border-radius":"20px","text-decoration":"none",color:B.c,background:U.c,cursor:"pointer","line-height":"16px","font-size":"12px","font-weight":"400","max-width":"calc(100% - 48px)",overflow:"hidden","&:hover":{background:U.b},"&:active":{background:U.c}},he=Object.assign(Object.assign({},ue),{color:Object(F.e)(e)?B.c:z.c,background:Object(F.e)(e)?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.5)","&:hover":{background:Object(F.e)(e)?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.75)"}}),ge=Object.assign(Object.assign({},ue),{color:Object(F.e)(e)?"#FFFFFF":B.c,background:Object(F.e)(e)?"rgba(255, 255, 255, 0.09)":"rgba(0, 0, 0, 0.07)","&:hover,&:focus":{background:Object(F.e)(e)?"#214478":"#bed3e8"}}),me={width:"24px",height:"24px",background:U.c,"border-radius":"16px",cursor:"pointer","justify-content":Object(Z.b)("flex-end","flex-start",e.direction),"& svg":{fill:W.a},"&:hover,&:focus":{background:U.b}},pe=Object.assign(Object.assign({},me),{background:Object(F.e)(e)?"rgba(255, 255, 255, 0.09)":"rgba(0, 0, 0, 0.07)","& svg":{fill:Object(F.e)(e)?"#FFFFFF":"rgba(0, 0, 0, 0.55)"},"&:hover,&:focus":{background:Object(F.e)(e)?"#214478":"#bed3e8"}}),be={fill:Object(F.e)(e)?"#FFFFFF":"rgba(0, 0, 0, 0.55)",width:"12.5px",display:"block",margin:"auto",height:"24px","stroke-width":"1px",stroke:Object(F.e)(e)?"#FFFFFF":"rgba(0, 0, 0, 0.55)","stroke-linecap":"round",[X]:{fill:q.a.text,stroke:q.a.text}},fe={position:"absolute","z-index":"1","font-size":"12px",background:Object(F.e)(e)?"#252423":W.a,"border-radius":"4px",padding:"8px",color:Object(F.e)(e)?"#FFFFFF":$.d,top:"50%",transform:"translateY(-50%)"},Ce=Object.assign(Object.assign({},fe),{[Object(Z.b)("left","right",e.direction)]:"22px"}),ve=Object.assign(Object.assign({},fe),{[Object(Z.b)("right","left",e.direction)]:"22px"}),ye={padding:"15px 5px",position:"absolute",width:"16px",height:"38px",top:"50%",transform:"translateY(-50%)",outline:"none","border-style":"none","z-index":"1","background-color":"transparent","& svg":{float:Object(Z.b)("left","right",e.direction),fill:B.c,opacity:"0.5442"},"&:focus-visible":{"outline-color":B.c,"outline-width":"1px","outline-style":"auto"},"&:hover":{background:U.b,cursor:"pointer"},[X]:{"& path":{fill:P.c}}},xe=Object.assign(Object.assign({},ye),{[Object(Z.b)("left","right",e.direction)]:"0px"}),we=Object.assign(Object.assign({},ye),{[Object(Z.b)("right","left",e.direction)]:"0px"}),Se=Object.assign(Object.assign({},ye),{display:"none","&:focus-visible":{}}),Te={"white-space":"nowrap","padding-inline-start":"0px","transition-duration":"700ms",margin:"0",padding:"0",[Object(Z.b)("margin-left","margin-right",e.direction)]:"-300px"},Oe={display:"grid","grid-template-rows":"repeat(auto-fill, 40px)"},Ie=Object.assign(Object.assign({},Oe),{"grid-row-gap":"4px"}),je=Object.assign(Object.assign({},Oe),{"grid-row-gap":"6px"}),ke=Object.assign(Object.assign({},{display:"grid","grid-template-rows":"repeat(auto-fill, 20px)"}),{"grid-row-gap":"4px"}),Re=Object(Y.a)(Object.assign({outline:"2px solid","outline-color":Object(_.a)(e)},q.v)),Ne=Object.assign(Object.assign({cursor:"pointer","border-radius":"6px","text-decoration":"none","&:hover":{background:V.b,[X]:{background:q.a.selectedBackground}}},Re),{"& button":Object.assign({},Re)}),Ae=Object.assign(Object.assign({},Ne),{background:Object(F.e)(e)?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.5)","&:hover":Object.assign(Object.assign({},Ne["&:hover"]),{background:Object(F.e)(e)?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.75)"})}),Qe=Object.assign(Object.assign({},Ne),{height:"36px",margin:"4px 16px 0 16px",padding:"0 6px 0 8px"}),Le=Object.assign(Object.assign({},Qe),Ae),Me=Object.assign(Object.assign({},Le),{background:"transparent"}),Ee=Object.assign(Object.assign({},Ne),{margin:"0 16px",padding:"0 6px"}),De=Object.assign(Object.assign({},Ee),Ae),Fe=Object.assign(Object.assign({},De),{background:"transparent"}),Be=Object.assign(Object.assign({},Ee),{padding:"4px 6px"}),He=Object.assign(Object.assign({},Be),Ae),Pe=Object.assign(Object.assign({},He),{background:"transparent"}),We={"font-size":"14px","line-height":"20px",color:B.c,"font-weight":"600",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-decoration":"none",margin:"0"},_e={display:"flex","min-width":"0px","& svg":{display:"block",margin:"auto 0",[Object(Z.b)("padding-left","padding-right",e.direction)]:"6px"}},qe={color:W.a,"font-size":"12px","line-height":"16px",margin:"0",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-decoration":"none"},ze={color:B.c,"font-weight":"600",width:"100%","text-align":Object(Z.b)("right","left",e.direction)};return{outerCard:{width:"300px","border-radius":"6px"},moneyCard:n,moneyCard_gradientColor:a,moneyCardHalf:o,moneyCardHalf_gradientColor:r,moneyCardHalfOneRow:c,moneyCardHalfOneRow_gradientColor:d,moneyCardHalfOneRowGrid2Item:{"grid-template-rows":"20px 44px !important"},moneyCardHalfOneRowGrid3Item:{"grid-template-rows":"20px 56px !important"},moneyCardHalfOneRowSeeMore:u,moneyCardHalfOneRowSeeMore_gradientColor:h,moneyCardFull:g,moneyCardFull_gradientColor:m,contentAreaCarousel:p,contentAreaCarousel_gradientColor:b,moneyCardContrastColor:l,contentHalfCard:C,contentEmptyWatchlist:v,contentSomeWatchlist:y,contentFullWatchlist:x,contentMarket:w,emptyWatchlistHintArea:S,emptyWatchlistHintArea_gradientColor:T,emptyWatchlistHintAreaSubTitlle:O,recommendedDividerContainer:I,recommendedDivider:j,titleFull:k,titleHalf:R,titleText:N,titleLink:Q,titleLink_gradientColor:L,titleLinkColorLight:M,titleLink_emphasized:E,titleContent:{display:"flex"},footer:D,footerCTA:{margin:"0 16px",height:"24px",display:"grid",position:"relative"},footer_twoColumns:ee,footerLink:te,footerCarouselDotSlider:ie,footerCarouselDotSliderCenter:se,footerCarouselDotSliderRight:ne,footerCarouselDotSliderUl:{height:"8px",padding:"0","text-align":"center",bottom:"0"},footerCarouselDotSliderLi:ae,footerCarouselDotSliderLi_gradientColor:oe,footerCarouselDotSliderLi_selected:le,footerCarouselDotSliderLiCenter_notSelected:re,footerCarouselDotSliderLiCenter_selected:ce,footerCarouselDotSliderLiRight_selected:de,footerSeeMoreButtonText:ue,footerSeeMoreButtonText_gradientColor:he,footerSeeMoreButtonTextContrast:ge,optionButton:me,optionButton_gradientColor:pe,settingButtonIcon:be,carouselPreviousHint:Ce,carouselNextHint:ve,navDirectionLeft:xe,navDirectionRight:we,navDirectionHidden:Se,multiTabUl:Te,multiTabUlItem:{display:"inline-block"},quoteListFull:Ie,quoteListHalf:je,quoteListHalfOneRow:ke,quoteListHalfOneRowSmall:{"grid-template-rows":"repeat(auto-fill, 16px) !important"},quoteListHalfOneRowSeeMore:{display:"grid","grid-template-rows":"repeat(2, 28px)","grid-row-gap":"0px"},quoteRowGrid:{"align-items":"center",display:"grid","grid-column-gap":"8px","grid-template-columns":"89px 82px 77px"},quoteRowFull:Qe,quoteRowFull_gradientColor:Le,quoteRowFull_gradientColor_noRowHighlight:Me,quoteRowHalf:Ee,quoteRowHalf_gradientColor:De,quoteRowHalf_gradientColor_noRowHighlight:Fe,quoteRowHalfSeeMore:Be,quoteRowHalfSeeMore_gradientColor:He,quoteRowHalfSeeMore_gradientColor_noRowHighlight:Pe,quoteTitlesCntr:{display:"grid"},quoteTitleStr:We,quoteFontSmall:{"font-size":"12px !important","line-height":"16px !important"},secTitle:_e,secTitleStr:qe,price:{"align-items":"center",display:"flex"},priceStrFull:Object.assign(Object.assign({},ze),{"font-size":"16px"}),priceStrHalf:Object.assign(Object.assign({},ze),{"font-size":"14px"}),red:{color:"rgb(255, 99, 65)"},green:{color:Object(F.e)(e)?"#34E36F":"rgb(0, 166, 86)"},grey:{color:W.a},changeValue:{cursor:"pointer",height:"24px",padding:"0",font:"inherit",border:"0px","border-radius":"4px","-ms-high-contrast-adjust":"none",outline:"none","&:focus-visible":{"outline-color":B.c,"outline-width":"1px","outline-style":"auto"}},changeValueArea:{display:"flex","flex-direction":"column","justify-content":Object(Z.b)("flex-end","flex-start",e.direction),"text-decoration":"none"},changeValueStr:{display:"block","font-size":"14px","font-weight":"600","line-height":"20px",margin:Object(Z.b)("4px 0px","4px 0px",e.direction),"text-align":Object(Z.b)("right","left",e.direction)},changeValueStrOneRow:{display:"block","font-size":"14px","font-weight":"600","line-height":"20px","text-align":Object(Z.b)("right","left",e.direction)},addToWatchlistButton:{display:"flex",width:"20px",height:"20px",padding:"0",outline:"none",border:"none",background:"transparent",cursor:"pointer","& path":{opacity:"0.3",fill:B.c},"&:hover":{"& path":{opacity:"1",fill:Object(F.e)(e)?"#7DBAE9":G.c}},"&:focus-visible":{"outline-color":B.c,"outline-width":"1px","outline-style":"auto","& path":{opacity:"1",fill:P.c}},[X]:{"& path":{opacity:"1",fill:q.a.text}}},addToWatchlistButtonSmall:{width:"16px !important",height:"16px !important","& svg":{width:"16px !important",height:"16px !important"}},quoteCompleted:{"& svg":{fill:P.c,float:Object(Z.b)("left","right",e.direction)}},quoteReminderArea:{display:"flex","justify-content":"space-between",position:"absolute",bottom:"12px",left:"16px",width:"236px",height:"16px",padding:"16px","border-radius":"6px",background:K.b,cursor:"pointer","text-decoration":"none","&:hover":{"text-decoration":"none"},"&:focus":{"text-decoration":"none"}},quoteReminderText:Object.assign({color:V.c,"font-size":"14px","line-height":"16px","max-width":"120px"},t),quoteReminderLink:Object.assign({color:V.c,"text-decoration":"underline","font-size":"14px","line-height":"16px","max-width":"110px"},t),refreshButton:{width:"24px",height:"24px",padding:"6px",outline:"none",border:"none",background:"transparent",cursor:"pointer","& path":{fill:B.c},"&:hover":{"& path":{fill:z.b}},"&:focus-visible":{"outline-color":B.c,"outline-width":"1px","outline-style":"auto","& path":{opacity:"1",fill:"#003E92"}}},notificationIcon:{display:"flex",height:"20px"},redFill:{"& svg":{fill:"rgb(255, 99, 65)"}},greenFill:{"& svg":{fill:"rgb(0, 166, 86)"}}}},te=e=>({contextMenu:{padding:"4px 0",background:$.d,margin:"0",width:"268px",border:"none","border-radius":"4px","box-shadow":"0 2.4px 7.2px rgba(0, 0, 0, 0.18), 0 12.8px 28.8px rgba(0, 0, 0, 0.22)","border-color":P.b,[X]:{background:q.a.background,outline:"1px solid #E1DFDD"}},contextMenuItem:{border:"none",background:"none",color:B.c,outline:"none",padding:"0px 12px","&:hover,&:focus":{background:V.b,[X]:{background:q.a.selectedBackground}},"& path":{fill:B.c,[X]:{fill:q.a.text}},[X]:{color:q.a.text,background:q.a.buttonBackground}},contextMenuItem_contentRegion:{"& span":{display:"inline-flex"}},contextMenuItem_image:{width:"23px !important"},menuContainer:{background:"none"},settingButtonIcon:{fill:Object(F.e)(e)?"#FFFFFF":"rgba(0, 0, 0, 0.55)",width:"12.5px",height:"24px","stroke-width":"1px",stroke:Object(F.e)(e)?"#FFFFFF":"rgba(0, 0, 0, 0.55)","stroke-linecap":"round",[X]:{fill:q.a.text,stroke:q.a.text}}}),ie=e=>{const t=te(e);return Object.assign(Object.assign({},t),{contextMenu:Object.assign(Object.assign({},t.contextMenu),{background:Object(F.e)(e)?"#254c86":"#ffffff","box-shadow":"rgb(0 0 0 / 18%) 0px 2.4px 7.2px, rgb(0 0 0 / 22%) 0px 12.8px 28.8px"}),contextMenuItem:Object.assign(Object.assign({},t.contextMenuItem),{background:"transparent","&:hover,&:focus":{background:Object(F.e)(e)?"#1a3762":"#ecf2fa",[X]:{background:q.a.selectedBackground}}})})};var se=i("lWfA"),ne=i("KaPL"),ae=i("Zn5T"),oe=i("YJhp"),re=i("scFN"),le=i("LJMo"),ce=i("OnwC"),de=i("Gy7L"),ue=i("RIQ7");function he(e){const t=Object(ue.b)(),i=new URL(e);return t&&i.searchParams.append("ocid",t),i.href}class ge extends ce.a{constructor(e){super(e),this.state={activeSuggestion:-1},this.suggestionsAreaUl=u.default.createRef(),this.textInput=u.default.createRef()}render(){const{managedClasses:e,telemetry:t,cardType:i}=this.props;if(i!=j.AddWatchlist)return null;const s=this.getClassNameByGradientColor(e.moneyCard,e.moneyCard_gradientColor);return u.default.createElement(se.a,Object.assign({},this.unhandledProps(),t.searchPageView,{className:e.outerCard}),u.default.createElement("div",{className:s},this.renderContent()))}renderContent(){const{managedClasses:e,showSuggestions:t,noSuggestion:i}=this.props,s=this.getClassNameByCardSize(e.searchPanelHalf,e.searchPanelFull),n=this.renderHeader(),a=t?this.renderSuggestionsArea():null,o=i?this.renderNoSuggestionArea():null,r=this.renderRecommendedQuotesArea();return u.default.createElement("div",{className:s},n,a,o,r)}renderHeader(){const{managedClasses:e}=this.props,t=this.renderTextInput(),i=this.renderCancelButton();return u.default.createElement("div",{className:e.header},t,i)}renderTextInput(){const{managedClasses:e,telemetry:t,localizedStrings:i,handleTextInput:s}=this.props;return u.default.createElement("div",{className:e.searchArea},u.default.createElement("div",{className:e.searchIconArea},u.default.createElement("div",{className:e.searchIcon},b)),u.default.createElement("input",Object.assign({},t.searchPageInputKeyPress,{className:e.searchInput,ref:this.textInput,autoFocus:!0,placeholder:i.searchPlaceholder,"aria-label":i.searchPlaceholder,onChange:e=>s(e.target.value,e),onKeyDown:this.handleOnKeyDownSearchBox.bind(this)})))}renderCancelButton(){const{managedClasses:e,telemetry:t,localizedStrings:i,goBackCardType:s}=this.props;return u.default.createElement("button",Object.assign({},t.searchPageCancelButtonClick,{className:e.cancelButton,onClick:()=>{this.clearInput(),s()}}),i.quoteSearchCancelText)}renderSuggestionsArea(){const{managedClasses:e,searchSuggestions:t}=this.props,i=this.getClassNameByGradientColor(e.suggestionsArea,e.suggestionsArea_gradientColor),s=this.renderSuggestionsAreaHint(),n=t.map((e,t)=>this.renderSuggestionRow(e,t));return u.default.createElement("ul",{className:i,ref:this.suggestionsAreaUl,tabIndex:-1,onKeyDown:this.handleOnKeyDownSuggestionsArea.bind(this)},s,n)}renderSuggestionsAreaHint(){const{managedClasses:e,localizedStrings:t}=this.props,i=(t.clickToStartYourWatchlistText||t.quoteSearchClickHintText).split("{icon}"),s=i[0],n=i[1]||"",a=`${s} ⊕ ${n}`;return u.default.createElement("div",{className:e.suggestionsAreaHint},u.default.createElement("span",{title:a},s),f,u.default.createElement("span",{className:e.suggestionsAreaHintText,title:a},n))}renderSuggestionRow(e,t){if(!e)return null;const{managedClasses:i}=this.props,s=t===this.state.activeSuggestion,n=this.getClassNameByGradientColor(i.suggestionRowSelected,i.suggestionRowSelected_gradientColor),a=this.getClassNameByGradientColor(i.suggestionRow,i.suggestionRow_gradientColor),o=s?n:a,r=`${e.longName} ${e.equitySymbol} ${e.exchangeName}`,l="quoteSuggestions_"+t,c=`${e.longName} (${e.equitySymbol})`;return u.default.createElement("li",{className:o,"aria-label":r,"aria-selected":s,id:l,key:e.quoteId,title:c},u.default.createElement("a",Object.assign({},e.telemetryTags,{className:i.suggestionItem,href:null,onClick:t=>this.addToWatchlist(t,e.quoteId,e.equitySymbol)}),this.renderSuggestionRowTitle(e),this.renderSuggestionRowExchange(e),this.renderSuggestionRowStatus(e)))}renderSuggestionRowTitle(e){const{managedClasses:t}=this.props;return u.default.createElement("div",{className:t.suggestionRowTitle},u.default.createElement("span",{className:t.suggestionRowSymbol},e.equitySymbol),u.default.createElement("span",{className:t.suggestionRowDisplayName},e.longName))}renderSuggestionRowExchange(e){const{managedClasses:t}=this.props,i=e.exchangeName;return u.default.createElement("div",{className:t.suggestionRowExchange,title:i},u.default.createElement("div",{className:t.suggestionRowExchangeText},i))}renderSuggestionRowStatus(e){const{managedClasses:t}=this.props,i=this.isInWatchlist(e.quoteId)?this.renderSuggestionRowCompletedIcon():this.renderSuggestionRowAddButton(e);return u.default.createElement("div",{className:t.suggestionRowStatus},i)}renderSuggestionRowAddButton(e){const{managedClasses:t,telemetry:i,localizedStrings:s}=this.props,n=s.addToWatchlistHint;return u.default.createElement("button",Object.assign({},i.searchPageAddToWatchlistButtonClick,{className:t.suggestionRowAddButton,onClick:t=>this.addToWatchlist(t,e.quoteId,e.equitySymbol),title:n,"aria-label":n}),p)}renderSuggestionRowCompletedIcon(){const{managedClasses:e}=this.props;return u.default.createElement("div",{className:e.suggestionRowCompletedIcon},m)}renderNoSuggestionArea(){const{managedClasses:e,localizedStrings:t}=this.props,i=t.noSuggestionHint;return u.default.createElement("div",{className:e.suggestionsArea},u.default.createElement("div",{className:e.noSuggestionText,"aria-label":i},i))}renderRecommendedQuotesArea(){const{managedClasses:e}=this.props,t=this.renderRecommendedQuotesAreaHint(),i=this.renderRecommendedQuoteRowsArea();return u.default.createElement("div",{className:e.recommendedQuotesArea},t,i)}renderRecommendedQuotesAreaHint(){const{managedClasses:e,localizedStrings:t}=this.props,i=t.quoteSearchAddPopularSymbolText;return u.default.createElement("div",{className:e.recommendedQuotesAreaHint},i)}renderRecommendedQuoteRowsArea(){const{managedClasses:e}=this.props,t=this.getRecommendedQuoteItems(),i=null==t?void 0:t.map(e=>this.renderRecommendedQuoteRow(e));return u.default.createElement("ul",{className:e.recommendedQuoteRowsArea},i)}renderRecommendedQuoteRow(e){if(!e)return null;const{managedClasses:t}=this.props,i=this.getClassNameByGradientColor(t.recommendedQuoteRow,t.recommendedQuoteRow_gradientColor),s=`${e.displayName} (${e.symbol})`;return u.default.createElement("li",{className:i,key:e.id,title:s},u.default.createElement("a",Object.assign({},e.telemetryTags,{className:t.recommendedQuoteItem,"aria-label":`${e.displayName} ${e.symbol} ${e.exchangeName}`,target:"_blank",href:e.quoteHref}),this.renderRecommendedQuoteRowTitle(e),this.renderRecommendedQuoteRowExchange(e),this.renderRecommendedQuoteRowStatus(e)))}renderRecommendedQuoteRowTitle(e){const{managedClasses:t}=this.props;return u.default.createElement("div",{className:t.suggestionRowTitle},u.default.createElement("span",{className:t.suggestionRowSymbol},e.symbol),u.default.createElement("span",{className:t.suggestionRowDisplayName},e.displayName))}renderRecommendedQuoteRowExchange(e){const{managedClasses:t}=this.props,i=e.exchangeName;return u.default.createElement("div",{className:t.suggestionRowExchange,title:i},u.default.createElement("div",{className:t.suggestionRowExchangeText},i))}renderRecommendedQuoteRowStatus(e){const{managedClasses:t}=this.props,i=this.isInWatchlist(e.id)?this.renderSuggestionRowCompletedIcon():this.renderRecommendedQuoteRowAddButton(e);return u.default.createElement("div",{className:t.suggestionRowStatus},i)}renderRecommendedQuoteRowAddButton(e){const{managedClasses:t,telemetry:i,localizedStrings:s}=this.props,n=s.addToWatchlistHint;return u.default.createElement("button",Object.assign({},i.searchPageAddToWatchlistButtonClick,{className:t.suggestionRowAddButton,onClick:t=>this.addToWatchlist(t,e.id,e.symbol),title:n,"aria-label":n}),p)}renderRecommendedQuoteRowCompeletedIcon(){const{managedClasses:e}=this.props;return u.default.createElement("div",{className:e.suggestionRowCompletedIcon},m)}handleOnKeyDownSearchBox(e){const{showSuggestions:t,searchSuggestions:i}=this.props;if(t||e.keyCode==de.g)switch(e.keyCode){case de.a:e.preventDefault(),this.setState({activeSuggestion:0},()=>this.suggestionsAreaUl.current.focus());break;case de.d:e.preventDefault(),i.length>0&&this.setState({activeSuggestion:this.props.searchSuggestions.length-1},()=>this.suggestionsAreaUl.current.focus());break;case de.g:e.preventDefault(),this.clearInput();break;default:return}}clearInput(){const{hideQuoteSuggestions:e}=this.props;this.setState({activeSuggestion:-1}),this.textInput.current.value="",e()}handleOnKeyDownSuggestionsArea(e){const{searchSuggestions:t,hideQuoteSuggestions:i}=this.props;switch(e.keyCode){case de.a:e.preventDefault(),t.length>0&&this.setState(e=>({activeSuggestion:(e.activeSuggestion+1)%t.length}));break;case de.d:e.preventDefault(),t.length>0&&(0===this.state.activeSuggestion?this.setState(e=>({activeSuggestion:t.length-1})):this.setState(e=>({activeSuggestion:(e.activeSuggestion-1)%t.length})));break;case de.i:case de.f:E.a.sendActionEvent(this.suggestionsAreaUl.current.children[this.state.activeSuggestion+1].firstChild,D.a.KeyPress,D.b.Navigate),window.open(he(t[this.state.activeSuggestion].quoteHref),"_blank");break;case de.g:e.preventDefault(),this.setState({activeSuggestion:-1}),this.textInput.current.value="",i();break;default:return}}addToWatchlist(e,t,i){const{addToWatchlist:s,tabList:n,updateState:a,setNavIndex:o,setNewNavIndex:r,setNavBarMarginOnInit:l}=this.props;let c=n.findIndex(e=>e.tabType===L.Watchlist);c=-1===c?0:c,o(c),r(c),l(),this.clearInput();a({activeTab:n.find(e=>e.tabType===L.Watchlist)||n[0]}),s(e,t,i),E.a.sendActionEvent(e.target,D.a.Click,D.b.Customize),this.displayReminder()}displayReminder(){const{updateState:e}=this.props;e({showReminder:!0});setTimeout(()=>{e({showReminder:!1})},4e3)}isHalfCard(){const{cardSize:e}=this.props;return e===ne.a.Size1Wx3H}isInWatchlist(e){if(!e||0===e.length)return!1;return(this.props.watchlistQuoteIdSet||new Set).has(e)}getClassNameByCardSize(e,t){return this.isHalfCard()?e:t}getClassNameByGradientColor(e,t){const{config:i}=this.props,{enableGradientColor:s}=i;return s?t:e}getRecommendedQuoteItems(){const e=this.isHalfCard()?1:4;let t=this.props.recommendQuoteItems||[];return t=t.slice(0,e),t}}var me=i("fz//");const pe=Object(s.a)(e=>{const t=ee(e),i={display:"grid",height:"32px",background:Object(F.e)(e)?"#FFFFFF":"transparent","grid-template-columns":"32px auto","max-width":"215px","min-width":"50px","outline-width":"1px","outline-style":"solid","outline-color":P.c},s={"& svg":{fill:Object(F.e)(e)?"#0078D4":G.c}},n={color:Object(F.e)(e)?P.a:B.c,background:"transparent","font-size":"14px","line-height":"20px",height:"32px",padding:"0",border:"none",outline:"none","&::-webkit-search-cancel-button":{display:"none"},"&::-ms-clear":{display:"none"}},a={"font-family":"inherit","text-align":"center",border:"none","font-size":"14px","line-height":"20px",color:Object(F.e)(e)?"#75B6E8":G.c,background:"transparent",cursor:"pointer",padding:"0",width:"fit-content",outline:"none","&:focus-visible":{"outline-color":B.c,"outline-width":"1px","outline-style":"auto"}},o={display:"block",position:"absolute",top:"56px",outline:"none",margin:"0px",[Object(Z.b)("left","right",e.direction)]:"16px",width:"268px",padding:"0","border-radius":"6px",background:V.c,"-webkit-box-shadow":Object(me.a)("0 0 10px {0}",H.a),"-moz-box-shadow":Object(me.a)("0 0 10px {0}",H.a),"box-shadow":Object(me.a)("0 0 10px {0}",H.a),"z-index":"110"},r=Object.assign(Object.assign({},o),{background:Object(F.e)(e)?"#142A4B":"#FFFFFF"}),l={display:"flex",height:"30px",padding:"0 16px","justify-content":"center","align-items":"center","font-size":"12px","line-height":"16px",color:W.a,"& svg":{width:"16px",height:"16px",fill:W.a}},c={"list-style":"none","text-decoration":"none",cursor:"pointer","border-top":Object(me.a)("1px solid {0}",H.a),"&:hover":{"& $suggestionItem":{background:V.b},"& $suggestionRowAddButton path":{opacity:"1",fill:Object(F.e)(e)?"#7DBAE9":G.c}}},d=Object.assign(Object.assign({},c),{"&:hover":Object.assign(Object.assign({},c["&:hover"]),{"& $suggestionItem":{background:Object(F.e)(e)?"#214478":"#d9e5f6"}})}),u={"list-style":"none","text-decoration":"none",cursor:"pointer","border-top":Object(me.a)("1px solid {0}",H.a),"& $suggestionItem":{background:V.b}},h=Object.assign(Object.assign({},u),d["&:hover"]),g={"font-weight":"600","font-size":"12px","line-height":"16px",color:B.c,overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},m={"font-size":"12px","line-height":"16px",color:_.a,overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},p={[Object(Z.b)("right","left",e.direction)]:"0px","font-size":"12px","line-height":"20px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:_.a},b=Object.assign({},t.addToWatchlistButton),f={"& svg":{float:Object(Z.b)("left","right",e.direction),fill:P.c}},C={color:B.c,"font-size":"14px","line-height":"16px",height:"16px",margin:Object(Z.b)("5px 0px 5px 9px","5px 9px 5px 0px",e.direction)},v={padding:"0 16px",color:W.a,"font-weight":"600","font-size":"12px","line-height":"16px"},y=Object.assign(Object.assign({},c),{"&:hover":{"& $recommendedQuoteItem":{background:V.b}}}),x=Object.assign(Object.assign({},y),{"&:hover":{"& $recommendedQuoteItem":{background:Object(F.e)(e)?"#214478":"#d9e5f6"}}});return{outerCard:t.outerCard,moneyCard:t.moneyCard,moneyCard_gradientColor:t.moneyCard_gradientColor,searchPanelHalf:{"padding-top":"4px",height:"118px"},searchPanelFull:{"padding-top":"4px",height:"276px"},header:{display:"grid","grid-template-columns":"1fr auto","grid-column-gap":"12px",padding:"0 16px"},searchArea:i,searchIconArea:{display:"flex","justify-content":"center","align-items":"center"},searchIcon:s,searchInput:n,cancelButton:a,suggestionsArea:o,suggestionsArea_gradientColor:r,suggestionsAreaHint:l,suggestionsAreaHintText:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},suggestionRow:c,suggestionRow_gradientColor:d,suggestionRowSelected:u,suggestionRowSelected_gradientColor:h,suggestionItem:{display:"grid",padding:"8px 16px","border-radius":"6px","text-decoration":"none","grid-template-columns":"134px 70px 20px","grid-column-gap":"6px"},suggestionRowTitle:{display:"grid","grid-template-rows":"16px 16px"},suggestionRowSymbol:g,suggestionRowDisplayName:m,suggestionRowExchange:{position:"relative",display:"flex","align-items":"center","justify-content":"flex-end"},suggestionRowExchangeText:p,suggestionRowStatus:{display:"flex","justify-content":"flex-end","align-items":"center"},suggestionRowAddButton:b,suggestionRowCompletedIcon:f,noSuggestionText:C,recommendedQuotesArea:{"margin-top":"16px"},recommendedQuotesAreaHint:v,recommendedQuoteRowsArea:{margin:"6px 0 0",padding:"0 10px","& li:first-child":{"border-top":"none"}},recommendedQuoteRow:y,recommendedQuoteRow_gradientColor:x,recommendedQuoteItem:{display:"grid",padding:"7px 6px","border-radius":"6px","grid-template-columns":"134px 102px 20px","grid-column-gap":"6px","text-decoration":"none"}}})(ge),be={"ar-ae":"money/watchlist","ar-eg":"money/watchlist","ar-sa":"money/watchlist","cs-cz":"finance/portfolio","da-dk":"finans/observationsliste","de-de":"finanzen/portfolio","de-at":"finanzen/portfolio","de-ch":"finanzen/portfolio","el-gr":"money/watchlist","en-ae":"money/watchlist","en-au":"money/watchlist","en-ca":"money/watchlist","en-gb":"money/watchlist","en-ie":"money/watchlist","en-in":"money/watchlist","en-my":"money/watchlist","en-us":"money/watchlist","en-nz":"money/watchlist","en-ph":"money/watchlist","en-sg":"money/watchlist","en-xl":"money/portfolio","en-za":"money/watchlist","es-ar":"finanzas/mi-portafolio","es-cl":"dinero/mi-portafolio","es-co":"dinero/mi-portafolio","es-es":"dinero/mi-portafolio","es-mx":"dinero/mi-portafolio","es-pe":"dinero/mi-portafolio","es-us":"dinero/mi-portafolio","es-ve":"dinero/mi-portafolio","es-xl":"dinero/mi-portafolio","fi-fi":"talous/seurantalista","fr-fr":"finance/liste-de-valeurs","fr-be":"finance/liste-de-valeurs","fr-ca":"finances/liste-de-valeurs","fr-ch":"finance/liste-de-valeurs","he-il":"money/watchlist","hu-hu":"penzugyek/portfolio","bn-in":"money/portfolio","te-in":"money/portfolio","mr-in":"money/portfolio","hi-in":"money/portfolio","id-id":"ekonomi/daftarpantau","it-it":"money/portafoglio","ja-jp":"money/watchlist","ko-kr":"money/watchlist","nb-no":"okonomi/portefolje","nl-be":"financien/volglijst","nl-nl":"geldzaken/volglijst","pl-pl":"finanse/obserwowane","pt-br":"dinheiro/favoritos","pt-pt":"financas/lista-de-observacao","ru-ru":"money/watchlist","sv-se":"ekonomi/bevakningslista","th-th":"money/watchlist","tr-tr":"finans/izlemelistesi","vi-vn":"money/watchlist","zh-hk":"money/watchlist","zh-tw":"money/watchlist","zh-cn":"money/watchlist"},fe={[L.Movers]:"MostActives",[L.Gainers]:"TopGainers",[L.Losers]:"TopLosers"};function Ce(e,t,i){if(!e||!be[e])return"https://www.msn.com/en-us/money/watchlist";const s=`https://www.msn.${"zh-cn"===e?"cn":"com"}/${e}/${be[e]}`;return i&&fe[i]?`${s}?tab=${fe[i]}`+(t?"&id="+t:""):s+(t?"?id="+t:"")}var ve=i("o1qX");class ye extends l.a{constructor(e){super(e),this.handledProps=Object.assign({},Q),this.navigationTabMarginInited=!1,this.changeThreshold=3,this.navIndex=0,this.newNavIndex=0,this.notificationInlineMs=4500,this.marginList=new Array,this.navBarRef=u.default.createRef(),this.moneyCardRef=u.default.createRef(),this.reminderRef=u.default.createRef(),this.renderQuoteAddReminder=()=>{const{config:e,localizedStrings:t,managedClasses:i,addedQuoteSymbol:s,showReminder:n}=this.props,{financeWatchlistPage:a}=e;return s&&n?u.default.createElement("div",{ref:this.reminderRef},u.default.createElement("a",{className:i.quoteReminderArea,target:"_blank",href:a},u.default.createElement("span",{className:i.quoteReminderText},t.quoteAddedToastText.replace("{stock}",s)),u.default.createElement("span",{className:i.quoteReminderLink},t.seeWatchlistOptStr))):null},this.handleCarouselCardClick=e=>{const{config:t,cardType:i}=this.props,{financeLandingPageLink:s}=t;if(e&&e.target&&("CarouselMoneyCard"===e.target.id||"ContentArea"===e.target.id||"QuoteList"===e.target.id)&&i===j.ShowData){let e=s;const{activeTab:t}=this.props;t&&(e=this.getHeaderFooterLink(t));const i=he(e);window.open(i,"_blank"),E.a.sendActionEvent(this.titleLink.current,D.a.Click,D.b.Navigate)}},this.renderQuoteTitle=(e,t)=>{const{config:i,managedClasses:s}=this.props,{enableDisplayOneRowAllTab:n}=i;return u.default.createElement("div",{className:s.quoteTitlesCntr},this.renderQuoteMainTitle(e,t),n&&this.isHalfCard()||this.renderQuoteSubTitle(e,t))},this.getQuoteTitleText=e=>`${e.displayName} (${this.getQuoteItemSymbol(e)})`,this.getQuoteItemSymbol=e=>{var t;let i=e.symbol;return(null===(t=e.securityType)||void 0===t?void 0:t.toLowerCase())==M.Currency.toLowerCase()&&6===e.symbol.length&&(i=e.symbol.slice(0,3)+"/"+e.symbol.slice(3)),i},this.renderQuoteMainTitle=(e,t)=>{const{config:i,managedClasses:s}=this.props,{enableDisplayOneRowAllTab:n,enableShowSymbol:a}=i,o=e&&e.securityType&&e.securityType.toLowerCase()===M.Currency.toLowerCase()||a&&e&&e.securityType&&e.securityType.toLowerCase()===M.Stocks.toLowerCase(),r=n&&this.isHalfCard()&&!o?e&&e.displayName:this.getQuoteItemSymbol(e),l=this.renderNotificationIconArea(t,e),c=this.isCTAPaginationDotsRightEnabled()?s.quoteFontSmall:"";return u.default.createElement("div",{className:s.secTitle},u.default.createElement("span",{className:`${s.quoteTitleStr} ${c}`},r),l)},this.renderNotificationIconArea=(e,t)=>{const{config:i,managedClasses:s,metadataType:n,isNotificationFromTaskbar:a}=this.props,{enableNotificationWithoutTaskBar:o}=i,r=e===L.Watchlist&&(o&&n===le.a.StockQuote_spotlight||a)&&this.getNotificationItem(t,S,T),l=this.getQuoteColor(t.gain,t.unchanged,s.redFill,s.greenFill,"");return r?u.default.createElement("div",{className:`${l} ${s.notificationIcon}`},r):null},this.renderQuoteSubTitle=(e,t)=>{const{managedClasses:i,metadataType:s,config:n,localizedStrings:a,isNotificationFromTaskbar:o}=this.props,{enableNotificationWithoutTaskBar:r}=n;if(this.state.showNotificationInline&&t===L.Watchlist&&(r&&s===le.a.StockQuote_spotlight||o)&&(e.changePcntNumber>=this.changeThreshold||e.changePcntNumber<=-this.changeThreshold)){const t=this.getNotificationItem(e,a.risingNotificationString,a.droppingNotificationString),s=this.getQuoteColor(e.gain,e.unchanged,i.red,i.green,i.grey);return u.default.createElement("div",{className:i.secTitle},u.default.createElement("span",{className:`${s} ${i.secTitleStr}`},t))}return u.default.createElement("div",{className:i.secTitle},u.default.createElement("span",{className:i.secTitleStr},e.displayName))},this.getNotificationItem=(e,t,i)=>e.changePcntNumber>=this.changeThreshold?t:e.changePcntNumber<=-this.changeThreshold?i:null,this.renderQuoteCurrentValues=e=>{const{managedClasses:t}=this.props,i=this.getClassNameByCardSize(t.priceStrHalf,t.priceStrFull),s=this.isCTAPaginationDotsRightEnabled()?t.quoteFontSmall:"";return u.default.createElement("div",{className:t.price},u.default.createElement("span",{className:`${i} ${s}`},e.price))},this.renderRecommendedQuoteChangeValues=e=>{const{managedClasses:t}=this.props,i=this.getQuoteColor(e.gain,e.unchanged,t.red,t.green,t.grey),s=this.getClassNameByOneRowStyle(t.changeValueStr,t.changeValueStrOneRow,t.changeValueStrOneRow),n=this.isCTAPaginationDotsRightEnabled()?t.quoteFontSmall:"";return u.default.createElement("div",{className:i},u.default.createElement("div",{className:t.changeValueArea},u.default.createElement("span",{className:`${s} ${n}`},"‎",e.changePcnt,"‎")))},this.renderQuoteStatusInWatchlist=e=>{const{quoteId:t}=e;return this.isInWatchlist(t)?this.renderQuoteCompleted():this.renderQuoteAddToWatchlist(e)},this.renderQuoteAddToWatchlist=e=>{const{quoteId:t,symbol:i,enableTab:s,isActiveTab:n,isTabOut:a}=e,{config:o,managedClasses:r,telemetry:l,localizedStrings:c}=this.props,{enableCTAPaginationDotsRight:d}=o,h=n&&s?void 0:-1,g=a?e=>this.handleKeyDown(e):void 0,m=null==c?void 0:c.addToWatchlistHint,b=m,f=this.isHalfCard()&&d?r.addToWatchlistButtonSmall:"";return u.default.createElement("button",Object.assign({},l.addToWatchlistButtonClick,{className:`${r.addToWatchlistButton} ${f}`,onClick:e=>this.addToWatchlist(e,t,i),title:m,"aria-label":b,tabIndex:h,onKeyDown:g}),p)},this.renderQuoteCompleted=()=>{const{config:e,managedClasses:t}=this.props,{enableCTAPaginationDotsRight:i}=e,s=this.isHalfCard()&&i?t.addToWatchlistButtonSmall:"";return u.default.createElement("div",{className:`${t.quoteCompleted} ${s}`},m)},this.addToWatchlist=(e,t,i)=>{const{addToWatchlist:s}=this.props;this.isInWatchlist(t)||(E.a.sendActionEvent(e.target,D.a.Click,D.b.Undefined),s(e,t,i),this.displayReminder())},this.handleOnMouseEnterCard=e=>{e.preventDefault(),this.isMouseIn=!0,this.clearTopicAutoScroll(),this.setState({showCarouselContainer:!0})},this.handleOnMouseLeaveCard=e=>{e.preventDefault(),this.isMouseIn=!1,this.startTopicAutoScroll(),this.setState({showCarouselContainer:!1})},this.handleKeyUp=e=>{"Tab"===e.key&&(this.isMouseIn=!0,this.clearTopicAutoScroll(),this.setState({showCarouselContainer:!0}))},this.handleKeyDown=(e,t=!1)=>{if("Tab"===e.key){const i=t&&!0===e.shiftKey,s=!t&&!1===e.shiftKey;(i||s)&&(this.isMouseIn=!1,this.startTopicAutoScroll(),this.setState({showCarouselContainer:!1}))}},this.handleOnMouseEnterCarousel=(e,t)=>{e.preventDefault();const{refreshMoneyCardData:i,tabList:s}=this.props;this.refreshDataPromise=new Promise(e=>Object(r.b)(this,void 0,void 0,(function*(){yield i(),e()})));const n=s.length;if(t){let e=this.navIndex+1;e%=n;const t=this.getTabType(e),i={showHintNext:!0,hintNextText:this.getTabText(t)};this.setState(i)}else{let e=this.navIndex-1;e=e<0?e+n:e;const t=this.getTabType(e),i={showHintPrevious:!0,hintPreviousText:this.getTabText(t)};this.setState(i)}},this.isValidNavIndex=e=>{const t=this.props.tabList||[];return e>=0&&e<t.length},this.getTabType=e=>{const t=this.props.tabList||[];if(!this.isValidNavIndex(e))return;return t[e].tabType},this.getTabText=e=>{var t;const{localizedStrings:i}=this.props;let s=null===(t=null==i?void 0:i.tabs[e])||void 0===t?void 0:t.title;if(e===L.Watchlist){const t=this.getQuoteItems(e);(null==t?void 0:t.length)<2&&(s=null==i?void 0:i.suggestedForYouText)}return e!==L.Recommendation||s?s:i.suggestedForYouText},this.handleOnMouseLeaveCarousel=(e,t)=>{e.preventDefault(),t?this.setState({showHintNext:!1}):this.setState({showHintPrevious:!1})},this.handleNavigationButtonClick=(e,t)=>Object(r.b)(this,void 0,void 0,(function*(){e.preventDefault();const{config:i,tabList:s}=this.props,{enableInfiniteScroll:n}=i,a=this.navBarRef.current,o=s.length;if(a){yield this.refreshDataPromise,yield this.props.refreshMoneyCardData();let e=this.navIndex;if(n)e=t?this.navIndex+1:this.navIndex-1,e=e<0?e+o:e,e%=o;else if(t&&this.navIndex<o-1)e=this.navIndex+1;else{if(t||!(this.navIndex>0))return;e=this.navIndex-1}this.newNavIndex=e,this.updateNavigationMarginByIndex(t),this.props.updateUserEngagedStatus()}if(t){let e=this.newNavIndex+1;e%=o;const t=this.getTabType(e),i={hintNextText:this.getTabText(t)};n||0!==e||(i.showHintNext=!1),this.setState(i)}else{let e=this.newNavIndex-1;e=e<0?e+o:e;const t=this.getTabType(e),i={hintPreviousText:this.getTabText(t)};n||e!==o-1||(i.showHintPrevious=!1),this.setState(i)}})),this.handleMenuClick=()=>{this.props.updateUserEngagedStatus()};const{cardSize:t,updateTabListByCardSize:i}=this.props;i&&i(t),this.state={showCarouselContainer:!1,showHintPrevious:!1,showHintNext:!1,hintPreviousText:"",hintNextText:"",showNotificationInline:!0},this.titleLink=u.default.createRef(),this.isMouseIn=!1,this.marginList=[0,300]}componentDidMount(){super.componentDidMount();const{config:e,isNotificationFromTaskbar:t,initFinanceServices:i,refreshMoneyCardData:s}=this.props,{enableAutoRefresh:n,enableTopicAutoScroll:a,enableNotificationWithoutTaskBar:o,intervalTopicAutoScroll:r,notificationTextDisplayTimeMS:l}=e;if(i&&i(),a&&(this.setIntersectionObserver(),this.startTopicAutoScroll(),setTimeout(()=>s(),r/2)),n&&(this.initializeAutoRefresh(),document.addEventListener("visibilitychange",()=>{document.hidden?this.clearAutoRefresh():this.startAutoRefresh()})),o||t){const e=l||this.notificationInlineMs;setTimeout(()=>this.setState({showNotificationInline:!1}),e)}}componentDidUpdate(){super.componentDidUpdate();const{config:e}=this.props,{enableTopicAutoScroll:t}=e;t&&!this.isMouseIn&&this.startTopicAutoScroll()}componentWillUnmount(){const{config:e}=this.props,{enableTopicAutoScroll:t}=e;t&&this.unsetIntersectionObserver()}initializeAutoRefresh(){const{config:e,refreshMoneyCardData:t}=this.props,{enableAutoRefresh:i,intervalAutoRefresh:s}=e;i&&s&&setTimeout(()=>{t(),this.startAutoRefresh()},s)}startAutoRefresh(){const{config:e,refreshMoneyCardData:t}=this.props,{enableAutoRefresh:i,intervalAutoRefresh:s}=e;i&&s&&!this.autoRefreshThread&&(this.autoRefreshThread=setInterval(()=>t(!0),s))}startTopicAutoScroll(){const{config:e,userEngaged:t,cardVisible:i}=this.props,{enableStopScrollAfterClick:s,intervalTopicAutoScroll:n}=e;if((!s||!t)&&i&&!this.autoScrollThread){const e=()=>this.scrollCurrentTab(),t=n||1e5;this.autoScrollThread=setInterval(e,t)}}clearAutoRefresh(){this.autoRefreshThread&&clearInterval(this.autoRefreshThread),this.autoRefreshThread=void 0}clearTopicAutoScroll(){this.autoScrollThread&&clearInterval(this.autoScrollThread),this.autoScrollThread=void 0}render(){super.render();const e=u.default.createElement(pe,Object.assign({},this.props,{setNavIndex:this.setNavIndex.bind(this),setNewNavIndex:this.setNewNavIndex.bind(this),setNavBarMarginOnInit:this.setNavBarMarginOnInit.bind(this)})),t=this.renderFullCarouselLayout();return u.default.createElement("div",null,e,t)}setNavIndex(e){this.navIndex=e}setNewNavIndex(e){this.newNavIndex=e}showQuoteSearchPage(){const{cardType:e}=this.props;return e===j.AddWatchlist}getFullClickProps(e="MoneyCard"){const{cardType:t}=this.props;return t===j.ShowData?{id:e,style:{cursor:"pointer"}}:null}renderFullCarouselLayout(){const{managedClasses:e,telemetry:t,tabList:i}=this.props;if(!i||0===i.length)return null;const s=this.getClassNameByGradientColor(e.contentAreaCarousel,e.contentAreaCarousel_gradientColor),n=this.getMultiTabUl(),a=this.showQuoteSearchPage()?{display:"none"}:{};return u.default.createElement(se.a,Object.assign({className:e.outerCard},this.unhandledProps(),t.quoteListPageView,{style:a}),u.default.createElement("div",{className:s,ref:this.moneyCardRef,onKeyUp:e=>this.handleKeyUp(e),onMouseEnter:e=>this.handleOnMouseEnterCard(e),onMouseLeave:e=>this.handleOnMouseLeaveCard(e)},n,this.renderCarousel(),this.renderQuoteAddReminder()))}getMultiTabUl(){const{managedClasses:e}=this.props,t=this.getTabContentForScroll(),i=e.multiTabUl;return u.default.createElement("ul",{id:"navBarElement",className:i,ref:this.navBarRef},t)}getTabContentForScroll(){const{managedClasses:e,telemetry:t,tabList:i}=this.props,s=[i[i.length-1],...i,i[0]];return s.map((i,n)=>u.default.createElement("li",Object.assign({className:e.multiTabUlItem,key:n},t.getMultiTabViewTelemetryTags(i.tabType)),this.renderContentDiv(i,0!=n&&n!=s.length-1)))}renderCarousel(){const{tabList:e}=this.props;if(!e||e.length<=1)return null;const t=this.renderCarouselPreviousButton(),i=this.renderCarouselNextButton(),s=this.renderCarouselPreviousHint(),n=this.renderCarouselNextHint();return u.default.createElement("div",null,t,i,s,n)}renderCarouselPreviousButton(){const{config:e,managedClasses:t,telemetry:i}=this.props,{enableInfiniteScroll:s}=e;let n=t.navDirectionLeft;0===this.navIndex&&!s&&(n=t.navDirectionHidden);const a=J?g:h;return u.default.createElement("button",Object.assign({className:n,tabIndex:0,"aria-label":this.state.hintPreviousText,onClick:e=>this.handleNavigationButtonClick(e,!1),onMouseEnter:e=>this.handleOnMouseEnterCarousel(e,!1),onMouseLeave:e=>this.handleOnMouseLeaveCarousel(e,!1),onFocus:e=>this.handleOnMouseEnterCarousel(e,!1),onBlur:e=>this.handleOnMouseLeaveCarousel(e,!1),onKeyDown:e=>this.handleKeyDown(e,!0)},i.carouselPreviousButtonClick),a)}renderCarouselNextButton(){const{config:e,managedClasses:t,telemetry:i}=this.props,{enableInfiniteScroll:s}=e;let n=t.navDirectionRight;const a=this.props.tabList||[];this.navIndex===a.length-1&&!s&&(n=t.navDirectionHidden);const o=J?h:g;return u.default.createElement("button",Object.assign({className:n,tabIndex:0,"aria-label":this.state.hintNextText,onClick:e=>this.handleNavigationButtonClick(e,!0),onMouseEnter:e=>this.handleOnMouseEnterCarousel(e,!0),onMouseLeave:e=>this.handleOnMouseLeaveCarousel(e,!0),onFocus:e=>this.handleOnMouseEnterCarousel(e,!0),onBlur:e=>this.handleOnMouseLeaveCarousel(e,!0)},i.carouselNextButtonClick),o)}renderCarouselPreviousHint(){const{managedClasses:e}=this.props,t=u.default.createElement("div",{className:e.carouselPreviousHint},this.state.hintPreviousText);return this.state.showHintPrevious?t:null}renderCarouselNextHint(){const{managedClasses:e}=this.props,t=u.default.createElement("div",{className:e.carouselNextHint},this.state.hintNextText);return this.state.showHintNext?t:null}getClassNameByCardSize(e,t){return this.isHalfCard()?e:t}getClassNameByOneRowStyle(e,t,i){const{config:s}=this.props,{enableDisplayOneRowAllTab:n,enableDisplayMoreButton:a}=s;return n&&this.isHalfCard()?a?i:t:e}getMoneyCardMenuItems(){const{localizedStrings:e,config:t,telemetry:i,dataFrom:s,updateState:n,hideCardAction:a,dataProviderAction:o,moreSettingAction:r}=this.props,{enableHideCard:l,financeDataProviderPage:c}=t;let d=[];if(s===k.Watchlist){const t=()=>{const e={cardType:j.AddWatchlist};n(e)};d.push({key:"addSymbol",icon:oe.b.Plus,text:e.addSymbolOptStr,onSelect:t,telemetryTag:i.menuAddSymbolButtonClick})}return l&&d.push({key:"hideCard",icon:oe.b.HideV2,text:e.hideCardOptStr,onSelect:a,telemetryTag:i.menuHideCardButtonClick}),d=d.concat({key:"dataProvider",icon:oe.b.DataProvider,text:e.dataProviderOptStr,onSelect:()=>o(c),telemetryTag:i.menuAboutDataLinkClick},{key:"moreSetting",icon:oe.b.SettingsIcon,text:e.moreSettingOptStr,onSelect:r,telemetryTag:i.menuMoreSettingsLinkClick}),d}renderContextMenu(e=!0){const{config:t,localizedStrings:i,managedClasses:s,telemetry:n,requestContext:a}=this.props,{enableGradientColor:o,menuOffsetX:r,menuOffsetY:l,menuPortalSelector:c,menuScrollingSelector:h}=t,g={x:r||0,y:l||0},m=this.getClassNameByGradientColor(s.optionButton,s.optionButton_gradientColor);if(!e)return u.default.createElement("div",{className:m},u.default.createElement(re.a,{className:s.settingButtonIcon}));const p=o?ie:te;return u.default.createElement("div",{className:m,onClick:e=>this.handleMenuClick()},u.default.createElement(d.a,Object.assign({},n.contextMenuClick,{requestContext:a,buttonTitle:i.menuButtonLabel,zIndex:N.a.Above+5,positionOffset:g,jssStyleSheet:p,buttonLabel:i.moreSettingOptStr,enabled:e,menuItems:this.getMoneyCardMenuItems(),enableVerticalPlacement:!!c,portalElementSelector:c,scrollingElementSelector:h})))}getQuoteColor(e,t,i,s,n){const{config:a}=this.props,{swapGainLossColor:o}=a;return t?n:o?e?i:s:e?s:i}renderContentDiv(e,t){const{config:i,managedClasses:s}=this.props,{enableCTAPaginationDotsCenter:n,enableCTAPaginationDotsRight:a}=i,o=this.getFullClickProps("CarouselMoneyCard"),r=this.getClassNameByGradientColor(s.moneyCardHalf,s.moneyCardHalf_gradientColor),l=this.getClassNameByGradientColor(s.moneyCardHalfOneRow,s.moneyCardHalfOneRow_gradientColor),c=this.getClassNameByGradientColor(s.moneyCardHalfOneRowSeeMore,s.moneyCardHalfOneRowSeeMore_gradientColor),d=this.getClassNameByOneRowStyle(r,l,c);let h=this.isCTAPaginationDotsRightEnabled()?s.moneyCardHalfOneRowGrid3Item:"";h=this.isCTAPaginationDotsCenterEnabled()?s.moneyCardHalfOneRowGrid2Item:h;const g=this.getClassNameByGradientColor(s.moneyCardFull,s.moneyCardFull_gradientColor),m=n||a?s.moneyCardContrastColor:"",p=this.getClassNameByCardSize(`${d} ${h} ${m}`,`${g} ${m}`),b=this.renderTitle(e,t),f=this.renderShowDataContent(e,t),C=this.renderFooter(e,t);return u.default.createElement("div",Object.assign({className:p},o,{onClick:e=>this.handleCarouselCardClick(e)}),b,f,C)}getTimeStamp(){const{dataTimestamp:e,localizedStrings:t}=this.props,i=(e,t,i,s)=>t<1?null==e?void 0:e.replace("{num}","1").replace("{unit}",i):1===t?null==e?void 0:e.replace("{num}",t.toString()).replace("{unit}",i):t>1?null==e?void 0:e.replace("{num}",t.toString()).replace("{unit}",s):void 0;if(!e)return"";const s=Math.floor(((new Date).getTime()-e)/1e3);if(s<60)return i(null==t?void 0:t.refreshTimeFormat,s,t.time.secondSingle,t.time.secondPlural);const n=Math.floor(s/60);if(n<60)return i(null==t?void 0:t.refreshTimeFormat,n,t.time.minuteSingle,t.time.minutePlural);const a=Math.floor(s/60/60);if(a<24)return i(null==t?void 0:t.refreshTimeFormat,a,t.time.hourSingle,t.time.hourPlural);const o=Math.floor(s/60/60/24);return i(null==t?void 0:t.refreshTimeFormat,o<60?o:60,t.time.daySingle,t.time.dayPlural)}renderTitle(e,t){const{config:i,managedClasses:s}=this.props,{enableManualRefresh:n}=i,a=this.isActiveTab(e.tabType)&&t,o=a?void 0:-1,r=this.renderTitleLink(e,o),l=n?this.renderRefreshButton(o):null,c=this.getClassNameByCardSize(s.titleHalf,s.titleFull),d=this.renderContextMenu(a);return u.default.createElement("div",{className:c},u.default.createElement("div",{className:s.titleContent,id:"CarouselMoneyCard"},r,l),d)}renderTitleLink(e,t){const{config:i,managedClasses:s,telemetry:n}=this.props,{enableCTAPaginationDotsRight:a,enableCTAPaginationDotsCenter:o}=i;let r=this.getClassNameByGradientColor(s.titleLink,s.titleLink_gradientColor);const l=this.getTabText(e.tabType),c=this.getHeaderFooterLink(e),d=a||o?O:null,h=a||o?s.titleLinkColorLight:"";return r=Object(ve.a)(r,[s.titleLink_emphasized,i.enableEmphasizedTitles]),u.default.createElement("a",Object.assign({className:`${r} ${h}`,ref:this.titleLink,"aria-label":l,title:l,href:c,target:"_blank",tabIndex:t},n.headerLinkClick),l,d)}renderRefreshButton(e){const{managedClasses:t,telemetry:i,refreshMoneyCardData:s}=this.props;return u.default.createElement("button",Object.assign({className:t.refreshButton,onClick:()=>s(!0),onMouseEnter:()=>this.forceUpdate(),title:this.getTimeStamp(),tabIndex:e},i.refreshButtonClick),C)}isActiveTab(e){if(!e)return!1;const{activeTab:t}=this.props;return(null==t?void 0:t.tabType)===e}isHalfCard(){const{cardSize:e}=this.props;return e===ne.a.Size1Wx3H}isRecommendedQuote(e,t){const i=null==e?void 0:e.id,s=this.isInWatchlist(i),n=t===L.Watchlist;return!(s||!n)}getQuoteItems(e){if(!e)return[];const{multiTabQuoteItems:t}=this.props;return t&&t[e]||[]}renderShowDataContent(e,t){if(this.isHalfCard())return this.renderContentHalfCard(e,t);const i=e.tabType,s=this.getQuoteItems(i);return i===L.Watchlist?0===s.length?this.renderContentEmptyWatchlist(t):s.length<=3?this.renderContentSomeWatchlist(t):this.renderContentFullWatchlist(t):this.renderContentNotWatchlist(e,t)}renderContentHalfCard(e,t){const{config:i,managedClasses:s}=this.props,{maxQuoteNumHalf:n}=i,a=s.contentHalfCard,o=e.tabType;let r=this.getQuoteItems(o);if(r=r.slice(0,n),o===L.Watchlist){const e=this.getRecommendQuoteItems(n-r.length);r=r.concat(e)}const l=this.renderQuoteRowsArea(r,o,t);return u.default.createElement("div",{id:"ContentArea",className:a},l)}getRecommendQuoteItems(e){if(e<=0)return[];const{multiTabQuoteItems:t}=this.props,i=L.Watchlist,s=(t&&t[i]||[]).map(e=>e.id);let n=this.props.recommendQuoteItems||[];return n=n.filter(e=>!s.includes(e.id)),n=n.filter(e=>!this.isInWatchlist(e.id)),n=n.slice(0,e),n}renderContentEmptyWatchlist(e){const{managedClasses:t}=this.props,i=t.contentEmptyWatchlist,s=this.renderEmptyWatchlistHintArea(),n=this.getRecommendQuoteItems(4),a=L.Watchlist,o=this.renderQuoteRowsArea(n,a,e);return u.default.createElement("div",{id:"ContentArea",className:i},s,o)}renderEmptyWatchlistHintArea(){const{managedClasses:e,localizedStrings:t}=this.props,i=this.getClassNameByGradientColor(e.emptyWatchlistHintArea,e.emptyWatchlistHintArea_gradientColor);let{clickToStartYourWatchlistText:s}=t;s||(s=t.quoteSearchClickHintText);const n=s.split("{icon}"),a=n[0],o=n[1]||"",r=`${a} ⊕ ${o}`;return u.default.createElement("div",{className:i},u.default.createElement("div",{className:e.emptyWatchlistHintAreaSubTitlle},u.default.createElement("span",{title:r},a),f,u.default.createElement("span",{title:r},o)))}renderContentSomeWatchlist(e){const{managedClasses:t}=this.props,i=t.contentSomeWatchlist,s=L.Watchlist;let n=this.getQuoteItems(s);n=n.slice(0,3);const a=this.renderQuoteRowsArea(n,s,e),o=this.getRecommendQuoteItems(4-n.length),r=o.length>0?this.renderDivider():void 0,l=this.renderQuoteRowsArea(o,s,e);return u.default.createElement("div",{id:"ContentArea",className:i},a,r,l)}renderDivider(){const{managedClasses:e,localizedStrings:t}=this.props;return u.default.createElement("div",{className:e.recommendedDividerContainer},u.default.createElement("div",{className:e.recommendedDivider}),u.default.createElement("span",null,t.suggestedForYouText),u.default.createElement("div",{className:e.recommendedDivider}))}renderContentFullWatchlist(e){const{managedClasses:t}=this.props,i=t.contentFullWatchlist,s=L.Watchlist;let n=this.getQuoteItems(s);n=n.slice(0,5);const a=this.renderQuoteRowsArea(n,s,e);return u.default.createElement("div",{id:"ContentArea",className:i},a)}renderContentNotWatchlist(e,t){const{managedClasses:i}=this.props,s=i.contentFullWatchlist,n=e.tabType,a=this.getQuoteItems(n),o=this.renderQuoteRowsArea(a,n,t);return u.default.createElement("div",{id:"ContentArea",className:s},o)}renderQuoteRowsArea(e,t,i){const{config:s,managedClasses:n}=this.props,{enableCTAPaginationDotsRight:a}=s;if(!Array.isArray(e)||0===e.length)return null;const o=`${this.getClassNameByOneRowStyle(n.quoteListHalf,n.quoteListHalfOneRow,n.quoteListHalfOneRowSeeMore)} ${this.isHalfCard()&&a?n.quoteListHalfOneRowSmall:""}`,r=this.getClassNameByCardSize(o,n.quoteListFull);e=this.getSortedQuoteItems(e,t),e=this.getSlicedQuoteItems(e);const l=this.getAdaptiveStyle(e),c=e.map((s,n)=>{const a=n===e.length-1;return this.renderQuoteRow(s,l,t,i,a)});return u.default.createElement("div",{className:r,id:"QuoteList"},c)}getSortedQuoteItems(e,t){const{tabList:i}=this.props,s=i[0].tabType;if(t===L.Gainers&&s!==L.Gainers){const t=e.filter(e=>(null==e?void 0:e.changePcntNumber)>0),i=t.sort((e,t)=>e.changePcntNumber>t.changePcntNumber?-1:1),s=e.filter(e=>!t.includes(e));e=i.concat(s)}else if(t===L.Losers&&s!==L.Losers){const t=e.filter(e=>(null==e?void 0:e.changePcntNumber)<0),i=t.sort((e,t)=>e.changePcntNumber<t.changePcntNumber?-1:1),s=e.filter(e=>!t.includes(e));e=i.concat(s)}else t===L.Watchlist&&s!==L.Watchlist&&(e=e.sort((e,t)=>Math.abs(e.changePcntNumber)>Math.abs(t.changePcntNumber)?-1:1));return e}getSlicedQuoteItems(e){const{config:t}=this.props,{maxQuoteNumHalf:i,maxQuoteNumFull:s}=t,n=this.isHalfCard()?i:s;return e.slice(0,n)}renderFooter(e,t){const{config:i,managedClasses:s}=this.props,{enableDisplayMoreButton:n,enableDisplayOneRowAllTab:a,enableCTAPaginationDotsRight:o,enableCTAPaginationDotsCenter:r}=i;if(this.isHalfCard()&&!a)return null;if((o||r)&&this.isHalfCard())return u.default.createElement("div",{className:s.footerCTA,id:"CarouselMoneyCard"},this.renderSeeMoreButton(e,t),this.renderFooterCarouselDotSlider(e));const l=this.isFooterTwoColumns(),c=l?s.footer_twoColumns:s.footer,d=this.isHalfCard()&&n?this.renderSeeMoreButton(e,t):this.renderFooterLink(e,t),h=l?this.renderFooterCarouselDotSlider(e):null;return u.default.createElement("div",{className:c,id:"CarouselMoneyCard"},d,h)}isFooterTwoColumns(){const{config:e}=this.props,{enableCarouselDot:t,enableDisplayMoreButton:i}=e;return!!t&&(!this.isHalfCard()||!(!this.isHalfCard()||i))}renderFooterLink(e,t){const{managedClasses:i,telemetry:s}=this.props,n=i.footerLink,a=this.getFooterLinkText(e),o=this.getHeaderFooterLink(e),r=this.isActiveTab(e.tabType)&&t?void 0:-1;return u.default.createElement("a",Object.assign({className:n,"aria-label":a,href:o,target:"_blank",tabIndex:r,onKeyDown:e=>this.handleKeyDown(e)},s.seeMoreLinkClick),a)}renderSeeMoreButton(e,t){const{config:i,managedClasses:s,telemetry:n}=this.props,{enableCTAPaginationDotsCenter:a,enableCTAPaginationDotsRight:o}=i,r=this.getClassNameByGradientColor(s.footerSeeMoreButtonText,s.footerSeeMoreButtonText_gradientColor),l=a||o?s.footerSeeMoreButtonTextContrast:r,c=this.getFooterLinkText(e),d=this.getHeaderFooterLink(e),h=this.isActiveTab(e.tabType)&&t?void 0:-1;return u.default.createElement("a",Object.assign({className:l,"aria-label":c,href:d,target:"_blank",tabIndex:h,onKeyDown:e=>this.handleKeyDown(e)},n.seeMoreLinkClick),c)}isWatchlistLinkEnabled(e){const{config:t}=this.props,{enableWatchlistLink:i}=t;return function(e,t){return e===L.Watchlist||e===L.Recommendation||t&&(e===L.Movers||e===L.Gainers||e===L.Losers)}(e.tabType,i)}getHeaderFooterLink(e){var t;const{multiTabQuoteItems:i,config:s}=this.props;return e?this.isWatchlistLinkEnabled(e)&&i&&i[e.tabType]?(n=e.tabType)===L.Movers||n===L.Gainers||n===L.Losers?Ce(Object(A.c)().CurrentMarket,null===(t=i[e.tabType][0])||void 0===t?void 0:t.id,e.tabType):Ce(Object(A.c)().CurrentMarket):e.headerLink||"":s.financeLandingPageLink;var n}renderFooterCarouselDotSlider(e){const{managedClasses:t}=this.props;let i=this.isCTAPaginationDotsRightEnabled()?t.footerCarouselDotSliderRight:t.footerCarouselDotSlider;i=this.isCTAPaginationDotsCenterEnabled()?t.footerCarouselDotSliderCenter:i;const s=this.renderFooterCarouselDotSliderUl(e);return u.default.createElement("div",{className:i},s)}renderFooterCarouselDotSliderUl(e){let{managedClasses:t,tabList:i}=this.props;if(!i||i.length<=1)return null;const s=t.footerCarouselDotSliderUl;i=[...i],J&&(i=i.reverse());const n=i.map(t=>this.renderFooterCarouselDotSliderLi(t,e));return u.default.createElement("ul",{className:s},n)}renderFooterCarouselDotSliderLi(e,t){const{managedClasses:i,telemetry:s}=this.props,n=e.tabType===t.tabType,a=this.getClassNameByGradientColor(i.footerCarouselDotSliderLi,i.footerCarouselDotSliderLi_gradientColor),o=this.isCTAPaginationDotsCenterEnabled()?i.footerCarouselDotSliderLiCenter_notSelected:a;let r=this.isCTAPaginationDotsRightEnabled()?i.footerCarouselDotSliderLiRight_selected:i.footerCarouselDotSliderLi_selected;r=this.isCTAPaginationDotsCenterEnabled()?i.footerCarouselDotSliderLiCenter_selected:r;const l=n?r:o,c=this.handleCarouselDotOnMouseEnter.bind(this),d=this.getTabText(e.tabType),h=this.isCTAPaginationDotsCenterEnabled()?x:w,g=this.isCTAPaginationDotsCenterEnabled()?v:y,m=n?h:g;return u.default.createElement("li",Object.assign({className:l,key:e.tabType,role:"button",tabIndex:-1,onClick:()=>this.handleCarouselDotOnClick.bind(this)(e),onMouseEnter:c,title:d},s.carouselDotButtonClick),m)}handleCarouselDotOnClick(e){return Object(r.b)(this,void 0,void 0,(function*(){const{refreshMoneyCardData:t}=this.props;yield t(),this.updateUlMarginByCarouseDotClick(e)}))}updateUlMarginByCarouseDotClick(e){const{tabList:t,updateState:i}=this.props;this.initNavigationTabMargin();const s=this.navBarRef.current;if(s){i({activeTab:e}),this.newNavIndex=t.indexOf(e),this.navIndex=this.newNavIndex,s.style.transition="none",J?s.style.marginRight=this.getUlMarginLeft():s.style.marginLeft=this.getUlMarginLeft();document.getElementById("navBarElement").offsetHeight,s.style.transition=""}}handleCarouselDotOnMouseEnter(e){return Object(r.b)(this,void 0,void 0,(function*(){e.preventDefault();const{refreshMoneyCardData:t}=this.props;this.refreshDataPromise=new Promise(e=>Object(r.b)(this,void 0,void 0,(function*(){yield t(),e()})))}))}getFooterLinkText(e){const{localizedStrings:t}=this.props,{tabType:i}=e;return i===L.Watchlist?t.goToWatchlistText:t.tabs&&t.tabs[i]?t.tabs[i].seeMore:t.seeMore}isDataFromMarket(){const{dataFrom:e}=this.props;return e===k.Market}getAdaptiveStyle(e){const[t,i]=this.getMaxStringLengths(e),s=9*t,n=56+4*(i-6),a=this.isCTAPaginationDotsRightEnabled()?16:20;if(this.isDataFromMarket()){return{gridTemplateColumns:`${238-s-n}px ${s}px ${n}px`}}return{gridTemplateColumns:`${230-s-n-a}px ${s}px ${n}px ${a}px`}}getMaxStringLengths(e){let t=6,i=6;e&&e.forEach(e=>{e.price&&e.price.length>t&&(t=e.price.length),e.changePcnt&&e.changePcnt.length>i&&(i=e.changePcnt.length),e.changeValue&&e.changeValue.length>i&&(i=e.changeValue.length)});return[t,i]}getQuoteItemTooltip(e,t){const{config:i,localizedStrings:s}=this.props,{enableTooltip:n}=i;if(!n)return"";const a=this.getQuoteTitleText(e);let o=`${a}\r\n${s.quoteItemToolTip}`;return this.isRecommendedQuote(e,t)&&(o=`${s.suggestedForYouText}\r\n${a}`),o}getQuoteRowHalfClassName(){const{managedClasses:e}=this.props,t=this.getClassNameByNoRowHighlight(e.quoteRowHalf_gradientColor,e.quoteRowHalf_gradientColor_noRowHighlight),i=this.getClassNameByGradientColor(e.quoteRowHalf,t),s=this.getClassNameByNoRowHighlight(e.quoteRowHalfSeeMore_gradientColor,e.quoteRowHalfSeeMore_gradientColor_noRowHighlight),n=this.getClassNameByGradientColor(e.quoteRowHalfSeeMore,s);return this.getClassNameByOneRowStyle(i,i,n)}getQuoteRowClassName(){const{managedClasses:e}=this.props,t=this.getQuoteRowHalfClassName(),i=this.getClassNameByNoRowHighlight(e.quoteRowFull_gradientColor,e.quoteRowFull_gradientColor_noRowHighlight),s=this.getClassNameByGradientColor(e.quoteRowFull,i);return this.getClassNameByCardSize(t,s)}getQuoteRowOnKeyDown(e,t){if(e&&this.isHalfCard()&&this.isInWatchlist(t.id)){return e=>this.handleKeyDown(e)}}getQuoteStatusInWatchlist(e){if(this.isDataFromMarket())return null;const{quoteId:t,isLastRow:i}=e;return i&&this.isHalfCard()&&!this.isInWatchlist(t)?this.renderQuoteStatusInWatchlist(Object.assign(Object.assign({},e),{isTabOut:!0})):this.renderQuoteStatusInWatchlist(e)}renderQuoteRow(e,t,i,s,n=!1){const{config:a,managedClasses:o,metadataType:r,isNotificationFromTaskbar:l}=this.props,{enableNotificationWithoutTaskBar:c}=a,d=this.getQuoteRowClassName(),h=this.getQuoteRowAriaLabel(e),g=this.getQuoteItemTooltip(e,i),m=this.isActiveTab(i)&&s,p=m?void 0:-1,b=this.getQuoteRowOnKeyDown(n,e),f=this.renderRecommendedQuoteChangeValues(e),C={quoteId:e.id,symbol:e.symbol,enableTab:s,isActiveTab:m,isLastRow:n},v=this.getQuoteStatusInWatchlist(C),y=i===L.Watchlist&&(c&&r===le.a.StockQuote_spotlight||l)&&this.getNotificationItem(e,!0,!0)?function(e,t){const i=new URL(e);return t&&i.searchParams.append("noti",t),i.href}(e.quoteHref,"price"):e.quoteHref;return u.default.createElement("a",Object.assign({className:d,"aria-label":h,key:e.id,href:y,target:"_blank",title:g,tabIndex:p,onKeyDown:b},e.telemetryTags),u.default.createElement("div",{className:o.quoteRowGrid,style:t},this.renderQuoteTitle(e,i),this.renderQuoteCurrentValues(e),f,v))}getQuoteRowAriaLabel(e){const t=this.getDifferenceIndicator(e);return`${e.displayName} ${e.symbol} ${t} ${e.price} ${e.changeValue} ${e.changePcnt}`}getDifferenceIndicator(e){const{localizedStrings:t}=this.props;let i;return i=e.unchanged?t.unchangedString:e.gain?t.increaseString:t.decreaseString,i}isInWatchlist(e){if(!e||0===e.length)return!1;return(this.props.watchlistQuoteIdSet||new Set).has(e)}displayReminder(){const{updateState:e}=this.props;e({showReminder:!0});setTimeout(()=>{e({showReminder:!1})},4e3)}updateNavigationMarginByIndex(e){const t=this.navBarRef.current,{tabList:i,updateState:s}=this.props;this.initNavigationTabMargin(),this.navIndex<0&&(this.navIndex=0),this.navIndex>i.length-1&&(this.navIndex=i.length-1);const n=()=>{this.navIndex=this.newNavIndex;const e=i[this.newNavIndex];s({activeTab:e})};if(t){let i;J?(t.style.marginRight=this.getUlMarginLeft(e),i=()=>{t.style.marginRight=(0-this.marginList[this.newNavIndex+1]).toString()+"px"}):(t.style.marginLeft=this.getUlMarginLeft(e),i=()=>{t.style.marginLeft=(0-this.marginList[this.newNavIndex+1]).toString()+"px"}),t.addEventListener("transitionend",()=>{n(),t.style.transition="none",i();document.getElementById("navBarElement").offsetHeight,t.style.transition=""})}}getUlMarginLeft(e){const{config:t}=this.props,{enableInfiniteScroll:i}=t;return void 0!==e&&i?e&&this.newNavIndex<this.navIndex?(0-this.marginList[this.navIndex+2]).toString()+"px":!e&&this.newNavIndex>this.navIndex?(0-this.marginList[this.navIndex]).toString()+"px":(0-this.marginList[this.newNavIndex+1]).toString()+"px":(0-this.marginList[this.newNavIndex+1]).toString()+"px"}initNavigationTabMargin(){const e=this.navBarRef.current;if(!this.navigationTabMarginInited&&(this.navigationTabMarginInited=!0,e&&e.children&&this.marginList)){this.marginList.length=0,this.marginList.push(0);for(let t=0;t<e.children.length;t++)this.marginList.push(this.marginList[this.marginList.length-1]+e.children[t].getBoundingClientRect().width)}}setNavBarMarginOnInit(){const e=this.navBarRef.current,t=(0-this.marginList[this.navIndex+1]).toString()+"px";J?e.style.marginRight=t:e.style.marginLeft=t}scrollCurrentTab(){const{config:e,tabList:t,refreshMoneyCardData:i}=this.props,{enableTopicAutoScroll:s}=e;if(s&&t){const s=t.length;let n=this.navIndex;e.enableInfiniteScroll?(n=this.navIndex+1,n=n<0?n+s:n,n%=s):n=this.navIndex<s-1?this.navIndex+1:0,this.newNavIndex=n,i(),this.updateNavigationMarginByIndex(!0)}}setIntersectionObserver(){if(this.intersectionObserver)return;const e=this.moneyCardRef.current;this.intersectionObserver=Object(c.a)(e=>{const{updateState:t}=this.props,i=e[0].intersectionRatio>.4;t({cardVisible:i}),i?this.startAutoRefresh():this.clearAutoRefresh()},{threshold:[.4]}),this.intersectionObserver.observe(e)}unsetIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}isCTAPaginationDotsRightEnabled(){const{config:e}=this.props,{enableCTAPaginationDotsRight:t}=e;return this.isHalfCard()&&t}isCTAPaginationDotsCenterEnabled(){const{config:e}=this.props,{enableCTAPaginationDotsCenter:t}=e;return this.isHalfCard()&&t}getClassNameByGradientColor(e,t){const{config:i}=this.props,{enableGradientColor:s}=i;return s?t:e}getClassNameByNoRowHighlight(e,t){const{config:i}=this.props,{enableNoRowHighlight:s}=i;return s?t:e}}ye.defaultProps={experienceName:ae.a.moneyInfoCard};var xe=i("G82u");class we{}we.getQuoteAutoSuggestionsSuccess=new xe.a("GetQuoteAutoSuggestionsSuccess"),we.getQuoteAutoSuggestionsFailure=new xe.a("GetQuoteAutoSuggestionsFailure"),we.quoteAddToWatchlist=new xe.a("QuoteAddToWatchlist"),we.updateState=new xe.a("UpdateState");var Se=i("W+kI"),Te=i("XlyT"),Oe=i("HxRh"),Ie=i("WfnD");class je{constructor(e={}){this.__cache=new Map(Object.entries(e))}get(e){return this.__cache.get(e)}set(e,t){this.__cache.set(e,t)}keys(){return Array.from(this.__cache.keys())}has(e){return this.__cache.has(e)}clear(){this.__cache.clear()}delete(e){this.__cache.delete(e)}}const ke=new je;new je;var Re=i("k112"),Ne=i("KUTD"),Ae=i("b3T/"),Qe=i("1aPi");const Le={inspect:e=>{const{config:t,config:{localizedStrings:i},connectorArgs:s}=e;return{props:{config:t,localizedStrings:i},missingChildren:[]}}},Me="finance",Ee="money",De="MoneyCard",Fe="money_header",Be="see_more",He="quote_add_to_watchlist",Pe="manual_refresh",We="switch_showing_value",_e="money_carousel_previous",qe="money_carousel_next",ze="carousel_dot_click",Ue="moneycard_customization",$e="moneycard_customization_add_watchlist",Ve="moneycard_customization_hide",Ge="moneycard_customization_data_provider",Ke="moneycard_customization_more",Ze="MoneyAddWatchlistCard",Ye="money_auto_suggestion",Xe="go_back_view",Je="add_to_watchlist",et="money_stock",tt="recommend_money_stock",it="Add Symbol",st="moneycard_customization",nt="Add symbol",at="About this data",ot="More settings",rt="Add Symbol";class lt{constructor(e,t){this.config=e,this.getPersonalizedUrl=t}buildTelemetryTags(e,t){if(e&&t)return t=Object.assign(Object.assign({},t),{content:Object.assign(Object.assign({},t.content),{type:D.c.StructuredData,vertical:Me,category:Ee})}),e.addOrUpdateChild(t).render()}build(e){e&&(this.quoteListPageTelemetryObject=e.addOrUpdateChild({name:De,action:D.a.View,behavior:D.b.Undefined}),this.quoteListPageView=this.quoteListPageTelemetryObject.render(),this.headerLinkClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:Fe,action:D.a.Click,behavior:D.b.Navigate,type:D.d.Header}),this.seeMoreLinkClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:Be,action:D.a.Click,behavior:D.b.Navigate,type:D.d.Footer}),this.addToWatchlistButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:He,action:D.a.Click,behavior:D.b.Undefined,type:D.d.ActionButton,content:{headline:it}}),this.refreshButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:Pe,action:D.a.Click,behavior:D.b.Undefined,type:D.d.ActionButton}),this.switchValueButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:We,action:D.a.Click,behavior:D.b.Undefined,type:D.d.ActionButton}),this.carouselPreviousButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:_e,action:D.a.Click,behavior:D.b.Undefined,type:D.d.Carousel}),this.carouselNextButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:qe,action:D.a.Click,behavior:D.b.Undefined,type:D.d.Carousel}),this.carouselDotButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:ze,action:D.a.Click,behavior:D.b.Undefined,type:D.d.Carousel}),this.contextMenuClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:Ue,action:D.a.Click,behavior:D.b.More,type:D.d.ActionButton,content:{headline:st}}),this.menuAddSymbolButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:$e,action:D.a.Click,behavior:D.b.Undefined,type:D.d.ActionButton,content:{headline:nt}}),this.menuHideCardButtonClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:Ve,action:D.a.Click,behavior:D.b.Undefined,type:D.d.ActionButton,content:{headline:at}}),this.menuAboutDataLinkClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:Ge,action:D.a.Click,behavior:D.b.Navigate,type:D.d.ActionButton,overrideDestinationUrl:this.config.financeDataProviderPage,content:{headline:nt}}),this.menuMoreSettingsLinkClick=this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:Ke,action:D.a.Click,behavior:D.b.Navigate,type:D.d.ActionButton,overrideDestinationUrl:this.getPersonalizedUrl(),content:{headline:ot}}),this.searchPageTelemetryObject=e.addOrUpdateChild({name:Ze,action:D.a.View,behavior:D.b.Undefined}),this.searchPageView=this.searchPageTelemetryObject.render(),this.searchPageInputKeyPress=this.buildTelemetryTags(this.searchPageTelemetryObject,{name:Ye,action:D.a.KeyPress,behavior:D.b.Undefined,type:D.d.AutoSuggest}),this.searchPageCancelButtonClick=this.buildTelemetryTags(this.searchPageTelemetryObject,{name:Xe,action:D.a.Click,behavior:D.b.Undefined,type:D.d.ActionButton}),this.searchPageAddToWatchlistButtonClick=this.buildTelemetryTags(this.searchPageTelemetryObject,{name:Je,action:D.a.Click,behavior:D.b.Undefined,type:D.d.ActionButton,content:{headline:rt}}))}getMultiTabViewTelemetryTags(e){return this.quoteListPageTelemetryObject?this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:e||"default",action:D.a.View,behavior:D.b.Undefined}):null}getQuoteItemLinkClickTelemetryTags(e,t){if(!this.quoteListPageTelemetryObject)return null;const i=t?tt:et;return this.buildTelemetryTags(this.quoteListPageTelemetryObject,{name:i,action:D.a.Click,behavior:D.b.Navigate,content:{headline:e}})}}const ct={[L.Watchlist]:[],[L.Market]:[],[L.Currencies]:[],[L.Movers]:[],[L.Gainers]:[],[L.Losers]:[],[L.Recent]:[],[L.Recommendation]:[]};class dt extends Ie.a{constructor(e,t,s,n,a,o,l){super(e,t,s,n,a,o,l),this.updateTabListByCardSize=e=>{var t;this.cardSize=e;const i=this.getCurrentState().tabList||[],s=null===(t=i[0])||void 0===t?void 0:t.tabType,n=this.multiTabQuoteItems[s],a=n&&n.length||0,o=e===ne.a.Size1Wx3H?2:4,r=this.getCurrentState().watchlistQuoteIdSet||new Set,l=this.recommendQuoteItems.filter(e=>!r.has(e.id));this.tryToAddRecommendationTab(s,a,o,i,l.length),this.tryToShuffleQuoteItems(e);const c={tabList:i};this.updateState(c)},this.initFinanceServices=()=>Object(r.b)(this,void 0,void 0,(function*(){if(!(null==this?void 0:this.financeUserService)||!(null==this?void 0:this.financeAutoSuggestService)||!(null==this?void 0:this.financeService)){const{getFinanceDataConnector:e,FinanceServices:t}=yield Promise.all([i.e("weather-data-connector"),i.e(17)]).then(i.bind(null,"S/Dy"));e().config.enableUnsignedWatchlist=this.config.enableUnsignedWatchlist,this.financeUserService=t.getFinanceUserService(this.config.enableUnsignedWatchlist),this.financeAutoSuggestService=t.getAutoSuggestService(),this.financeService=t.getFinanceService()}})),this.getQuoteHref=(e,t,i,s)=>e?i&&e.securityType&&"zh-cn"!=Object(A.c)().CurrentMarket&&e.securityType.toLowerCase()!=M.Currency.toLowerCase()?Ce(Object(A.c)().CurrentMarket,e.id,s):t?e.quoteHref:"zh-cn"===Object(A.c)().CurrentMarket?"https://www.msn.cn"+e.quoteHref:"https://www.msn.com"+e.quoteHref:this.config.financeLandingPageLink,this.goBackCardType=()=>{const e={cardType:j.ShowData};this.updateState(e),we.getQuoteAutoSuggestionsSuccess.getActionSender(this).send([],!0)},this.hideCardAction=()=>Object(r.b)(this,void 0,void 0,(function*(){yield this.initFinanceServices();const e=yield this.financeUserService.enableDisableMoneyCard(!1);return e&&Ae.b.requestContentAndWebViewRefresh.getActionSender(this).send(),e})),this.dataProviderAction=e=>{window.open(e,"_blank")},this.moreSettingAction=()=>{const e=this.getPersonalizeUrl();window.open(e,"_blank")},this.getPersonalizeUrl=()=>{let e;if(this.config.moreSettingUrl){e=new URL(this.config.moreSettingUrl.replace("{localeCode}",A.b.CurrentMarket));Object(ue.b)()&&e.searchParams.append("ocid",Object(ue.b)())}else{const t=Object(Se.a)(),i=new URL("/personalize/settings",window.location.origin);i.search=t.toString(),e=i}return e.href},this.handleTextInput=Object(Qe.a)((e,t)=>Object(r.b)(this,void 0,void 0,(function*(){const i=e.trim();if(E.a.sendActionEvent(t.target,D.a.KeyPress,D.b.Customize),""!==i)try{const e=yield this.getAutoSuggest(i);if(e&&0!==e.length){const t=e.map(e=>Object.assign(Object.assign({},e),{telemetryTags:this.telemetry.getQuoteItemLinkClickTelemetryTags(e.equitySymbol,!1)}));we.getQuoteAutoSuggestionsSuccess.getActionSender(this).send(t,!1)}else we.getQuoteAutoSuggestionsFailure.getActionSender(this).send(!0);return}catch(e){we.getQuoteAutoSuggestionsFailure.getActionSender(this).send(!0)}else we.getQuoteAutoSuggestionsSuccess.getActionSender(this).send([],!0)})),200),this.hideQuoteSuggestions=()=>{we.getQuoteAutoSuggestionsSuccess.getActionSender(this).send([],!0)},this.getAutoSuggest=e=>Object(r.b)(this,void 0,void 0,(function*(){return yield this.initFinanceServices(),this.financeAutoSuggestService.getAutoSuggest(e,4)})),this.addToWatchlist=(e,t,i)=>Object(r.b)(this,void 0,void 0,(function*(){null==e||e.preventDefault(),null==e||e.stopPropagation(),Object(Re.a)(Ne.a.MoneyCardChange),this.autoRetryAddToWatchlist(t),this.addToWatchlistByLocalState(t)||(yield this.addToWatchlistByApi(t)),we.quoteAddToWatchlist.getActionSender(this).send(t),we.getQuoteAutoSuggestionsSuccess.getActionSender(this).send([],!0),Ae.b.requestContentAndWebViewRefresh.getActionSender(this).send(!0);const s={cardType:j.ShowData,addedQuoteSymbol:i};this.updateState(s)})),this.addToWatchlistByLocalState=e=>{const t=this.getCurrentState().multiTabQuoteItems||ct;let i=[];Object.keys(t).forEach(e=>{const s=t[e]||[];i=i.concat(s)});const s=this.getCurrentState().recommendQuoteItems;i=i.concat(s);const n=i.map(e=>e.id).indexOf(e);if(-1===n)return!1;let a=i[n];a=Object.assign(Object.assign({},a),{quoteHref:this.getQuoteHref(a,!0,!0)});let o=t[L.Watchlist]||[];o=[...o,a],t[L.Watchlist]=o;const r={multiTabQuoteItems:t};return this.updateState(r),!0},this.addToWatchlistByApi=e=>Object(r.b)(this,void 0,void 0,(function*(){yield this.initFinanceServices();const t=this.getCurrentState().multiTabQuoteItems||ct,i=[...(t[L.Watchlist]||[]).map(e=>e.id),e];let s=yield this.financeService.getQuoteSummary(i,2);s=s.map(e=>Object.assign(Object.assign({},e),{quoteHref:this.getQuoteHref(e,!0,!0)})),t[L.Watchlist]=s;const n={multiTabQuoteItems:t};this.updateState(n)})),this.updateUserEngagedStatus=()=>Object(r.b)(this,void 0,void 0,(function*(){yield this.refreshMoneyCardData();this.updateState({userEngaged:!0})})),this.updateState=e=>{we.updateState.getActionSender(this).send(e)},this.getEnableMovers=()=>{const e=(this.config.tabList||[]).map(e=>e.tabType),t=e.includes(L.Movers),i=e.includes(L.Gainers),s=e.includes(L.Losers);return t&&i&&s},this.refreshMoneyCardData=e=>Object(r.b)(this,void 0,void 0,(function*(){var t,i,s;if(this.isDataRefreshed&&!e)return;yield this.initFinanceServices(),ke.clear();const n=this.getEnableMovers()?yield this.financeService.getMarketMovers():{},a=this.config.maxNumQuotes?this.config.maxNumQuotes:5,o=this.getRandomQuoteIds(L.Watchlist,this.getWatchlistQuoteIds());let r=this.getRandomQuoteIds(L.Market,this.getQuoteIds_marketTab(a)),l=this.getRandomQuoteIds(L.Currencies,this.getQuoteIds_currencyTab(a));const c=this.config.maxQuoteNumMover?this.config.maxQuoteNumMover:10;let d=this.getRandomQuoteIds(L.Movers,(null===(t=n.active)||void 0===t?void 0:t.slice(0,c))||[]),u=this.getRandomQuoteIds(L.Gainers,(null===(i=n.gainers)||void 0===i?void 0:i.slice(0,c))||[]),h=this.getRandomQuoteIds(L.Losers,(null===(s=n.losers)||void 0===s?void 0:s.slice(0,c))||[]);const g=this.getFirstTabType(),m=this.getFirstTabQuoteIds();g===L.Movers?d=m:g===L.Gainers?u=m:g===L.Losers?h=m:g===L.Market?r=m:g===L.Currencies&&(l=m);const p=this.config.enableWatchlistLink,b=[...o,...r,...l,...d,...u,...h],f=yield this.financeService.getQuoteSummary(b,2),C=this.getQuoteMapIdToItem(f),v=this.getQuoteItemsByIds(C,o,p),y=this.getQuoteItemsByIds(C,r),x=this.getQuoteItemsByIds(C,l),w=this.getQuoteItemsByIds(C,d,p,L.Movers),S=this.getQuoteItemsByIds(C,u,p,L.Gainers),T=this.getQuoteItemsByIds(C,h,p,L.Losers);this.multiTabQuoteItems={[L.Watchlist]:v,[L.Market]:y,[L.Currencies]:x,[L.Movers]:w,[L.Gainers]:S,[L.Losers]:T,[L.Recent]:[],[L.Recommendation]:this.recommendQuoteItems},this.isDataRefreshed=!0;const O=(new Date).getTime(),I={multiTabQuoteItems:this.multiTabQuoteItems,dataTimestamp:O};this.updateState(I)})),this.getQuoteMapIdToItem=e=>{const t=new Map;if(!e)return t;for(let i=0;i<e.length;i+=1){const s=e[i],n=s.id;t.set(n,s)}return t},this.getQuoteItemsByIds=(e,t,i,s)=>{if(!e||!t||0===t.length)return[];const n=[];for(let a=0;a<t.length;a+=1){const o=t[a];if(e.has(o)){let t=e.get(o);t=Object.assign(Object.assign({},t),{quoteHref:this.getQuoteHref(t,!0,i,s),telemetryTags:this.telemetry.getQuoteItemLinkClickTelemetryTags(t.symbol,!1)}),n.push(t)}}return n},this.telemetry=new lt(o,this.getPersonalizeUrl.bind(this))}mapStateToProps(e){const t={config:this.config},i=Le.inspect(t);return Object.assign(Object.assign(Object.assign(Object.assign({},i.props),this.telemetryTags),e),{telemetry:this.telemetry,requestContext:this.requestContext,dataProviderAction:this.dataProviderAction.bind(this),hideCardAction:this.hideCardAction.bind(this),moreSettingAction:this.moreSettingAction.bind(this),addToWatchlist:this.addToWatchlist.bind(this),goBackCardType:this.goBackCardType.bind(this),handleTextInput:this.handleTextInput.bind(this),hideQuoteSuggestions:this.hideQuoteSuggestions.bind(this),updateUserEngagedStatus:this.updateUserEngagedStatus.bind(this),updateState:this.updateState.bind(this),refreshMoneyCardData:this.refreshMoneyCardData.bind(this),initFinanceServices:this.initFinanceServices.bind(this),updateTabListByCardSize:this.updateTabListByCardSize.bind(this)})}onComponentConnect(e){return Object(r.b)(this,void 0,void 0,(function*(){Ie.a.prototype.onComponentConnect.call(this,e);const t=this.getSelectedCardId();if(e&&e.serviceContextMetadata&&void 0!==e.serviceContextMetadata.cardId&&e.serviceContextMetadata.cardId===t||e&&e.serviceContextMetadata&&e.serviceContextMetadata.type===le.a.StockQuote_spotlight?(this.config.enableTopicAutoScroll=!1,this.supportedRiverCardSizes=ne.a.Size1Wx6H):this.supportedRiverCardSizes=ne.a.Size1Wx3H|ne.a.Size1Wx6H,this.telemetry.build(this.telemetryObject),e&&e.serviceContextMetadata){const i=e.serviceContextMetadata;if(!i)return this.supportedRiverCardSizes=ne.a.None,void Object(Te.c)(null,Oe.xc,"InitialProps must have serviceContextMetadata");const s=i.type;if(!s||s!==le.a.StockQuote&&s!==le.a.StockQuote_spotlight)return this.supportedRiverCardSizes=ne.a.None,void Object(Te.c)(null,Oe.xc,"InitialProps must have type StockQuote","Expecting type StockQuote, but got "+s);const n=i.data;let a;try{a=JSON.parse(n)}catch(e){return this.supportedRiverCardSizes=ne.a.None,void Object(Te.c)(e,Oe.xc,"StockQuote data response from OneService cannot be parsed as JSON",n)}if(!this.config.enableDynamicTabs||!this.isEnableDynamicTabs(a)){Object(Te.c)(null,Oe.xc,"StockQuote data dynamic tabs response from OneService is not valid",n);try{const{marketQuoteIds:e}=this.config;yield this.initFinanceServices();const t=yield this.financeService.getQuoteSummary(e,2);a={quoteItems:[],dataFrom:k.Market,userSignedIn:!1,dataTimestamp:(new Date).getTime(),fullWatchlistQuoteIds:[],recommendQuoteItems:[],tabs:[L.Market],tabListDetails:{[L.Market]:{quoteIds:e,quoteItems:t}}}}catch(e){return void(this.supportedRiverCardSizes=ne.a.None)}}let o=!1;e&&e.serviceContextMetadata&&void 0!==e.serviceContextMetadata.cardId&&e.serviceContextMetadata.cardId===t&&(o=!0);const r={metadataType:e.serviceContextMetadata.type,isNotificationFromTaskbar:o};this.updateState(r),this.initMoneyCardData(a)}}))}getSelectedCardId(){return window.ShellFeedsApp&&window.ShellFeedsApp.getSelectedHeadlineId?parseInt(window.ShellFeedsApp.getSelectedHeadlineId()):void 0}initMoneyCardData(e){var t,i,s;if(!e)return;this.dataFrom=e.dataFrom,this.userSignedin=e.userSignedIn;const n=e.dataTimestamp;this.quoteItems=e.quoteItems.map(e=>Object.assign(Object.assign({},e),{quoteHref:this.getQuoteHref(e,!1,this.dataFrom==k.Watchlist),telemetryTags:this.telemetry.getQuoteItemLinkClickTelemetryTags(e.symbol,!1)})),this.recommendQuoteItems=e.recommendQuoteItems.map(e=>Object.assign(Object.assign({},e),{quoteHref:this.getQuoteHref(e,!1,!0),telemetryTags:this.telemetry.getQuoteItemLinkClickTelemetryTags(e.symbol,!0)})),this.watchlistQuoteIds=e.fullWatchlistQuoteIds||[],this.oneServiceData=e,this.cardType=j.ShowData,"zh-cn"===Object(A.c)().CurrentMarket&&(this.userSignedin=!1),this.multiTabQuoteItems=ct,this.isDataRefreshed=!1;let a=[];if(this.isEnableDynamicTabs(e)){a=this.getTabList(e)||[];const n=null===(t=a[0])||void 0===t?void 0:t.tabType;let o=(null===(s=null===(i=e.tabListDetails)||void 0===i?void 0:i[n])||void 0===s?void 0:s.quoteItems)||[];o=o.map(e=>Object.assign(Object.assign({},e),{quoteHref:this.getQuoteHref(e,!1,n==L.Watchlist),telemetryTags:this.telemetry.getQuoteItemLinkClickTelemetryTags(e.symbol,!1)})),this.multiTabQuoteItems[n]=o}else a=this.config.tabList||[],this.dataFrom===k.Watchlist?this.multiTabQuoteItems[L.Watchlist]=this.quoteItems:(this.multiTabQuoteItems[L.Market]=this.quoteItems,a=a.filter(e=>e.tabType!==L.Watchlist));const o=a.length>0?a[0]:void 0,r={userSignedIn:this.userSignedin,quoteItems:this.quoteItems,recommendQuoteItems:this.recommendQuoteItems,dataFrom:this.dataFrom,cardType:this.cardType,watchlistQuoteIds:this.watchlistQuoteIds,watchlistQuoteIdSet:new Set(this.watchlistQuoteIds),dataTimestamp:n,activeTab:o,tabList:a,multiTabQuoteItems:this.multiTabQuoteItems};this.updateState(r)}tryToShuffleQuoteItems(e){if(this.config.enableRandomShow&&e===ne.a.Size1Wx3H&&this.recommendQuoteItems){const e=this.getCurrentState().activeTab,t=this.multiTabQuoteItems[e.tabType];this.shuffleArray(t),this.shuffleArray(this.recommendQuoteItems),this.multiTabQuoteItems[L.Recommendation]=this.recommendQuoteItems,this.multiTabQuoteItems[e.tabType]=t;const i={multiTabQuoteItems:this.multiTabQuoteItems};this.updateState(i)}if(this.config.enableRandomShowRecommendation&&e===ne.a.Size1Wx3H&&this.recommendQuoteItems){this.shuffleArray(this.recommendQuoteItems),this.multiTabQuoteItems[L.Recommendation]=this.recommendQuoteItems;const e={multiTabQuoteItems:this.multiTabQuoteItems};this.updateState(e)}}tryToAddRecommendationTab(e,t,i,s,n){if(this.config.enableRecommendationTab&&e===L.Watchlist&&t>=i&&n>0){const e=s.find(e=>e.tabType===L.Watchlist);s.splice(1,0,{tabType:L.Recommendation,seeMoreLink:e.seeMoreLink,headerLink:e.headerLink})}return s}isEnableDynamicTabs(e){var t;if(e&&(null===(t=e.tabs)||void 0===t?void 0:t.length)>0){const t=this.getTabList(e);if((null==t?void 0:t.length)>0){const i=t[0].tabType,{tabListDetails:s}=e;if(s&&s[i]&&s[i].quoteItems){const e=s[i].quoteItems;return i==L.Watchlist||e.length>0}}}return!1}getTabList(e){const t=this.config.tabList||[];let i=e.tabs||[];i=i.filter(e=>t.some(t=>t.tabType===e));return i.map(e=>t.find(t=>t.tabType===e))}autoRetryAddToWatchlist(e){return Object(r.b)(this,void 0,void 0,(function*(){yield this.initFinanceServices();const t=e=>new Promise(t=>setTimeout(t,e));for(let i=0;i<4;i+=1){if(yield this.financeUserService.addToWatchlist(e))break;if((yield this.financeUserService.getWatchlist()).includes(e))break;yield t(500)}}))}getFirstTabType(){return this.getTabList(this.oneServiceData)[0].tabType}getFirstTabQuoteIds(){const e=this.getFirstTabType();return this.multiTabQuoteItems[e].map(e=>e.id)}getWatchlistQuoteIds(){var e,t;if((null===(e=this.multiTabQuoteItems[L.Watchlist])||void 0===e?void 0:e.length)>0){return this.multiTabQuoteItems[L.Watchlist].map(e=>e.id)}return(null===(t=this.oneServiceData.tabListDetails[L.Watchlist])||void 0===t?void 0:t.quoteIds)||[]}getRandomQuoteIds(e,t){if(this.config.enableRandomShow&&this.cardSize===ne.a.Size1Wx3H){const i=this.getCurrentState().activeTab.tabType;return i===e?this.multiTabQuoteItems[i].map(e=>e.id):this.shuffleArray(t)}return t}getQuoteIds_marketTab(e){var t,i,s;return this.config.enableDynamicTabs&&(null===(i=null===(t=this.oneServiceData.tabListDetails[L.Market])||void 0===t?void 0:t.quoteIds)||void 0===i?void 0:i.length)>0?this.oneServiceData.tabListDetails[L.Market].quoteIds:(null===(s=this.config.marketQuoteIds)||void 0===s?void 0:s.slice(0,e))||[]}getQuoteIds_currencyTab(e){var t,i,s;return this.config.enableDynamicTabs&&(null===(i=null===(t=this.oneServiceData.tabListDetails[L.Currencies])||void 0===t?void 0:t.quoteIds)||void 0===i?void 0:i.length)>0?this.oneServiceData.tabListDetails[L.Currencies].quoteIds:(null===(s=this.config.currencyQuoteIds)||void 0===s?void 0:s.slice(0,e))||[]}shuffleArray(e){let t,i=e.length;for(;0!==i;)t=Math.floor(Math.random()*i),i--,[e[i],e[t]]=[e[t],e[i]];return e}}var ut=i("05Au"),ht=i("5p4t");const gt={showChangeValue:!1};class mt{reduce(e,t){if(!e)return gt;if(!t)return e;let i,s=!1;return s=s||ut.a.handleAction(t,we.getQuoteAutoSuggestionsSuccess,(t,s)=>{i=Object.assign(Object.assign({},e),{searchSuggestions:t,showSuggestions:!s,noSuggestion:!1})}),s=s||ut.a.handleAction(t,we.getQuoteAutoSuggestionsFailure,t=>{i=Object.assign(Object.assign({},e),{searchSuggestions:[],showSuggestions:!t,noSuggestion:!0})}),s=s||ut.a.handleAction(t,ht.a.changeCardSize,t=>{e.cardSize!==t&&(i=Object.assign(Object.assign({},e),{cardSize:t}))}),s=s||ut.a.handleAction(t,we.quoteAddToWatchlist,t=>{const s=e.watchlistQuoteIdSet||new Set;if((null==t?void 0:t.length)>0&&!s.has(t)){let n=e.watchlistQuoteIds||[];n=[...n,t],s.add(t),i=Object.assign(Object.assign({},e),{watchlistQuoteIds:n,watchlistQuoteIdSet:s})}}),s=s||ut.a.handleAction(t,we.updateState,t=>{i=Object.assign(Object.assign({},e),t)}),i||e}}const pt=Object(s.a)(ee)(ye),bt={reactComponent:pt,experienceConfigSchema:o.MoneyInfoCardConfigSchema,defaultMockState:{},mockState:a.mockState,mockConfig:n.mockConfig,inspector:Le.inspect}},"p+1C":function(e,t){},zeXT:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("MF9s"),n=i("6u3Q"),a=i("6QMD");const o=Object(a.d)(e=>{const t=Object(s.W)(e),i=Object(n.a)(e),a=Object(s.v)(e),o=i+(Object(n.e)(e)?-1:1)*a;return Object(n.d)(o,t)})}}]);